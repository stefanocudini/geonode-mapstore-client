"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[66732],{283306:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(474848),i=r(273517),a=r(770491),s=r(223805),o=r.n(s),l=r(590179),c=r.n(l),d=r(636841);const u={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function m(e){var t,r,s;const{schema:l,idSchema:m,uiSchema:h,formData:p,errorSchema:f,idPrefix:y,idSeparator:g,name:x,onChange:S,onKeyChange:v,onDropPropertyClick:b,required:C,registry:F,wasPropertyKeyModified:k=!1}=e,{formContext:j,schemaUtils:D,globalUiOptions:A}=F,$=(0,a.$R)(h,A),w=(0,a.$F)("FieldTemplate",F,$),O=(0,a.$F)("DescriptionFieldTemplate",F,$),N=(0,a.$F)("FieldHelpTemplate",F,$),E=(0,a.$F)("FieldErrorTemplate",F,$),B=D.retrieveSchema(l,p),R=m[a.K0],T=(0,a.rL)(D.toIdSchema(B,R,p,y,g),m),I=(0,i.useCallback)((e,t,r)=>S(e,t,r||R),[R,S]),U=function(e,t,r,i){const s=t.field,{fields:o,translateString:l}=i;if("function"==typeof s)return s;if("string"==typeof s&&s in o)return o[s];const c=(0,a._I)(e),d=Array.isArray(c)?c[0]:c||"",m=e.$id;let h=u[d];return m&&m in o&&(h=m),h||!e.anyOf&&!e.oneOf?h in o?o[h]:()=>{const s=(0,a.$F)("UnsupportedFieldTemplate",i,t);return(0,n.jsx)(s,{schema:e,idSchema:r,reason:l(a.Zl.UnknownFieldType,[String(e.type)]),registry:i})}:()=>null}(B,$,T,F),P=Boolean(null!==(t=$.disabled)&&void 0!==t?t:e.disabled),q=Boolean(null!==(r=$.readonly)&&void 0!==r?r:e.readonly||e.schema.readOnly||B.readOnly),L=$.hideError,_=void 0===L?e.hideError:Boolean(L),M=Boolean(null!==(s=$.autofocus)&&void 0!==s?s:e.autofocus);if(0===Object.keys(B).length)return null;const V=D.getDisplayLabel(B,h,A),{__errors:W,...Z}=f||{},K=c()(h,["ui:classNames","classNames","ui:style"]);a.ce in K&&(K[a.ce]=c()(K[a.ce],["classNames","style"]));const z=(0,n.jsx)(U,{...e,onChange:I,idSchema:T,schema:B,uiSchema:K,disabled:P,readonly:q,hideError:_,autofocus:M,errorSchema:Z,formContext:j,rawErrors:W}),H=T[a.K0];let G;G=k||a.Rr in B?x:$.title||e.schema.title||B.title||e.title||x;const X=$.description||e.schema.description||B.description||"",J=$.enableMarkdownInDescription?(0,n.jsx)(d.Ay,{options:{disableParsingRawHTML:!0},children:X}):X,Q=$.help,Y="hidden"===$.widget,ee=["form-group","field",`field-${(0,a._I)(B)}`];!_&&W&&W.length>0&&ee.push("field-error has-error has-danger"),(null==h?void 0:h.classNames)&&ee.push(h.classNames),$.classNames&&ee.push($.classNames);const te=(0,n.jsx)(N,{help:Q,idSchema:T,schema:B,uiSchema:h,hasErrors:!_&&W&&W.length>0,registry:F}),re=_||(B.anyOf||B.oneOf)&&!D.isSelect(B)?void 0:(0,n.jsx)(E,{errors:W,errorSchema:f,idSchema:T,schema:B,uiSchema:h,registry:F}),ne={description:(0,n.jsx)(O,{id:(0,a.IR)(H),description:J,schema:B,uiSchema:h,registry:F}),rawDescription:X,help:te,rawHelp:"string"==typeof Q?Q:void 0,errors:re,rawErrors:_?void 0:W,id:H,label:G,hidden:Y,onChange:S,onKeyChange:v,onDropPropertyClick:b,required:C,disabled:P,readonly:q,hideError:_,displayLabel:V,classNames:ee.join(" ").trim(),style:$.style,formContext:j,formData:p,schema:B,uiSchema:h,registry:F},ie=F.fields.AnyOfField,ae=F.fields.OneOfField,se=(null==h?void 0:h["ui:field"])&&!0===(null==h?void 0:h["ui:fieldReplacesAnyOrOneOf"]);return(0,n.jsx)(w,{...ne,children:(0,n.jsxs)(n.Fragment,{children:[z,B.anyOf&&!se&&!D.isSelect(B)&&(0,n.jsx)(ie,{name:x,disabled:P,readonly:q,hideError:_,errorSchema:f,formData:p,formContext:j,idPrefix:y,idSchema:T,idSeparator:g,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:B.anyOf.map(e=>D.retrieveSchema(o()(e)?e:{},p)),registry:F,schema:B,uiSchema:h}),B.oneOf&&!se&&!D.isSelect(B)&&(0,n.jsx)(ae,{name:x,disabled:P,readonly:q,hideError:_,errorSchema:f,formData:p,formContext:j,idPrefix:y,idSchema:T,idSeparator:g,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:B.oneOf.map(e=>D.retrieveSchema(o()(e)?e:{},p)),registry:F,schema:B,uiSchema:h})]})})}class h extends i.Component{shouldComponentUpdate(e){return!(0,a.c2)(this.props,e)}render(){return(0,n.jsx)(m,{...this.props})}}const p=h},899703:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(474848),i=r(273517),a=r(770491);function s(e,t){return t?Array.from(e.target.options).slice().filter(e=>e.selected).map(e=>e.value):e.target.value}const o=function({schema:e,id:t,options:r,value:o,required:l,disabled:c,readonly:d,multiple:u=!1,autofocus:m=!1,onChange:h,onBlur:p,onFocus:f,placeholder:y}){const{enumOptions:g,enumDisabled:x,emptyValue:S}=r,v=u?[]:"",b=(0,i.useCallback)(e=>{const r=s(e,u);return f(t,(0,a.Od)(r,g,S))},[f,t,e,u,g,S]),C=(0,i.useCallback)(e=>{const r=s(e,u);return p(t,(0,a.Od)(r,g,S))},[p,t,e,u,g,S]),F=(0,i.useCallback)(e=>{const t=s(e,u);return h((0,a.Od)(t,g,S))},[h,e,u,g,S]),k=(0,a.Yu)(o,g,u),j=!u&&void 0===e.default;return(0,n.jsxs)("select",{id:t,name:t,multiple:u,className:"form-control",value:void 0===k?v:k,required:l,disabled:c||d,autoFocus:m,onBlur:C,onFocus:b,onChange:F,"aria-describedby":(0,a.eG)(t),children:[j&&(0,n.jsx)("option",{value:"",children:y}),Array.isArray(g)&&g.map(({value:e,label:t},r)=>{const i=x&&-1!==x.indexOf(e);return(0,n.jsx)("option",{value:String(r),disabled:i,children:t},r)})]})}},487581:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(474848),i=r(273517),a=r(770491);function s({id:e,options:t={},placeholder:r,value:s,required:o,disabled:l,readonly:c,autofocus:d=!1,onChange:u,onBlur:m,onFocus:h}){const p=(0,i.useCallback)(({target:{value:e}})=>u(""===e?t.emptyValue:e),[u,t.emptyValue]),f=(0,i.useCallback)(({target:t})=>m(e,t&&t.value),[m,e]),y=(0,i.useCallback)(({target:t})=>h(e,t&&t.value),[e,h]);return(0,n.jsx)("textarea",{id:e,name:e,className:"form-control",value:s||"",placeholder:r,required:o,disabled:l,readOnly:c,autoFocus:d,rows:t.rows,onBlur:f,onFocus:y,onChange:p,"aria-describedby":(0,a.eG)(e)})}s.defaultProps={autofocus:!1,options:{}};const o=s},466732:(e,t,r)=>{r.d(t,{Ay:()=>Ie});var n=r(474848),i=r(273517),a=r(770491),s=r(858156),o=r.n(s),l=r(962193),c=r.n(l),d=r(244383),u=r.n(d),m=r(342072),h=r.n(m),p=r(688055),f=r.n(p),y=r(223805),g=r.n(y),x=r(63560),S=r.n(x);function v(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))()}function b(e){return Array.isArray(e)?e.map(e=>({key:v(),item:e})):[]}function C(e){return Array.isArray(e)?e.map(e=>e.item):[]}class F extends i.Component{constructor(e){super(e),this._getNewFormDataRow=()=>{const{schema:e,registry:t}=this.props,{schemaUtils:r}=t;let n=e.items;return(0,a.nQ)(e)&&(0,a.Hh)(e)&&(n=e.additionalItems),r.getDefaultFormState(n)},this.onAddClick=e=>{this._handleAddClick(e)},this.onAddIndexClick=e=>t=>{this._handleAddClick(t,e)},this.onCopyIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:i}=this.state;let a;if(n){a={};for(const t in n){const r=parseInt(t);r<=e?S()(a,[r],n[t]):r>e&&S()(a,[r+1],n[t])}}const s={key:v(),item:f()(i[e].item)},o=[...i];void 0!==e?o.splice(e+1,0,s):o.push(s),this.setState({keyedFormData:o,updatedKeyedFormData:!0},()=>r(C(o),a))},this.onDropIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:i}=this.state;let a;if(n){a={};for(const t in n){const r=parseInt(t);r<e?S()(a,[r],n[t]):r>e&&S()(a,[r-1],n[t])}}const s=i.filter((t,r)=>r!==e);this.setState({keyedFormData:s,updatedKeyedFormData:!0},()=>r(C(s),a))},this.onReorderClick=(e,t)=>r=>{r&&(r.preventDefault(),r.currentTarget.blur());const{onChange:n,errorSchema:i}=this.props;let a;if(i){a={};for(const r in i){const n=parseInt(r);n==e?S()(a,[t],i[e]):n==t?S()(a,[e],i[t]):S()(a,[r],i[n])}}const{keyedFormData:s}=this.state,o=function(){const r=s.slice();return r.splice(e,1),r.splice(t,0,s[e]),r}();this.setState({keyedFormData:o},()=>n(C(o),a))},this.onChangeForIndex=e=>(t,r,n)=>{const{formData:i,onChange:a,errorSchema:s}=this.props;a((Array.isArray(i)?i:[]).map((r,n)=>e===n?void 0===t?null:t:r),s&&s&&{...s,[e]:r},n)},this.onSelectChange=e=>{const{onChange:t,idSchema:r}=this.props;t(e,void 0,r&&r.$id)};const{formData:t=[]}=e,r=b(t);this.state={keyedFormData:r,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,t){if(t.updatedKeyedFormData)return{updatedKeyedFormData:!1};const r=Array.isArray(e.formData)?e.formData:[],n=t.keyedFormData||[];return{keyedFormData:r.length===n.length?n.map((e,t)=>({key:e.key,item:r[t]})):b(r)}}get itemTitle(){const{schema:e,registry:t}=this.props,{translateString:r}=t;return o()(e,[a.ZN,"title"],o()(e,[a.ZN,"description"],r(a.Zl.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type}canAddItem(e){const{schema:t,uiSchema:r,registry:n}=this.props;let{addable:i}=(0,a.$R)(r,n.globalUiOptions);return!1!==i&&(i=void 0===t.maxItems||e.length<t.maxItems),i}_handleAddClick(e,t){e&&e.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:i}=this.state;let a;if(n){a={};for(const e in n){const r=parseInt(e);void 0===t||r<t?S()(a,[r],n[e]):r>=t&&S()(a,[r+1],n[e])}}const s={key:v(),item:this._getNewFormDataRow()},o=[...i];void 0!==t?o.splice(t,0,s):o.push(s),this.setState({keyedFormData:o,updatedKeyedFormData:!0},()=>r(C(o),a))}render(){const{schema:e,uiSchema:t,idSchema:r,registry:i}=this.props,{schemaUtils:s,translateString:o}=i;if(!(a.ZN in e)){const s=(0,a.$R)(t),l=(0,a.$F)("UnsupportedFieldTemplate",i,s);return(0,n.jsx)(l,{schema:e,idSchema:r,reason:o(a.Zl.MissingItems),registry:i})}return s.isMultiSelect(e)?this.renderMultiSelect():(0,a.ar)(t)?this.renderCustomWidget():(0,a.nQ)(e)?this.renderFixedArray():s.isFilesArray(e,t)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:t={},errorSchema:r,idSchema:i,name:s,title:o,disabled:l=!1,readonly:c=!1,autofocus:d=!1,required:u=!1,registry:m,onBlur:h,onFocus:p,idPrefix:f,idSeparator:y="_",rawErrors:x}=this.props,{keyedFormData:S}=this.state,v=e.title||o||s,{schemaUtils:b,formContext:F}=m,k=(0,a.$R)(t),j=g()(e.items)?e.items:{},D=b.retrieveSchema(j),A=C(this.state.keyedFormData),$=this.canAddItem(A),w={canAdd:$,items:S.map((e,n)=>{const{key:a,item:o}=e,l=o,c=b.retrieveSchema(j,l),u=r?r[n]:void 0,m=i.$id+y+n,g=b.toIdSchema(c,m,l,f,y);return this.renderArrayFieldItem({key:a,index:n,name:s&&`${s}-${n}`,title:v?`${v}-${n+1}`:void 0,canAdd:$,canMoveUp:n>0,canMoveDown:n<A.length-1,itemSchema:c,itemIdSchema:g,itemErrorSchema:u,itemData:l,itemUiSchema:t.items,autofocus:d&&0===n,onBlur:h,onFocus:p,rawErrors:x,totalItems:S.length})}),className:`field field-array field-array-of-${D.type}`,disabled:l,idSchema:i,uiSchema:t,onAddClick:this.onAddClick,readonly:c,required:u,schema:e,title:v,formContext:F,formData:A,rawErrors:x,registry:m},O=(0,a.$F)("ArrayFieldTemplate",m,k);return(0,n.jsx)(O,{...w})}renderCustomWidget(){var e;const{schema:t,idSchema:r,uiSchema:i,disabled:s=!1,readonly:o=!1,autofocus:l=!1,required:c=!1,hideError:d,placeholder:u,onBlur:m,onFocus:h,formData:p=[],registry:f,rawErrors:y,name:g}=this.props,{widgets:x,formContext:S,globalUiOptions:v,schemaUtils:b}=f,{widget:C,title:F,...k}=(0,a.$R)(i,v),j=(0,a.Bt)(t,C,x),D=null!==(e=null!=F?F:t.title)&&void 0!==e?e:g,A=b.getDisplayLabel(t,i,v);return(0,n.jsx)(j,{id:r.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:h,options:k,schema:t,uiSchema:i,registry:f,value:p,disabled:s,readonly:o,hideError:d,required:c,label:D,hideLabel:!A,placeholder:u,formContext:S,autofocus:l,rawErrors:y})}renderMultiSelect(){var e;const{schema:t,idSchema:r,uiSchema:i,formData:s=[],disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,placeholder:u,onBlur:m,onFocus:h,registry:p,rawErrors:f,name:y}=this.props,{widgets:g,schemaUtils:x,formContext:S,globalUiOptions:v}=p,b=x.retrieveSchema(t.items,s),C=(0,a.f9)(b),{widget:F="select",title:k,...j}=(0,a.$R)(i,v),D=(0,a.Bt)(t,F,g),A=null!==(e=null!=k?k:t.title)&&void 0!==e?e:y,$=x.getDisplayLabel(t,i,v);return(0,n.jsx)(D,{id:r.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:h,options:{...j,enumOptions:C},schema:t,uiSchema:i,registry:p,value:s,disabled:o,readonly:l,required:d,label:A,hideLabel:!$,placeholder:u,formContext:S,autofocus:c,rawErrors:f})}renderFiles(){var e;const{schema:t,uiSchema:r,idSchema:i,name:s,disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,onBlur:u,onFocus:m,registry:h,formData:p=[],rawErrors:f}=this.props,{widgets:y,formContext:g,globalUiOptions:x,schemaUtils:S}=h,{widget:v="files",title:b,...C}=(0,a.$R)(r,x),F=(0,a.Bt)(t,v,y),k=null!==(e=null!=b?b:t.title)&&void 0!==e?e:s,j=S.getDisplayLabel(t,r,x);return(0,n.jsx)(F,{options:C,id:i.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:m,schema:t,uiSchema:r,value:p,disabled:o,readonly:l,required:d,registry:h,formContext:g,autofocus:c,rawErrors:f,label:k,hideLabel:!j})}renderFixedArray(){const{schema:e,uiSchema:t={},formData:r=[],errorSchema:i,idPrefix:s,idSeparator:o="_",idSchema:l,name:c,title:d,disabled:u=!1,readonly:m=!1,autofocus:h=!1,required:p=!1,registry:f,onBlur:y,onFocus:x,rawErrors:S}=this.props,{keyedFormData:v}=this.state;let{formData:b=[]}=this.props;const C=e.title||d||c,F=(0,a.$R)(t),{schemaUtils:k,formContext:j}=f,D=(g()(e.items)?e.items:[]).map((e,t)=>k.retrieveSchema(e,r[t])),A=g()(e.additionalItems)?k.retrieveSchema(e.additionalItems,r):null;(!b||b.length<D.length)&&(b=b||[],b=b.concat(new Array(D.length-b.length)));const $=this.canAddItem(b)&&!!A,w={canAdd:$,className:"field field-array field-array-fixed-items",disabled:u,idSchema:l,formData:r,items:v.map((r,n)=>{const{key:a,item:d}=r,u=d,m=n>=D.length,p=(m&&g()(e.additionalItems)?k.retrieveSchema(e.additionalItems,u):D[n])||{},f=l.$id+o+n,F=k.toIdSchema(p,f,u,s,o),j=m?t.additionalItems||{}:Array.isArray(t.items)?t.items[n]:t.items||{},A=i?i[n]:void 0;return this.renderArrayFieldItem({key:a,index:n,name:c&&`${c}-${n}`,title:C?`${C}-${n+1}`:void 0,canAdd:$,canRemove:m,canMoveUp:n>=D.length+1,canMoveDown:m&&n<b.length-1,itemSchema:p,itemData:u,itemUiSchema:j,itemIdSchema:F,itemErrorSchema:A,autofocus:h&&0===n,onBlur:y,onFocus:x,rawErrors:S,totalItems:v.length})}),onAddClick:this.onAddClick,readonly:m,required:p,registry:f,schema:e,uiSchema:t,title:C,formContext:j,errorSchema:i,rawErrors:S},O=(0,a.$F)("ArrayFieldTemplate",f,F);return(0,n.jsx)(O,{...w})}renderArrayFieldItem(e){const{key:t,index:r,name:i,canAdd:s,canRemove:o=!0,canMoveUp:l,canMoveDown:c,itemSchema:d,itemData:u,itemUiSchema:m,itemIdSchema:h,itemErrorSchema:p,autofocus:f,onBlur:y,onFocus:g,rawErrors:x,totalItems:S,title:v}=e,{disabled:b,hideError:C,idPrefix:F,idSeparator:k,readonly:j,uiSchema:D,registry:A,formContext:$}=this.props,{fields:{ArraySchemaField:w,SchemaField:O},globalUiOptions:N}=A,E=w||O,{orderable:B=!0,removable:R=!0,copyable:T=!1}=(0,a.$R)(D,N),I={moveUp:B&&l,moveDown:B&&c,copy:T&&s,remove:R&&o,toolbar:!1};return I.toolbar=Object.keys(I).some(e=>I[e]),{children:(0,n.jsx)(E,{name:i,title:v,index:r,schema:d,uiSchema:m,formData:u,formContext:$,errorSchema:p,idPrefix:F,idSeparator:k,idSchema:h,required:this.isItemRequired(d),onChange:this.onChangeForIndex(r),onBlur:y,onFocus:g,registry:A,disabled:b,readonly:j,hideError:C,autofocus:f,rawErrors:x}),className:"array-item",disabled:b,canAdd:s,hasCopy:I.copy,hasToolbar:I.toolbar,hasMoveUp:I.moveUp,hasMoveDown:I.moveDown,hasRemove:I.remove,index:r,totalItems:S,key:t,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:j,registry:A,schema:d,uiSchema:m}}}const k=F,j=function(e){var t,r,i;const{schema:s,name:o,uiSchema:l,idSchema:c,formData:d,registry:u,required:m,disabled:h,readonly:p,hideError:f,autofocus:y,title:x,onChange:S,onFocus:v,onBlur:b,rawErrors:C}=e,{title:F}=s,{widgets:k,formContext:j,translateString:D,globalUiOptions:A}=u,{widget:$="checkbox",title:w,label:O=!0,...N}=(0,a.$R)(l,A),E=(0,a.Bt)(s,$,k),B=D(a.Zl.YesLabel),R=D(a.Zl.NoLabel);let T;const I=null!==(r=null!==(t=null!=w?w:F)&&void 0!==t?t:x)&&void 0!==r?r:o;if(Array.isArray(s.oneOf))T=(0,a.f9)({oneOf:s.oneOf.map(e=>{if(g()(e))return{...e,title:e.title||(!0===e.const?B:R)}}).filter(e=>e)});else{const e=s,t=null!==(i=s.enum)&&void 0!==i?i:[!0,!1];T=!e.enumNames&&2===t.length&&t.every(e=>"boolean"==typeof e)?[{value:t[0],label:t[0]?B:R},{value:t[1],label:t[1]?B:R}]:(0,a.f9)({enum:t,enumNames:e.enumNames})}return(0,n.jsx)(E,{options:{...N,enumOptions:T},schema:s,uiSchema:l,id:c.$id,name:o,onChange:S,onFocus:v,onBlur:b,label:I,hideLabel:!O,value:d,required:m,disabled:h,readonly:p,hideError:f,registry:u,formContext:j,autofocus:y,rawErrors:C})};var D=r(590179),A=r.n(D);class $ extends i.Component{constructor(e){super(e),this.onOptionChange=e=>{const{selectedOption:t,retrievedOptions:r}=this.state,{formData:n,onChange:i,registry:a}=this.props,{schemaUtils:s}=a,o=void 0!==e?parseInt(e,10):-1;if(o===t)return;const l=o>=0?r[o]:void 0,c=t>=0?r[t]:void 0;let d=s.sanitizeDataForNewSchema(l,c,n);d&&l&&(d=s.getDefaultFormState(l,d,"excludeObjectChildren")),i(d,void 0,this.getFieldId()),this.setState({selectedOption:o})};const{formData:t,options:r,registry:{schemaUtils:n}}=this.props,i=r.map(e=>n.retrieveSchema(e,t));this.state={retrievedOptions:i,selectedOption:this.getMatchingOption(0,t,i)}}componentDidUpdate(e,t){const{formData:r,options:n,idSchema:i}=this.props,{selectedOption:s}=this.state;let o=this.state;if(!(0,a.c2)(e.options,n)){const{registry:{schemaUtils:e}}=this.props;o={selectedOption:s,retrievedOptions:n.map(t=>e.retrieveSchema(t,r))}}if(!(0,a.c2)(r,e.formData)&&i.$id===e.idSchema.$id){const{retrievedOptions:e}=o,n=this.getMatchingOption(s,r,e);t&&n!==s&&(o={selectedOption:n,retrievedOptions:e})}o!==this.state&&this.setState(o)}getMatchingOption(e,t,r){const{schema:n,registry:{schemaUtils:i}}=this.props,s=(0,a.KU)(n);return i.getClosestMatchingOption(t,r,e,s)}getFieldId(){const{idSchema:e,schema:t}=this.props;return`${e.$id}${t.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:t=!1,errorSchema:r={},formContext:i,onBlur:s,onFocus:l,registry:d,schema:u,uiSchema:m}=this.props,{widgets:h,fields:p,translateString:f,globalUiOptions:y,schemaUtils:g}=d,{SchemaField:x}=p,{selectedOption:S,retrievedOptions:v}=this.state,{widget:b="select",placeholder:C,autofocus:F,autocomplete:k,title:j=u.title,...D}=(0,a.$R)(m,y),$=(0,a.Bt)({type:"number"},b,h),w=o()(r,a.s2,[]),O=A()(r,[a.s2]),N=g.getDisplayLabel(u,m,y),E=S>=0&&v[S]||null;let B;if(E){const{required:e}=u;B=e?(0,a.dW)({required:e},E):E}let R=[];a.Ru in u&&m&&a.Ru in m?Array.isArray(m[a.Ru])?R=m[a.Ru]:console.warn(`uiSchema.oneOf is not an array for "${j||e}"`):a.Xo in u&&m&&a.Xo in m&&(Array.isArray(m[a.Xo])?R=m[a.Xo]:console.warn(`uiSchema.anyOf is not an array for "${j||e}"`));let T=m;S>=0&&R.length>S&&(T=R[S]);const I=j?a.Zl.TitleOptionPrefix:a.Zl.OptionPrefix,U=j?[j]:[],P=v.map((e,t)=>{const{title:r=e.title}=(0,a.$R)(R[t]);return{label:r||f(I,U.concat(String(t+1))),value:t}});return(0,n.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)($,{id:this.getFieldId(),name:`${e}${u.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:l,disabled:t||c()(P),multiple:!1,rawErrors:w,errorSchema:O,value:S>=0?S:void 0,options:{enumOptions:P,...D},registry:d,formContext:i,placeholder:C,autocomplete:k,autofocus:F,label:null!=j?j:e,hideLabel:!N})}),B&&(0,n.jsx)(x,{...this.props,schema:B,uiSchema:T})]})}}const w=$,O=/\.([0-9]*0)*$/,N=/[0.]0*$/,E=function(e){const{registry:t,onChange:r,formData:s,value:o}=e,[l,c]=(0,i.useState)(o),{StringField:d}=t.fields;let u=s;const m=(0,i.useCallback)(e=>{c(e),"."===`${e}`.charAt(0)&&(e=`0${e}`);const t="string"==typeof e&&e.match(O)?(0,a.i)(e.replace(N,"")):(0,a.i)(e);r(t)},[r]);if("string"==typeof l&&"number"==typeof u){const e=new RegExp(`^(${String(u).replace(".","\\.")})?\\.?0*$`);l.match(e)&&(u=l)}return(0,n.jsx)(d,{...e,formData:u,onChange:m})};var B=r(636841),R=r(761448),T=r.n(R),I=r(273357),U=r.n(I);class P extends i.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(e,t=!1)=>(r,n,i)=>{const{formData:a,onChange:s,errorSchema:o}=this.props;void 0===r&&t&&(r=""),s({...a,[e]:r},o&&o&&{...o,[e]:n},i)},this.onDropPropertyClick=e=>t=>{t.preventDefault();const{onChange:r,formData:n}=this.props,i={...n};U()(i,e),r(i)},this.getAvailableKey=(e,t)=>{const{uiSchema:r,registry:n}=this.props,{duplicateKeySuffixSeparator:i="-"}=(0,a.$R)(r,n.globalUiOptions);let s=0,o=e;for(;T()(t,o);)o=`${e}${i}${++s}`;return o},this.onKeyChange=e=>(t,r)=>{if(e===t)return;const{formData:n,onChange:i,errorSchema:a}=this.props;t=this.getAvailableKey(t,n);const s={...n},o={[e]:t},l=Object.keys(s).map(e=>{const t=o[e]||e;return{[t]:s[e]}}),c=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),i(c,a&&a&&{...a,[t]:r})},this.handleAddClick=e=>()=>{if(!e.additionalProperties)return;const{formData:t,onChange:r,registry:n}=this.props,i={...t};let s,o;if(g()(e.additionalProperties)){s=e.additionalProperties.type,o=e.additionalProperties.default;let r=e.additionalProperties;if(a.Es in r){const{schemaUtils:e}=n;r=e.retrieveSchema({$ref:r[a.Es]},t),s=r.type,o=r.default}s||!(a.Xo in r)&&!(a.Ru in r)||(s="object")}const l=this.getAvailableKey("newKey",i);S()(i,l,null!=o?o:this.getDefaultValue(s)),r(i)}}isRequired(e){const{schema:t}=this.props;return Array.isArray(t.required)&&-1!==t.required.indexOf(e)}getDefaultValue(e){const{registry:{translateString:t}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return t(a.Zl.NewStringDefault)}}render(){var e,t,r,i;const{schema:s,uiSchema:l={},formData:c,errorSchema:d,idSchema:u,name:m,required:h=!1,disabled:p,readonly:f,hideError:y,idPrefix:g,idSeparator:x,onBlur:S,onFocus:v,registry:b,title:C}=this.props,{fields:F,formContext:k,schemaUtils:j,translateString:D,globalUiOptions:A}=b,{SchemaField:$}=F,w=j.retrieveSchema(s,c),O=(0,a.$R)(l,A),{properties:N={}}=w,E=null!==(r=null!==(t=null!==(e=O.title)&&void 0!==e?e:w.title)&&void 0!==t?t:C)&&void 0!==r?r:m,R=null!==(i=O.description)&&void 0!==i?i:w.description;let I;try{const e=Object.keys(N);I=(0,a.UI)(e,O.order)}catch(e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,n.jsx)(B.Ay,{options:{disableParsingRawHTML:!0},children:D(a.Zl.InvalidObjectField,[m||"root",e.message])})}),(0,n.jsx)("pre",{children:JSON.stringify(w)})]})}const U=(0,a.$F)("ObjectFieldTemplate",b,O),P={title:!1===O.label?"":E,description:!1===O.label?void 0:R,properties:I.map(e=>{const t=T()(w,[a.s1,e,a.Rr]),r=t?l.additionalProperties:l[e],i="hidden"===(0,a.$R)(r).widget,s=o()(u,[e],{});return{content:(0,n.jsx)($,{name:e,required:this.isRequired(e),schema:o()(w,[a.s1,e],{}),uiSchema:r,errorSchema:o()(d,e),idSchema:s,idPrefix:g,idSeparator:x,formData:o()(c,e),formContext:k,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(e),onChange:this.onPropertyChange(e,t),onBlur:S,onFocus:v,registry:b,disabled:p,readonly:f,hideError:y,onDropPropertyClick:this.onDropPropertyClick},e),name:e,readonly:f,disabled:p,required:h,hidden:i}}),readonly:f,disabled:p,required:h,idSchema:u,uiSchema:l,errorSchema:d,schema:w,formData:c,formContext:k,registry:b};return(0,n.jsx)(U,{...P,onAddClick:this.handleAddClick})}}const q=P;var L=r(283306);const _=function(e){var t;const{schema:r,name:i,uiSchema:s,idSchema:o,formData:l,required:c,disabled:d=!1,readonly:u=!1,autofocus:m=!1,onChange:h,onBlur:p,onFocus:f,registry:y,rawErrors:g,hideError:x}=e,{title:S,format:v}=r,{widgets:b,formContext:C,schemaUtils:F,globalUiOptions:k}=y,j=F.isSelect(r)?(0,a.f9)(r):void 0;let D=j?"select":"text";v&&(0,a.Lw)(r,v,b)&&(D=v);const{widget:A=D,placeholder:$="",title:w,...O}=(0,a.$R)(s),N=F.getDisplayLabel(r,s,k),E=null!==(t=null!=w?w:S)&&void 0!==t?t:i,B=(0,a.Bt)(r,A,b);return(0,n.jsx)(B,{options:{...O,enumOptions:j},schema:r,uiSchema:s,id:o.$id,name:i,label:E,hideLabel:!N,hideError:x,value:l,onChange:h,onBlur:p,onFocus:f,required:c,disabled:d,readonly:u,formContext:C,autofocus:m,registry:y,placeholder:$,rawErrors:g})},M=function(e){const{formData:t,onChange:r}=e;return(0,i.useEffect)(()=>{void 0===t&&r(null)},[t,r]),null};function V(e){const{idSchema:t,description:r,registry:i,schema:s,uiSchema:o}=e,l=(0,a.$R)(o,i.globalUiOptions),{label:c=!0}=l;if(!r||!c)return null;const d=(0,a.$F)("DescriptionFieldTemplate",i,l);return(0,n.jsx)(d,{id:(0,a.IR)(t),description:r,schema:s,uiSchema:o,registry:i})}function W(e){const{children:t,className:r,disabled:i,hasToolbar:a,hasMoveDown:s,hasMoveUp:o,hasRemove:l,hasCopy:c,index:d,onCopyIndexClick:u,onDropIndexClick:m,onReorderClick:h,readonly:p,registry:f,uiSchema:y}=e,{CopyButton:g,MoveDownButton:x,MoveUpButton:S,RemoveButton:v}=f.templates.ButtonTemplates,b={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("div",{className:a?"col-xs-9":"col-xs-12",children:t}),a&&(0,n.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,n.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||s)&&(0,n.jsx)(S,{style:b,disabled:i||p||!o,onClick:h(d,d-1),uiSchema:y,registry:f}),(o||s)&&(0,n.jsx)(x,{style:b,disabled:i||p||!s,onClick:h(d,d+1),uiSchema:y,registry:f}),c&&(0,n.jsx)(g,{style:b,disabled:i||p,onClick:u(d),uiSchema:y,registry:f}),l&&(0,n.jsx)(v,{style:b,disabled:i||p,onClick:m(d),uiSchema:y,registry:f})]})})]})}function Z(e){const{canAdd:t,className:r,disabled:i,idSchema:s,uiSchema:o,items:l,onAddClick:c,readonly:d,registry:u,required:m,schema:h,title:p}=e,f=(0,a.$R)(o),y=(0,a.$F)("ArrayFieldDescriptionTemplate",u,f),g=(0,a.$F)("ArrayFieldItemTemplate",u,f),x=(0,a.$F)("ArrayFieldTitleTemplate",u,f),{ButtonTemplates:{AddButton:S}}=u.templates;return(0,n.jsxs)("fieldset",{className:r,id:s.$id,children:[(0,n.jsx)(x,{idSchema:s,title:f.title||p,required:m,schema:h,uiSchema:o,registry:u}),(0,n.jsx)(y,{idSchema:s,description:f.description||h.description,schema:h,uiSchema:o,registry:u}),(0,n.jsx)("div",{className:"row array-item-list",children:l&&l.map(({key:e,...t})=>(0,n.jsx)(g,{...t},e))}),t&&(0,n.jsx)(S,{className:"array-item-add",onClick:c,disabled:i||d,uiSchema:o,registry:u})]})}function K(e){const{idSchema:t,title:r,schema:i,uiSchema:s,required:o,registry:l}=e,c=(0,a.$R)(s,l.globalUiOptions),{label:d=!0}=c;if(!r||!d)return null;const u=(0,a.$F)("TitleFieldTemplate",l,c);return(0,n.jsx)(u,{id:(0,a.EH)(t),title:r,required:o,schema:i,uiSchema:s,registry:l})}function z(e){const{id:t,name:r,value:s,readonly:o,disabled:l,autofocus:c,onBlur:d,onFocus:u,onChange:m,onChangeOverride:h,options:p,schema:f,uiSchema:y,formContext:g,registry:x,rawErrors:S,type:v,hideLabel:b,hideError:C,...F}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const k={...F,...(0,a.ti)(f,v,p)};let j;j="number"===k.type||"integer"===k.type?s||0===s?s:"":null==s?"":s;const D=(0,i.useCallback)(({target:{value:e}})=>m(""===e?p.emptyValue:e),[m,p]),A=(0,i.useCallback)(({target:e})=>d(t,e&&e.value),[d,t]),$=(0,i.useCallback)(({target:e})=>u(t,e&&e.value),[u,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{id:t,name:t,className:"form-control",readOnly:o,disabled:l,autoFocus:c,value:j,...k,list:f.examples?(0,a.$c)(t):void 0,onChange:h||D,onBlur:A,onFocus:$,"aria-describedby":(0,a.eG)(t,!!f.examples)}),Array.isArray(f.examples)&&(0,n.jsx)("datalist",{id:(0,a.$c)(t),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(e=>(0,n.jsx)("option",{value:e},e))},`datalist_${t}`)]})}function H({uiSchema:e}){const{submitText:t,norender:r,props:i={}}=(0,a.Bj)(e);return r?null:(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",...i,className:`btn btn-info ${i.className||""}`,children:t})})}function G(e){const{iconType:t="default",icon:r,className:i,uiSchema:a,registry:s,...o}=e;return(0,n.jsx)("button",{type:"button",className:`btn btn-${t} ${i}`,...o,children:(0,n.jsx)("i",{className:`glyphicon glyphicon-${r}`})})}function X(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(a.Zl.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function J(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(a.Zl.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function Q(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(a.Zl.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function Y(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(a.Zl.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function ee({className:e,onClick:t,disabled:r,registry:i}){const{translateString:s}=i;return(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:(0,n.jsx)(G,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(a.Zl.AddButton),onClick:t,disabled:r,registry:i})})})}function te(e){const{id:t,description:r}=e;return r?"string"==typeof r?(0,n.jsx)("p",{id:t,className:"field-description",children:r}):(0,n.jsx)("div",{id:t,className:"field-description",children:r}):null}function re({errors:e,registry:t}){const{translateString:r}=t;return(0,n.jsxs)("div",{className:"panel panel-danger errors",children:[(0,n.jsx)("div",{className:"panel-heading",children:(0,n.jsx)("h3",{className:"panel-title",children:r(a.Zl.ErrorsLabel)})}),(0,n.jsx)("ul",{className:"list-group",children:e.map((e,t)=>(0,n.jsx)("li",{className:"list-group-item text-danger",children:e.stack},t))})]})}function ne(e){const{label:t,required:r,id:i}=e;return t?(0,n.jsxs)("label",{className:"control-label",htmlFor:i,children:[t,r&&(0,n.jsx)("span",{className:"required",children:"*"})]}):null}const ie=function(e){const{id:t,label:r,children:i,errors:s,help:o,description:l,hidden:c,required:d,displayLabel:u,registry:m,uiSchema:h}=e,p=(0,a.$R)(h),f=(0,a.$F)("WrapIfAdditionalTemplate",m,p);return c?(0,n.jsx)("div",{className:"hidden",children:i}):(0,n.jsxs)(f,{...e,children:[u&&(0,n.jsx)(ne,{label:r,required:d,id:t}),u&&l?l:null,i,s,o]})};function ae(e){const{errors:t=[],idSchema:r}=e;if(0===t.length)return null;const i=(0,a.rD)(r);return(0,n.jsx)("div",{children:(0,n.jsx)("ul",{id:i,className:"error-detail bs-callout bs-callout-info",children:t.filter(e=>!!e).map((e,t)=>(0,n.jsx)("li",{className:"text-danger",children:e},t))})})}function se(e){const{idSchema:t,help:r}=e;if(!r)return null;const i=(0,a.F5)(t);return"string"==typeof r?(0,n.jsx)("p",{id:i,className:"help-block",children:r}):(0,n.jsx)("div",{id:i,className:"help-block",children:r})}function oe(e){const{description:t,disabled:r,formData:i,idSchema:s,onAddClick:o,properties:l,readonly:c,registry:d,required:u,schema:m,title:h,uiSchema:p}=e,f=(0,a.$R)(p),y=(0,a.$F)("TitleFieldTemplate",d,f),g=(0,a.$F)("DescriptionFieldTemplate",d,f),{ButtonTemplates:{AddButton:x}}=d.templates;return(0,n.jsxs)("fieldset",{id:s.$id,children:[h&&(0,n.jsx)(y,{id:(0,a.EH)(s),title:h,required:u,schema:m,uiSchema:p,registry:d}),t&&(0,n.jsx)(g,{id:(0,a.IR)(s),description:t,schema:m,uiSchema:p,registry:d}),l.map(e=>e.content),(0,a.Xl)(m,p,i)&&(0,n.jsx)(x,{className:"object-property-expand",onClick:o(m),disabled:r||c,uiSchema:p,registry:d})]})}function le(e){const{id:t,title:r,required:i}=e;return(0,n.jsxs)("legend",{id:t,children:[r,i&&(0,n.jsx)("span",{className:"required",children:"*"})]})}const ce=function(e){const{schema:t,idSchema:r,reason:i,registry:s}=e,{translateString:o}=s;let l=a.Zl.UnsupportedField;const c=[];return r&&r.$id&&(l=a.Zl.UnsupportedFieldWithId,c.push(r.$id)),i&&(l=l===a.Zl.UnsupportedField?a.Zl.UnsupportedFieldWithReason:a.Zl.UnsupportedFieldWithIdAndReason,c.push(i)),(0,n.jsxs)("div",{className:"unsupported-field",children:[(0,n.jsx)("p",{children:(0,n.jsx)(B.Ay,{options:{disableParsingRawHTML:!0},children:o(l,c)})}),t&&(0,n.jsx)("pre",{children:JSON.stringify(t,null,2)})]})};function de(e){const{id:t,classNames:r,style:i,disabled:s,label:o,onKeyChange:l,onDropPropertyClick:c,readonly:d,required:u,schema:m,children:h,uiSchema:p,registry:f}=e,{templates:y,translateString:g}=f,{RemoveButton:x}=y.ButtonTemplates,S=g(a.Zl.KeyLabel,[o]);return a.Rr in m?(0,n.jsx)("div",{className:r,style:i,children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-xs-5 form-additional",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)(ne,{label:S,required:u,id:`${t}-key`}),(0,n.jsx)("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:e})=>l(e&&e.value),defaultValue:o})]})}),(0,n.jsx)("div",{className:"form-additional form-group col-xs-5",children:h}),(0,n.jsx)("div",{className:"col-xs-2",children:(0,n.jsx)(x,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||d,onClick:c(o),uiSchema:p,registry:f})})]})}):(0,n.jsx)("div",{className:r,style:i,children:h})}function ue({type:e,range:t,value:r,select:i,rootId:s,name:o,disabled:l,readonly:c,autofocus:d,registry:u,onBlur:m,onFocus:h}){const p=s+"_"+e,{SelectWidget:f}=u.widgets;return(0,n.jsx)(f,{schema:{type:"integer"},id:p,name:o,className:"form-control",options:{enumOptions:(0,a.wl)(t[0],t[1])},placeholder:e,value:r,disabled:l,readonly:c,autofocus:d,onChange:t=>i(e,t),onBlur:m,onFocus:h,registry:u,label:"","aria-describedby":(0,a.eG)(s)})}const me=function({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:s=!1,options:o,id:l,name:c,registry:d,onBlur:u,onFocus:m,onChange:h,value:p}){const{translateString:f}=d,[y,g]=(0,i.useState)(p),[x,S]=(0,i.useReducer)((e,t)=>({...e,...t}),(0,a.Rm)(p,e));(0,i.useEffect)(()=>{const t=(0,a.HN)(x,e);!function(e){return Object.values(e).every(e=>-1!==e)}(x)||t===p?y!==p&&(g(p),S((0,a.Rm)(p,e))):h(t)},[e,p,h,x,y]);const v=(0,i.useCallback)((e,t)=>{S({[e]:t})},[]),b=(0,i.useCallback)(n=>{if(n.preventDefault(),t||r)return;const i=(0,a.Rm)((new Date).toJSON(),e);h((0,a.HN)(i,e))},[t,r,e]),C=(0,i.useCallback)(e=>{e.preventDefault(),t||r||h(void 0)},[t,r,h]);return(0,n.jsxs)("ul",{className:"list-inline",children:[(0,a.dO)(x,e,o.yearsRange,o.format).map((e,i)=>(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)(ue,{rootId:l,name:c,select:v,...e,disabled:t,readonly:r,registry:d,onBlur:u,onFocus:m,autofocus:s&&0===i})},i)),("undefined"===o.hideNowButton||!o.hideNowButton)&&(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:b,children:f(a.Zl.NowLabel)})}),("undefined"===o.hideClearButton||!o.hideClearButton)&&(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:C,children:f(a.Zl.ClearLabel)})})]})},he=function({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return(0,n.jsx)(r,{time:e,...t})},pe=function({schema:e,uiSchema:t,options:r,id:s,value:o,disabled:l,readonly:c,label:d,hideLabel:u,autofocus:m=!1,onBlur:h,onFocus:p,onChange:f,registry:y}){var g;const x=(0,a.$F)("DescriptionFieldTemplate",y,r),S=(0,a.l1)(e),v=(0,i.useCallback)(e=>f(e.target.checked),[f]),b=(0,i.useCallback)(e=>h(s,e.target.checked),[h,s]),C=(0,i.useCallback)(e=>p(s,e.target.checked),[p,s]),F=null!==(g=r.description)&&void 0!==g?g:e.description;return(0,n.jsxs)("div",{className:"checkbox "+(l||c?"disabled":""),children:[!u&&!!F&&(0,n.jsx)(x,{id:(0,a.IR)(s),description:F,schema:e,uiSchema:t,registry:y}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",id:s,name:s,checked:void 0!==o&&o,required:S,disabled:l||c,autoFocus:m,onChange:v,onBlur:b,onFocus:C,"aria-describedby":(0,a.eG)(s)}),(0,a.w)((0,n.jsx)("span",{children:d}),u)]})]})},fe=function({id:e,disabled:t,options:{inline:r=!1,enumOptions:s,enumDisabled:o,emptyValue:l},value:c,autofocus:d=!1,readonly:u,onChange:m,onBlur:h,onFocus:p}){const f=Array.isArray(c)?c:[c],y=(0,i.useCallback)(({target:t})=>h(e,(0,a.Od)(t&&t.value,s,l)),[h,e]),g=(0,i.useCallback)(({target:t})=>p(e,(0,a.Od)(t&&t.value,s,l)),[p,e]);return(0,n.jsx)("div",{className:"checkboxes",id:e,children:Array.isArray(s)&&s.map((i,l)=>{const c=(0,a.BH)(i.value,f),h=Array.isArray(o)&&-1!==o.indexOf(i.value),p=t||h||u?"disabled":"",x=(0,n.jsxs)("span",{children:[(0,n.jsx)("input",{type:"checkbox",id:(0,a.pk)(e,l),name:e,checked:c,value:String(l),disabled:t||h||u,autoFocus:d&&0===l,onChange:e=>{e.target.checked?m((0,a.L4)(l,f,s)):m((0,a.Uw)(l,f,s))},onBlur:y,onFocus:g,"aria-describedby":(0,a.eG)(e)}),(0,n.jsx)("span",{children:i.label})]});return r?(0,n.jsx)("label",{className:`checkbox-inline ${p}`,children:x},l):(0,n.jsx)("div",{className:`checkbox ${p}`,children:(0,n.jsx)("label",{children:x})},l)})})};function ye(e){const{disabled:t,readonly:r,options:i,registry:s}=e,o=(0,a.$F)("BaseInputTemplate",s,i);return(0,n.jsx)(o,{type:"color",...e,disabled:t||r})}function ge(e){const{onChange:t,options:r,registry:s}=e,o=(0,a.$F)("BaseInputTemplate",s,r),l=(0,i.useCallback)(e=>t(e||void 0),[t]);return(0,n.jsx)(o,{type:"date",...e,onChange:l})}function xe(e){const{onChange:t,value:r,options:i,registry:s}=e,o=(0,a.$F)("BaseInputTemplate",s,i);return(0,n.jsx)(o,{type:"datetime-local",...e,value:(0,a.v4)(r),onChange:e=>t((0,a.z$)(e))})}function Se(e){const{options:t,registry:r}=e,i=(0,a.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(i,{type:"email",...e})}function ve(e,t){return null===e?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function be(e){const{name:t,size:r,type:n}=e;return new Promise((i,a)=>{const s=new window.FileReader;s.onerror=a,s.onload=e=>{var a;"string"==typeof(null===(a=e.target)||void 0===a?void 0:a.result)?i({dataURL:ve(e.target.result,t),name:t,size:r,type:n}):i({dataURL:null,name:t,size:r,type:n})},s.readAsDataURL(e)})}function Ce({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:i,type:s,name:o}=e;return i?["image/jpeg","image/png"].includes(s)?(0,n.jsx)("img",{src:i,style:{maxWidth:"100%"},className:"file-preview"}):(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)("a",{download:`preview-${o}`,href:i,className:"file-download",children:r(a.Zl.PreviewLabel)})]}):null}function Fe({filesInfo:e,registry:t,preview:r,onRemove:i,options:s}){if(0===e.length)return null;const{translateString:o}=t,{RemoveButton:l}=(0,a.$F)("ButtonTemplates",t,s);return(0,n.jsx)("ul",{className:"file-info",children:e.map((e,s)=>{const{name:c,size:d,type:u}=e;return(0,n.jsxs)("li",{children:[(0,n.jsx)(B.Ay,{children:o(a.Zl.FilesInfo,[c,u,String(d)])}),r&&(0,n.jsx)(Ce,{fileInfo:e,registry:t}),(0,n.jsx)(l,{onClick:()=>i(s),registry:t})]},s)})})}const ke=function(e){const{disabled:t,readonly:r,required:s,multiple:o,onChange:l,value:c,options:d,registry:u}=e,m=(0,a.$F)("BaseInputTemplate",u,d),h=(0,i.useCallback)(e=>{var t;e.target.files&&(t=e.target.files,Promise.all(Array.from(t).map(be))).then(e=>{const t=e.map(e=>e.dataURL);l(o?c.concat(t[0]):t[0])})},[o,c,l]),p=(0,i.useMemo)(()=>(Array.isArray(c)?c:[c]).reduce((e,t)=>{if(!t)return e;try{const{blob:r,name:n}=(0,a.zM)(t);return[...e,{dataURL:t,name:n,size:r.size,type:r.type}]}catch(t){return e}},[]),[c]),f=(0,i.useCallback)(e=>{if(o){const t=c.filter((t,r)=>r!==e);l(t)}else l(void 0)},[o,c,l]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{...e,disabled:t||r,type:"file",required:!c&&s,onChangeOverride:h,value:"",accept:d.accept?String(d.accept):void 0}),(0,n.jsx)(Fe,{filesInfo:p,onRemove:f,registry:u,preview:d.filePreview,options:d})]})},je=function({id:e,value:t}){return(0,n.jsx)("input",{type:"hidden",id:e,name:e,value:void 0===t?"":t})};function De(e){const{options:t,registry:r}=e,i=(0,a.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(i,{type:"password",...e})}const Ae=function({options:e,value:t,required:r,disabled:s,readonly:o,autofocus:l=!1,onBlur:c,onFocus:d,onChange:u,id:m}){const{enumOptions:h,enumDisabled:p,inline:f,emptyValue:y}=e,g=(0,i.useCallback)(({target:e})=>c(m,(0,a.Od)(e&&e.value,h,y)),[c,m]),x=(0,i.useCallback)(({target:e})=>d(m,(0,a.Od)(e&&e.value,h,y)),[d,m]);return(0,n.jsx)("div",{className:"field-radio-group",id:m,children:Array.isArray(h)&&h.map((e,i)=>{const c=(0,a.BH)(e.value,t),d=Array.isArray(p)&&-1!==p.indexOf(e.value),h=s||d||o?"disabled":"",y=(0,n.jsxs)("span",{children:[(0,n.jsx)("input",{type:"radio",id:(0,a.pk)(m,i),checked:c,name:m,required:r,value:String(i),disabled:s||d||o,autoFocus:l&&0===i,onChange:()=>u(e.value),onBlur:g,onFocus:x,"aria-describedby":(0,a.eG)(m)}),(0,n.jsx)("span",{children:e.label})]});return f?(0,n.jsx)("label",{className:`radio-inline ${h}`,children:y},i):(0,n.jsx)("div",{className:`radio ${h}`,children:(0,n.jsx)("label",{children:y})},i)})})};function $e(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return(0,n.jsxs)("div",{className:"field-range-wrapper",children:[(0,n.jsx)(r,{type:"range",...e}),(0,n.jsx)("span",{className:"range-view",children:t})]})}var we=r(899703),Oe=r(487581);function Ne(e){const{options:t,registry:r}=e,i=(0,a.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(i,{...e})}function Ee(e){const{onChange:t,options:r,registry:s}=e,o=(0,a.$F)("BaseInputTemplate",s,r),l=(0,i.useCallback)(e=>t(e?`${e}:00`:void 0),[t]);return(0,n.jsx)(o,{type:"time",...e,onChange:l})}function Be(e){const{options:t,registry:r}=e,i=(0,a.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(i,{type:"url",...e})}function Re(e){const{options:t,registry:r}=e,i=(0,a.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(i,{type:"number",...e})}class Te extends i.Component{constructor(e){if(super(e),this.getUsedFormData=(e,t)=>{if(0===t.length&&"object"!=typeof e)return e;const r=u()(e,t);return Array.isArray(e)?Object.keys(r).map(e=>r[e]):r},this.getFieldNames=(e,t)=>{const r=(e,n=[],i=[[]])=>(Object.keys(e).forEach(s=>{if("object"==typeof e[s]){const t=i.map(e=>[...e,s]);e[s][a.FF]&&""!==e[s][a.oS]?n.push(e[s][a.oS]):r(e[s],n,t)}else s===a.oS&&""!==e[s]&&i.forEach(e=>{const r=o()(t,e);("object"!=typeof r||c()(r)||Array.isArray(r)&&r.every(e=>"object"!=typeof e))&&n.push(e)})}),n);return r(e)},this.omitExtraData=e=>{const{schema:t,schemaUtils:r}=this.state,n=r.retrieveSchema(t,e),i=r.toPathSchema(n,"",e),a=this.getFieldNames(i,e);return this.getUsedFormData(e,a)},this.onChange=(e,t,r)=>{const{extraErrors:n,omitExtraData:i,liveOmit:s,noValidate:o,liveValidate:l,onChange:c}=this.props,{schemaUtils:d,schema:u,retrievedSchema:m}=this.state;((0,a.Gv)(e)||Array.isArray(e))&&(e=this.getStateFromProps(this.props,e,m).formData);const h=!o&&l;let p={formData:e,schema:u},f=e;if(!0===i&&!0===s&&(f=this.omitExtraData(e),p={formData:f}),h){const e=this.validate(f,u,d,m);let t=e.errors,r=e.errorSchema;const i=t,s=r;if(n){const i=(0,a.k6)(e,n);r=i.errorSchema,t=i.errors}p={formData:f,errors:t,errorSchema:r,schemaValidationErrors:i,schemaValidationErrorSchema:s}}else if(!o&&t){const e=n?(0,a.rL)(t,n,"preventDuplicates"):t;p={formData:f,errorSchema:e,errors:(0,a.SL)(e)}}this.setState(p,()=>c&&c({...this.state,...p},r))},this.reset=()=>{const{onChange:e}=this.props,t={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(t,()=>e&&e({...this.state,...t}))},this.onBlur=(e,t)=>{const{onBlur:r}=this.props;r&&r(e,t)},this.onFocus=(e,t)=>{const{onFocus:r}=this.props;r&&r(e,t)},this.onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:t,extraErrors:r,noValidate:n,onSubmit:i}=this.props;let{formData:s}=this.state;if(!0===t&&(s=this.omitExtraData(s)),n||this.validateFormWithFormData(s)){const t=r||{},n=r?(0,a.SL)(r):[];this.setState({formData:s,errors:n,errorSchema:t,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{i&&i({...this.state,formData:s,status:"submitted"},e)})}},this.submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=e=>{const{extraErrors:t,extraErrorsBlockSubmit:r,focusOnFirstError:n,onError:i}=this.props,{errors:s}=this.state,o=this.validate(e);let l=o.errors,c=o.errorSchema;const d=l,u=c,m=l.length>0||t&&r;if(m){if(t){const e=(0,a.k6)(o,t);c=e.errorSchema,l=e.errors}n&&("function"==typeof n?n(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:d,schemaValidationErrorSchema:u},()=>{i?i(l):console.error("Form validation failed",l)})}else s.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!m},!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!(0,a.c2)(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=(0,i.createRef)()}getSnapshotBeforeUpdate(e,t){if(!(0,a.c2)(this.props,e)){const r=!(0,a.c2)(e.schema,this.props.schema),n=!(0,a.c2)(e.formData,this.props.formData),i=this.getStateFromProps(this.props,this.props.formData,r||n?void 0:this.state.retrievedSchema,r);return{nextState:i,shouldUpdate:!(0,a.c2)(i,t)}}return{shouldUpdate:!1}}componentDidUpdate(e,t,r){if(r.shouldUpdate){const{nextState:e}=r;(0,a.c2)(e.formData,this.props.formData)||(0,a.c2)(e.formData,t.formData)||!this.props.onChange||this.props.onChange(e),this.setState(e)}}getStateFromProps(e,t,r,n=!1){const i=this.state||{},s="schema"in e?e.schema:this.props.schema,o=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},l=void 0!==t,c="liveValidate"in e?e.liveValidate:this.props.liveValidate,d=l&&!e.noValidate&&c,u=s,m="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior;let h=i.schemaUtils;h&&!h.doesSchemaUtilsDiffer(e.validator,u,m)||(h=(0,a.BP)(e.validator,u,m));const p=h.getDefaultFormState(s,t),f=null!=r?r:h.retrieveSchema(s,p);let y,g,x=i.schemaValidationErrors,S=i.schemaValidationErrorSchema;if(d){const e=this.validate(p,s,h,f);y=e.errors,g=e.errorSchema,x=y,S=g}else{const t=e.noValidate||n?{errors:[],errorSchema:{}}:e.liveValidate?{errors:i.errors||[],errorSchema:i.errorSchema||{}}:{errors:i.schemaValidationErrors||[],errorSchema:i.schemaValidationErrorSchema||{}};y=t.errors,g=t.errorSchema}if(e.extraErrors){const t=(0,a.k6)({errorSchema:g,errors:y},e.extraErrors);g=t.errorSchema,y=t.errors}const v=h.toIdSchema(f,o["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:h,schema:s,uiSchema:o,idSchema:v,formData:p,edit:l,errors:y,errorSchema:g,schemaValidationErrors:x,schemaValidationErrorSchema:S,retrievedSchema:f}}shouldComponentUpdate(e,t){return(0,a.F9)(this,e,t)}validate(e,t=this.props.schema,r,n){const i=r||this.state.schemaUtils,{customValidate:a,transformErrors:s,uiSchema:o}=this.props,l=null!=n?n:i.retrieveSchema(t,e);return i.getValidator().validateFormData(e,l,a,s,o)}renderErrors(e){const{errors:t,errorSchema:r,schema:i,uiSchema:s}=this.state,{formContext:o}=this.props,l=(0,a.$R)(s),c=(0,a.$F)("ErrorListTemplate",e,l);return t&&t.length?(0,n.jsx)(c,{errors:t,errorSchema:r||{},schema:i,uiSchema:s,formContext:o,registry:e}):null}getRegistry(){var e;const{translateString:t,uiSchema:r={}}=this.props,{schemaUtils:n}=this.state,{fields:i,templates:s,widgets:o,formContext:l,translateString:c}={fields:{AnyOfField:w,ArrayField:k,BooleanField:j,NumberField:E,ObjectField:q,OneOfField:w,SchemaField:L.A,StringField:_,NullField:M},templates:{ArrayFieldDescriptionTemplate:V,ArrayFieldItemTemplate:W,ArrayFieldTemplate:Z,ArrayFieldTitleTemplate:K,ButtonTemplates:{SubmitButton:H,AddButton:ee,CopyButton:X,MoveDownButton:J,MoveUpButton:Q,RemoveButton:Y},BaseInputTemplate:z,DescriptionFieldTemplate:te,ErrorListTemplate:re,FieldTemplate:ie,FieldErrorTemplate:ae,FieldHelpTemplate:se,ObjectFieldTemplate:oe,TitleFieldTemplate:le,UnsupportedFieldTemplate:ce,WrapIfAdditionalTemplate:de},widgets:{AltDateWidget:me,AltDateTimeWidget:he,CheckboxWidget:pe,CheckboxesWidget:fe,ColorWidget:ye,DateWidget:ge,DateTimeWidget:xe,EmailWidget:Se,FileWidget:ke,HiddenWidget:je,PasswordWidget:De,RadioWidget:Ae,RangeWidget:$e,SelectWidget:we.A,TextWidget:Ne,TextareaWidget:Oe.A,TimeWidget:Ee,UpDownWidget:Re,URLWidget:Be},rootSchema:{},formContext:{},translateString:a.qe};return{fields:{...i,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||l,schemaUtils:n,translateString:t||c,globalUiOptions:r[a.AK]}}focusOnError(e){const{idPrefix:t="root",idSeparator:r="_"}=this.props,{property:n}=e,i=h()(n);""===i[0]?i[0]=t:i.unshift(t);const a=i.join(r);let s=this.formElement.current.elements[a];s||(s=this.formElement.current.querySelector(`input[id^=${a}`)),s&&s.length&&(s=s[0]),s&&s.focus()}validateForm(){const{omitExtraData:e}=this.props;let{formData:t}=this.state;return!0===e&&(t=this.omitExtraData(t)),this.validateFormWithFormData(t)}render(){const{children:e,id:t,idPrefix:r,idSeparator:i,className:s="",tagName:o,name:l,method:c,target:d,action:u,autoComplete:m,enctype:h,acceptcharset:p,acceptCharset:f,noHtml5Validate:y=!1,disabled:g,readonly:x,formContext:S,showErrorList:v="top",_internalFormWrapper:b}=this.props,{schema:C,uiSchema:F,formData:k,errorSchema:j,idSchema:D}=this.state,A=this.getRegistry(),{SchemaField:$}=A.fields,{SubmitButton:w}=A.templates.ButtonTemplates,O=b?o:void 0,N=b||o||"form";let{[a.xh]:E={}}=(0,a.$R)(F);g&&(E={...E,props:{...E.props,disabled:!0}});const B={[a.ce]:{[a.xh]:E}};return(0,n.jsxs)(N,{className:s||"rjsf",id:t,name:l,method:c,target:d,action:u,autoComplete:m,encType:h,acceptCharset:f||p,noValidate:y,onSubmit:this.onSubmit,as:O,ref:this.formElement,children:["top"===v&&this.renderErrors(A),(0,n.jsx)($,{name:"",schema:C,uiSchema:F,errorSchema:j,idSchema:D,idPrefix:r,idSeparator:i,formContext:S,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:A,disabled:g,readonly:x}),e||(0,n.jsx)(w,{uiSchema:B,registry:A}),"bottom"===v&&this.renderErrors(A)]})}}const Ie=Te},636841:(e,t,r)=>{r.d(t,{Ay:()=>Qe});var n=r(273517);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}const a=["children","options"],s=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),o={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},l=["style","script","pre"],c=["src","href","data","formAction","srcDoc","action"],d=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,u=/\n{2,}$/,m=/^(\s*>[\s\S]*?)(?=\n\n|$)/,h=/^ *> ?/gm,p=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,f=/^ {2,}\n/,y=/^(?:([-*_])( *\1){2,}) *(?:\n *)+\n/,g=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,x=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,S=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,v=/^(?:\n *)*\n/,b=/\r\n?/g,C=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,F=/^\[\^([^\]]+)]/,k=/\f/g,j=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,D=/^\s*?\[(x|\s)\]/,A=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,$=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,w=/^([^\n]+)\n *(=|-)\2{2,} *\n/,O=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,N=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,E=/^<!--[\s\S]*?(?:-->)/,B=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,R=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,T=/^\{.*\}$/,I=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,U=/^<([^ >]+[:@\/][^ >]+)>/,P=/-([a-z])?/gi,q=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,L=/^[^\n]+(?:  \n|\n{2,})/,_=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,M=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,V=/^\[([^\]]*)\] ?\[([^\]]*)\]/,W=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Z=/\t/g,K=/(^ *\||\| *$)/g,z=/^ *:-+: *$/,H=/^ *:-+ *$/,G=/^ *-+: *$/,X=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,J="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Q=RegExp(`^([*_])\\1${X(1)}${J}\\1\\1(?!\\1)`),Y=RegExp(`^([*_])${X(0)}${J}\\1(?!\\1)`),ee=RegExp(`^(==)${X(0)}${J}\\1`),te=RegExp(`^(~~)${X(0)}${J}\\1`),re=/^(:[a-zA-Z0-9-_]+:)/,ne=/^\\([^0-9A-Za-z\s])/,ie=/\\([^0-9A-Za-z\s])/g,ae=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,se=/^\n+/,oe=/^([ \t]*)/,le=/(?:^|\n)( *)$/,ce="(?:\\d+\\.)",de="(?:[*+-])";function ue(e){return"( *)("+(1===e?ce:de)+") +"}const me=ue(1),he=ue(2);function pe(e){return RegExp("^"+(1===e?me:he))}const fe=pe(1),ye=pe(2);function ge(e){return RegExp("^"+(1===e?me:he)+"[^\\n]*(?:\\n(?!\\1"+(1===e?ce:de)+" )[^\\n]*)*(\\n|$)","gm")}const xe=ge(1),Se=ge(2);function ve(e){const t=1===e?ce:de;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const be=ve(1),Ce=ve(2);function Fe(e,t){const r=1===t,n=r?be:Ce,i=r?xe:Se,a=r?fe:ye;return{t:e=>a.test(e),o:Te(function(e,t){const r=le.exec(t.prevCapture);return r&&(t.list||!t.inline&&!t.simple)?n.exec(e=r[1]+e):null}),i:1,u(e,t,n){const s=r?+e[2]:void 0,o=e[0].replace(u,"\n").match(i);let l=!1;return{items:o.map(function(e,r){const i=a.exec(e)[0].length,s=RegExp("^ {1,"+i+"}","gm"),c=e.replace(s,"").replace(a,""),d=r===o.length-1,u=-1!==c.indexOf("\n\n")||d&&l;l=u;const m=n.inline,h=n.list;let p;n.list=!0,u?(n.inline=!1,p=Ae(c)+"\n\n"):(n.inline=!0,p=Ae(c));const f=t(p,n);return n.inline=m,n.list=h,f}),ordered:r,start:s}},l:(t,r,n)=>e(t.ordered?"ol":"ul",{key:n.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,i){return e("li",{key:i},r(t,n))}))}}const ke=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),je=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function De(e){return"string"==typeof e}function Ae(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function $e(e,t){return e.startsWith(t)}function we(e,t,r){if(Array.isArray(r)){for(let t=0;t<r.length;t++)if($e(e,r[t]))return!0;return!1}return r(e,t)}function Oe(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function Ne(e){return G.test(e)?"right":z.test(e)?"center":H.test(e)?"left":null}function Ee(e,t,r,n){const i=r.inTable;r.inTable=!0;let a=[[]],s="";function o(){if(!s)return;const e=a[a.length-1];e.push.apply(e,t(s,r)),s=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,r)=>{"|"===e.trim()&&(o(),n)?0!==t&&t!==r.length-1&&a.push([]):s+=e}),o(),r.inTable=i,a}function Be(e,t,r){r.inline=!0;const n=e[2]?e[2].replace(K,"").split("|").map(Ne):[],i=e[3]?function(e,t,r){return e.trim().split("\n").map(function(e){return Ee(e,t,r,!0)})}(e[3],t,r):[],a=Ee(e[1],t,r,!!i.length);return r.inline=!1,i.length?{align:n,cells:i,header:a,type:"25"}:{children:a,type:"21"}}function Re(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function Te(e){return e.inline=1,e}function Ie(e){return Te(function(t,r){return r.inline?e.exec(t):null})}function Ue(e){return Te(function(t,r){return r.inline||r.simple?e.exec(t):null})}function Pe(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function qe(e){return Te(function(t){return e.exec(t)})}const Le=/(javascript|vbscript|data(?!:image)):/i;function _e(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(Le.test(t))return null}catch(e){return null}return e}function Me(e){return e?e.replace(ie,"$1"):e}function Ve(e,t,r){const n=r.inline||!1,i=r.simple||!1;r.inline=!0,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=i,a}function We(e,t,r){const n=r.inline||!1,i=r.simple||!1;r.inline=!1,r.simple=!0;const a=e(t,r);return r.inline=n,r.simple=i,a}function Ze(e,t,r){const n=r.inline||!1;r.inline=!1;const i=e(t,r);return r.inline=n,i}const Ke=(e,t,r)=>({children:Ve(t,e[2],r)});function ze(){return{}}function He(){return null}function Ge(...e){return e.filter(Boolean).join(" ")}function Xe(e,t,r){let n=e;const i=t.split(".");for(;i.length&&(n=n[i[0]],void 0!==n);)i.shift();return n||r}function Je(e="",t={}){t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?i({},o,t.namedCodesToUnicode):o;const r=t.slugify||Oe,a=t.sanitizer||_e,u=t.createElement||n.createElement,K=[m,g,x,t.enforceAtxHeadings?$:A,w,q,be,Ce],z=[...K,L,O,E,R];function H(e,t){for(let r=0;r<e.length;r++)if(e[r].test(t))return!0;return!1}function G(e,r,...n){const a=Xe(t.overrides,e+".props",{});return u(function(e,t){const r=Xe(t,e);return r?"function"==typeof r||"object"==typeof r&&"render"in r?r:Xe(t,e+".component",e):e}(e,t.overrides),i({},r,a,{className:Ge(null==r?void 0:r.className,a.className)||void 0}),...n)}function X(e){e=e.replace(j,"");let r=!1;t.forceInline?r=!0:t.forceBlock||(r=!1===W.test(e));const n=ue(de(r?e:Ae(e).replace(se,"")+"\n\n",{inline:r}));for(;De(n[n.length-1])&&!n[n.length-1].trim();)n.pop();if(null===t.wrapper)return n;const i=t.wrapper||(r?"span":"div");let a;if(n.length>1||t.forceWrapper)a=n;else{if(1===n.length)return a=n[0],"string"==typeof a?G("span",{key:"outer"},a):a;a=null}return u(i,{key:"outer"},a)}function J(e,t){if(!t||!t.trim())return null;const r=t.match(d);return r?r.reduce(function(t,r){const n=r.indexOf("=");if(-1!==n){const i=function(e){return-1!==e.indexOf("-")&&null===e.match(B)&&(e=e.replace(P,function(e,t){return t.toUpperCase()})),e}(r.slice(0,n)).trim(),o=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(r.slice(n+1).trim()),l=s[i]||i;if("ref"===l)return t;const d=t[l]=function(e,t,r,n){return"style"===t?function(e){const t=[];let r="",n=!1,i=!1,a="";if(!e)return t;for(let s=0;s<e.length;s++){const o=e[s];if('"'!==o&&"'"!==o||n||(i?o===a&&(i=!1,a=""):(i=!0,a=o)),"("===o&&r.endsWith("url")?n=!0:")"===o&&n&&(n=!1),";"!==o||i||n)r+=o;else{const e=r.trim();if(e){const r=e.indexOf(":");if(r>0){const n=e.slice(0,r).trim(),i=e.slice(r+1).trim();t.push([n,i])}}r=""}}const s=r.trim();if(s){const e=s.indexOf(":");if(e>0){const r=s.slice(0,e).trim(),n=s.slice(e+1).trim();t.push([r,n])}}return t}(r).reduce(function(t,[r,i]){return t[r.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=n(i,e,r),t},{}):-1!==c.indexOf(t)?n(Me(r),e,t):(r.match(T)&&(r=Me(r.slice(1,r.length-1))),"true"===r||"false"!==r&&r)}(e,i,o,a);"string"==typeof d&&(O.test(d)||R.test(d))&&(t[l]=X(d.trim()))}else"style"!==r&&(t[s[r]||r]=!0);return t},{}):null}const ie=[],le={},ce={0:{t:[">"],o:Pe(m),i:1,u(e,t,r){const[,n,i]=e[0].replace(h,"").match(p);return{alert:n,children:t(i,r)}},l(e,t,n){const i={key:n.key};return e.alert&&(i.className="markdown-alert-"+r(e.alert.toLowerCase(),Oe),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),G("blockquote",i,t(e.children,n))}},1:{t:["  "],o:qe(f),i:1,u:ze,l:(e,t,r)=>G("br",{key:r.key})},2:{t:["--","__","**","- ","* ","_ "],o:Pe(y),i:1,u:ze,l:(e,t,r)=>G("hr",{key:r.key})},3:{t:["    "],o:Pe(x),i:0,u:e=>({lang:void 0,text:Me(Ae(e[0].replace(/^ {4}/gm,"")))}),l:(e,t,r)=>G("pre",{key:r.key},G("code",i({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))},4:{t:["```","~~~"],o:Pe(g),i:0,u:e=>({attrs:J("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{t:["`"],o:Ue(S),i:3,u:e=>({text:Me(e[2])}),l:(e,t,r)=>G("code",{key:r.key},e.text)},6:{t:["[^"],o:Pe(C),i:0,u:e=>(ie.push({footnote:e[2],identifier:e[1]}),{}),l:He},7:{t:["[^"],o:Ie(F),i:1,u:e=>({target:"#"+r(e[1],Oe),text:e[1]}),l:(e,t,r)=>G("a",{key:r.key,href:a(e.target,"a","href")},G("sup",{key:r.key},e.text))},8:{t:["[ ]","[x]"],o:Ie(D),i:1,u:e=>({completed:"x"===e[1].toLowerCase()}),l:(e,t,r)=>G("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:Pe(t.enforceAtxHeadings?$:A),i:1,u:(e,t,n)=>({children:Ve(t,e[2],n),id:r(e[2],Oe),level:e[1].length}),l:(e,t,r)=>G("h"+e.level,{id:e.id,key:r.key},t(e.children,r))},10:{t:e=>{const t=e.indexOf("\n");return t>0&&t<e.length-1&&("="===e[t+1]||"-"===e[t+1])},o:Pe(w),i:0,u:(e,t,r)=>({children:Ve(t,e[1],r),level:"="===e[2]?1:2,type:"9"})},11:{t:["<"],o:qe(O),i:1,u(e,t,r){const[,n]=e[3].match(oe),i=RegExp("^"+n,"gm"),a=e[3].replace(i,""),s=H(z,a)?Ze:Ve,o=e[1].toLowerCase(),c=-1!==l.indexOf(o),d=(c?o:e[1]).trim(),u={attrs:J(d,e[2]),noInnerParse:c,tag:d};if(r.inAnchor=r.inAnchor||"a"===o,c)u.text=e[3];else{const e=r.inHTML;r.inHTML=!0,u.children=s(t,a,r),r.inHTML=e}return r.inAnchor=!1,u},l:(e,t,r)=>G(e.tag,i({key:r.key},e.attrs),e.text||(e.children?t(e.children,r):""))},13:{t:["<"],o:qe(R),i:1,u(e){const t=e[1].trim();return{attrs:J(t,e[2]||""),tag:t}},l:(e,t,r)=>G(e.tag,i({},e.attrs,{key:r.key}))},12:{t:["\x3c!--"],o:qe(E),i:1,u:()=>({}),l:He},14:{t:["!["],o:Ue(je),i:1,u:e=>({alt:Me(e[1]),target:Me(e[2]),title:Me(e[3])}),l:(e,t,r)=>G("img",{key:r.key,alt:e.alt||void 0,title:e.title||void 0,src:a(e.target,"img","src")})},15:{t:["["],o:Ie(ke),i:3,u:(e,t,r)=>({children:We(t,e[1],r),target:Me(e[2]),title:Me(e[3])}),l:(e,t,r)=>G("a",{key:r.key,href:a(e.target,"a","href"),title:e.title},t(e.children,r))},16:{t:["<"],o:Ie(U),i:0,u(e){let t=e[1],r=!1;return-1!==t.indexOf("@")&&-1===t.indexOf("//")&&(r=!0,t=t.replace("mailto:","")),{children:[{text:t,type:"27"}],target:r?"mailto:"+t:t,type:"15"}}},17:{t:(e,r)=>!r.inAnchor&&!t.disableAutoLink&&($e(e,"http://")||$e(e,"https://")),o:Ie(I),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},20:Fe(G,1),33:Fe(G,2),19:{t:["\n"],o:Pe(v),i:3,u:ze,l:()=>"\n"},21:{o:Te(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf("\n\n")&&-1===t.prevCapture.indexOf("\n\n"))return null;let r="",n=0;for(;;){const t=e.indexOf("\n",n),i=e.slice(n,-1===t?void 0:t+1);if(H(K,i))break;if(r+=i,-1===t||!i.trim())break;n=t+1}const i=Ae(r);return""===i?null:[r,,i]}),i:3,u:Ke,l:(e,t,r)=>G("p",{key:r.key},t(e.children,r))},22:{t:["["],o:Ie(_),i:0,u:e=>(le[e[1]]={target:e[2],title:e[4]},{}),l:He},23:{t:["!["],o:Ue(M),i:0,u:e=>({alt:e[1]?Me(e[1]):void 0,ref:e[2]}),l:(e,t,r)=>le[e.ref]?G("img",{key:r.key,alt:e.alt,src:a(le[e.ref].target,"img","src"),title:le[e.ref].title}):null},24:{t:e=>"["===e[0]&&-1===e.indexOf("]("),o:Ie(V),i:0,u:(e,t,r)=>({children:t(e[1],r),fallbackChildren:e[0],ref:e[2]}),l:(e,t,r)=>le[e.ref]?G("a",{key:r.key,href:a(le[e.ref].target,"a","href"),title:le[e.ref].title},t(e.children,r)):G("span",{key:r.key},e.fallbackChildren)},25:{t:["|"],o:Pe(q),i:1,u:Be,l(e,t,r){const n=e;return G("table",{key:r.key},G("thead",null,G("tr",null,n.header.map(function(e,i){return G("th",{key:i,style:Re(n,i)},t(e,r))}))),G("tbody",null,n.cells.map(function(e,i){return G("tr",{key:i},e.map(function(e,i){return G("td",{key:i,style:Re(n,i)},t(e,r))}))})))}},27:{o:Te(function(e,t){let r;return $e(e,":")&&(r=re.exec(e)),r||ae.exec(e)}),i:4,u(e){const r=e[0];return{text:-1===r.indexOf("&")?r:r.replace(N,(e,r)=>t.namedCodesToUnicode[r]||e)}},l:e=>e.text},28:{t:["**","__"],o:Ue(Q),i:2,u:(e,t,r)=>({children:t(e[2],r)}),l:(e,t,r)=>G("strong",{key:r.key},t(e.children,r))},29:{t:e=>{const t=e[0];return("*"===t||"_"===t)&&e[1]!==t},o:Ue(Y),i:3,u:(e,t,r)=>({children:t(e[2],r)}),l:(e,t,r)=>G("em",{key:r.key},t(e.children,r))},30:{t:["\\"],o:Ue(ne),i:1,u:e=>({text:e[1],type:"27"})},31:{t:["=="],o:Ue(ee),i:3,u:Ke,l:(e,t,r)=>G("mark",{key:r.key},t(e.children,r))},32:{t:["~~"],o:Ue(te),i:3,u:Ke,l:(e,t,r)=>G("del",{key:r.key},t(e.children,r))}};!0===t.disableParsingRawHTML&&(delete ce[11],delete ce[13]);const de=function(e){var t=Object.keys(e);function r(n,i){var a=[];if(i.prevCapture=i.prevCapture||"",n.trim())for(;n;)for(var s=0;s<t.length;){var o=t[s],l=e[o];if(!l.t||we(n,i,l.t)){var c=l.o(n,i);if(c&&c[0]){n=n.substring(c[0].length);var d=l.u(c,r,i);i.prevCapture+=c[0],d.type||(d.type=o),a.push(d);break}s++}else s++}return i.prevCapture="",a}return t.sort(function(t,r){return e[t].i-e[r].i||(t<r?-1:1)}),function(e,t){return r(function(e){return e.replace(b,"\n").replace(k,"").replace(Z,"    ")}(e),t)}}(ce),ue=function(e,t){return function r(n,i={}){if(Array.isArray(n)){const e=i.key,t=[];let a=!1;for(let e=0;e<n.length;e++){i.key=e;const s=r(n[e],i),o=De(s);o&&a?t[t.length-1]+=s:null!==s&&t.push(s),a=o}return i.key=e,t}return function(r,n,i){const a=e[r.type].l;return t?t(()=>a(r,n,i),r,n,i):a(r,n,i)}(n,r,i)}}(ce,t.renderRule),me=X(e);return ie.length?G("div",null,me,G("footer",{key:"footer"},ie.map(function(e){return G("div",{id:r(e.identifier,Oe),key:e.identifier},e.identifier,ue(de(e.footnote,{inline:!0})))}))):me}const Qe=e=>{let{children:t="",options:r}=e,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,a);return n.cloneElement(Je(t,r),i)}}}]);