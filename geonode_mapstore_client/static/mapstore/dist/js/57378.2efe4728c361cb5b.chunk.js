"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[57378],{457378:(e,o,r)=>{r.d(o,{Ac:()=>z,IP:()=>H,Oe:()=>L,Os:()=>B,Qi:()=>R,cp:()=>U,g7:()=>W,ge:()=>N,tO:()=>Q,wm:()=>_});var t=r(41476),i=r(367019),n=r(75200),a=r(974904),l=r(977363),c=r(215327),u=r(920757),d=r(608191),s=r(842153),p=r(151949),f=r(105330),y=r(551549),m=r(267980),A=r(602317),h=r(317061),v=r(584164),w=r(543622),g=r(257941),b=r(23708),P=r(938487),O=r.n(P),F=r(950014),T=r.n(F),j=r(715726),k=r(302982);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function C(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,o){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),r.push.apply(r,t)}return r}function M(e){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?x(Object(r),!0).forEach((function(o){I(e,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}))}return e}function I(e,o,r){return(o=function(e){var o=function(e){if("object"!=S(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(o)?o:o+""}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,e}function D(e,o){return function(e){if(Array.isArray(e))return e}(e)||function(e,o){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,n,a,l=[],c=!0,u=!1;try{if(n=(r=r.call(e)).next,0===o){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=n.call(r)).done)&&(l.push(t.value),l.length!==o);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,o)||E(e,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,o){if(e){if("string"==typeof e)return G(e,o);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,o):void 0}}function G(e,o){(null==o||o>e.length)&&(o=e.length);for(var r=0,t=Array(o);r<o;r++)t[r]=e[r];return t}var L=function(e){var o=e.color,r=e.opacity,i=D(O()(o).gl(),4),n=i[0],a=i[1],l=i[2],c=i[3];return void 0!==r?new t.A(n,a,l,r):new t.A(n,a,l,c)},R=function(e){var o=e.coordinates,r=e.width,t=void 0===r?4:r,s=e.color,p=void 0===s?"#ff00ff":s,f=e.opacity,y=void 0===f?1:f,m=e.depthFailColor,A=e.depthFailOpacity,h=e.dashLength,v=e.clampToGround,w=e.allowPicking,g=void 0!==w&&w,b=e.geodesic,P=e.id,O=e.modelMatrix;return new i[v?"GroundPolylinePrimitive":"Primitive"](M(M({geometryInstances:new n.A({id:P,geometry:v?new a.A({positions:C(o),width:t}):new l.A({positions:C(o),width:t,arcType:b?c.A.GEODESIC:c.A.NONE}),modelMatrix:O}),appearance:new u.A({material:h?d.A.fromType("PolylineDash",{color:L({color:p,opacity:y}),dashLength:h}):d.A.fromType("Color",{color:L({color:p,opacity:y})})})},m&&{depthFailAppearance:new u.A({material:h?d.A.fromType("PolylineDash",{color:L({color:m,opacity:A}),dashLength:h}):d.A.fromType("Color",{color:L({color:m,opacity:A})})})}),{},{allowPicking:g,asynchronous:!1}))},N=function(e){var o=e.id,r=e.coordinates,t=e.color,i=void 0===t?"#ff00ffAA":t,a=e.opacity,l=void 0===a?1:a,c=e.depthFailColor,u=e.depthFailOpacity,m=e.allowPicking,A=void 0!==m&&m,h=e.geodesic;return new s.A(M(M({geometryInstances:new n.A({id:o,geometry:new p.A({polygonHierarchy:new f.A(C(r)),perPositionHeight:!h})}),appearance:new y.A({material:d.A.fromType("Color",{color:L({color:i,opacity:l})}),faceForward:!0})},c&&{depthFailAppearance:new y.A({material:d.A.fromType("Color",{color:L({color:c,opacity:u})}),faceForward:!0})}),{},{allowPicking:A,asynchronous:!1}))},_=function(e){var o=e.width,r=void 0===o?4:o,t=e.coordinates,i=e.color,n=void 0===i?"#ff00ff":i,a=e.opacity,l=void 0===a?1:a,c=e.depthFailColor,u=e.depthFailOpacity,d=e.dashLength,s=e.clampToGround,p=e.allowPicking,f=void 0!==p&&p,y=e.id,A=e.radius,h=e.semiMajorAxis,v=e.semiMinorAxis,w=e.geodesic,g=j.A.computeEllipsePositions({granularity:.02,semiMajorAxis:A||h,semiMinorAxis:A||v,rotation:0,center:t},!1,!0).outerPositions,b=m.A.unpackArray(g);return R({coordinates:[].concat(C(b),[b[0]]),width:r,color:n,opacity:l,depthFailColor:c,depthFailOpacity:u,dashLength:d,clampToGround:s,allowPicking:f,id:y,geodesic:w})},z=function(e){var o=e.id,r=e.coordinates,t=e.color,a=void 0===t?"#ff00ffAA":t,l=e.opacity,c=void 0===l?1:l,u=e.depthFailColor,s=e.depthFailOpacity,p=e.allowPicking,f=void 0!==p&&p,m=e.clampToGround,h=e.radius,v=e.semiMajorAxis,w=e.semiMinorAxis;return new i[m?"GroundPrimitive":"Primitive"](M(M({geometryInstances:new n.A({id:o,geometry:new A.A({center:r,semiMajorAxis:h||v,semiMinorAxis:h||w})}),appearance:new y.A({material:d.A.fromType("Color",{color:L({color:a,opacity:c})}),faceForward:!0})},u&&{depthFailAppearance:new y.A({material:d.A.fromType("Color",{color:L({color:u,opacity:s})}),faceForward:!0})}),{},{allowPicking:f,asynchronous:!1}))},B=function(e){var o=e.id,r=e.coordinates,t=e.color,i=void 0===t?"#ff00ffAA":t,a=e.opacity,l=void 0===a?1:a,c=e.depthFailColor,u=e.depthFailOpacity,p=e.allowPicking,f=void 0!==p&&p,A=e.length,g=e.radius,b=e.topRadius,P=e.bottomRadius;return new s.A(M(M({geometryInstances:new n.A({id:o,geometry:new h.A({length:null!=A?A:.1,topRadius:null!=b?b:g,bottomRadius:null!=P?P:g}),modelMatrix:v.A.multiplyByTranslation(w.A.eastNorthUpToFixedFrame(r),new m.A(0,0,0),new v.A)}),appearance:new y.A({material:d.A.fromType("Color",{color:L({color:i,opacity:l})}),faceForward:!0})},c&&{depthFailAppearance:new y.A({material:d.A.fromType("Color",{color:L({color:c,opacity:u})}),faceForward:!0})}),{},{allowPicking:f,asynchronous:!1}))},U=function(e){var o=e.id,r=e.coordinates,t=e.color,i=void 0===t?"#ff00ffAA":t,n=e.opacity,a=void 0===n?1:n,l=e.depthFailColor,c=e.depthFailOpacity,u=e.allowPicking,d=void 0!==u&&u,s=e.length,p=e.radius,f=e.dashLength,y=e.clampToGround,A=e.geodesic,h=e.width,g=e.slices,b=void 0===g?128:g,P=e.topRadius,O=e.bottomRadius,F=v.A.multiplyByTranslation(w.A.eastNorthUpToFixedFrame(r),new m.A(0,0,0),new v.A),T=k.A.computePositions(null!=s?s:0,null!=P?P:p,null!=O?O:p,b,!1),j=m.A.unpackArray(T);return R({coordinates:s?j:[].concat(C(j.splice(0,Math.ceil(j.length/2))),[j[0]]),width:h,color:i,opacity:a,depthFailColor:l,depthFailOpacity:c,dashLength:f,clampToGround:y,allowPicking:d,id:o,geodesic:A,modelMatrix:F})},H=function(e,o){var r;null!=e&&null!==(r=e.scene)&&void 0!==r&&r.primitives&&o&&!o.isDestroyed()&&(o.removeAll(),e.scene.primitives.remove(o))},W=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o.stroke,t=o.strokeWidth,i=void 0===t?1:t,n=o.fill,a=void 0===n?"#ffffff":n,l=r?e+2*i:e,c=document.createElement("canvas");c.setAttribute("width",l),c.setAttribute("height",l);var u=c.getContext("2d");return u.beginPath(),a&&(u.fillStyle=a),r&&(u.strokeStyle=r,u.lineWidth=i),u.arc(l/2,l/2,e/2,0,2*Math.PI),a&&u.fill(),r&&u.stroke(),c},Q=function(e,o,t){return r.e(57941).then(r.bind(r,357941)).then((function(i){var n,a,l=i.default,c=(t?e:l(e)).geometry;return(a=C((null==c||null===(n=c.coordinates)||void 0===n?void 0:n[0])||[]),r.e(20145).then(r.bind(r,320145)).then((function(e){return(0,e.default)({type:"Feature",geometry:{type:"LineString",coordinates:a},properties:{}})?a:C(a).reverse()}))).then((function(e){for(var r=T()(o?e:e.reverse(),(function(e){return"".concat(e[0]).concat(e[1])})).map((function(e){var o=D(e,3),r=o[0],t=o[1],i=o[2],n=void 0===i?0:i;return m.A.fromDegrees(r,t,n)})),t=r.length,i=[],n=0;n<t;++n){var a=(n+1)%t,l=m.A.add(r[n],r[a],new m.A);l=m.A.multiplyByScalar(l,.5,l);var c=m.A.normalize(l,new m.A),u=m.A.subtract(r[a],l,new m.A);u=m.A.normalize(u,u);var d=m.A.cross(u,c,new m.A);d=m.A.normalize(d,d);var s=new g.A(d,0),p=g.A.getPointDistance(s,l);i.push(new b.A(d,p))}return i}))}))}}}]);