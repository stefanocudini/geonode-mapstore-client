(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[49356,49444,64685,24315],{324463:(e,t,n)=>{var r={"./cesium/plugins/index":[289607,9,38487,56367,55394,86881,86714,67019,57378,89607],"./leaflet/index":[629554,9,53481,69341,40684,8493,26287,29554],"./leaflet/plugins/index":[986657,7,53481,55864,86657],"./openlayers/index":[295435,9,89029,66968,9765,81224,36128,54620,18048,23739,75761,41358,5308,28168,51736],"./openlayers/plugins/index":[3032,9,89029,66968,9765,81224,36128,25e3,74138,72351,41358,40019,49240],"./popups/index":[520943,9,50856,8265]};function o(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then(()=>n.t(o,16|t[1]))}o.keys=()=>Object.keys(r),o.id=324463,e.exports=o},178612:(e,t,n)=>{var r={"./cesium/plugins/index":[289607,9,38487,56367,55394,86881,86714,67019,57378,89607,58958],"./leaflet/plugins/index":[986657,7,53481,55864,86657,80323],"./openlayers/plugins/index":[3032,9,89029,66968,9765,81224,36128,5991,25e3,74138,72351,6381,41358,40019,26859]};function o(e){if(!n.o(r,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then(()=>n.t(o,16|t[1]))}o.keys=()=>Object.keys(r),o.id=178612,e.exports=o},959024:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(302404),o=n.n(r),i=n(605556),a=n.n(i),l=n(273517),u=n.n(l),c=n(8117),s=n(192016),p=n(6683),f=n(551783),m=n(8571);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function P(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}var w=(0,f.A)(["placeholder","noResultsText"])(s.wM),j=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),P(o=function(e,t,n){return t=h(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],h(e).constructor):t.apply(e,n))}(this,t,[e]),"onComboChange",function(e){var t=parseInt(e.nativeEvent.target.value,10);o.props.onChange(t,o.props.scales[t])}),P(o,"getOptions",function(){return o.state.scales.map(function(e){return u().createElement("option",{value:e.zoom,key:e.zoom},o.props.template(e.value,e.zoom))}).filter(function(e,t){return t>=o.props.minZoom})}),P(o,"handleUpdateScales",function(e){o.setState(function(t){return{scales:o.updateScales(t.scales,e)}})}),o.state={scales:null!==(n=o.props.disableScaleLockingParms)&&void 0!==n&&null!==(n=n.resolutions)&&void 0!==n&&n.length?o.getScalesFromResolutions(null===(r=o.props.disableScaleLockingParms)||void 0===r?void 0:r.resolutions):o.props.scales.map(function(e,t){return{value:e,zoom:t}})},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!o()(e,this.props)}},{key:"updateScales",value:function(e,t){var n=e.map(function(e){return e.value});return t&&-1===n.indexOf(t.value)?[{value:t.value,zoom:t.zoom}].concat(b(e)).sort(function(e,t){return e.value>t.value?-1:1}):e}},{key:"getResolutionByScale",value:function(e,t){var n=this.props.disableScaleLockingParms,r=this.props.scales.map(function(e){return e*n.ratio}),o=t[0],i=r[0];return(e*(null==n?void 0:n.ratio)||1)*o/i}},{key:"getZoomLevelByResolution",value:function(e){var t,n,r,o=(null===(t=this.props.disableScaleLockingParms)||void 0===t?void 0:t.resolutions)||(0,p._7)(null===(n=this.props.disableScaleLockingParms)||void 0===n?void 0:n.projection),i=null!==(r=(0,p.zg)(e,o))&&void 0!==r?r:0;return parseFloat(i.toFixed(2))}},{key:"getScalesFromResolutions",value:function(e){var t=this,n=this.props.disableScaleLockingParms,r=this.props.scales.map(function(e){return e*n.ratio}).map(function(e,t){return{value:e,zoom:t}}),o=e[0],i=r[0].value;return e.map(function(e){return e*i/o}).map(function(e){return e/n.ratio}).map(function(n,r){return{value:n,zoom:t.getZoomLevelByResolution(e[r])}})}},{key:"handleChangeEditableScaleList",value:function(e){var t,n,r=this.props.disableScaleLockingParms,o=(null==e?void 0:e.value)&&parseFloat(e.value),i=(null==e?void 0:e.scale)&&parseFloat(e.scale)||o,a=(null==e?void 0:e.label)&&parseFloat(e.label),l=(null==e?void 0:e.zoom)&&parseFloat(e.zoom),u=(null==r?void 0:r.resolutions)||(0,p._7)(null===(t=this.props.disableScaleLockingParms)||void 0===t?void 0:t.projection),c=b(u),s=this.getResolutionByScale(i,u);"number"==typeof s&&s>0&&(new Set(u).has(s)||(c.push(s),c.sort(function(e,t){return t-e})));var f=null!==(n=(0,p.zg)(s,c))&&void 0!==n?n:0,m=parseFloat(f.toFixed(2));if(i===a&&i&&!l)return this.handleUpdateScales({value:i,zoom:m}),void this.props.onChange(m,i,s,c);var y=isNaN(i)?void 0:i,d=isNaN(l)?void 0:l,v=this.state.scales.find(function(e){return e.value===y})||this.props.scales[this.props.currentZoomLvl];this.props.onChange(d,null==v?void 0:v.value,s,c)}},{key:"render",value:function(){var e=this,t=null,n=Math.round(this.props.currentZoomLvl),r=this.props.disableScaleLockingParms;if(this.props.readOnly)t=u().createElement("label",null,this.props.template(this.props.scales[n],n));else if(this.props.useRawInput)t=u().createElement("select",{label:this.props.label,onChange:this.onComboChange,bsSize:"small",value:n||""},this.getOptions());else if(null!=r&&r.editScale){var o=this.state.scales;n=null!=r&&r.resolution?this.getZoomLevelByResolution(null==r?void 0:r.resolution):Math.round(this.props.currentZoomLvl)>o.length-1?o.length-1:Math.round(this.props.currentZoomLvl),t=u().createElement(c.lV,{inline:!0},u().createElement(c.gE,{bsSize:"small"},u().createElement(w,{clearable:!1,id:"scaleBox",className:"scale-box-create-select",value:n,options:o.map(function(t){return{scale:t.value,zoom:t.zoom,value:t.zoom,label:e.props.template(t.value,t.zoom)}}),promptTextCreator:function(e){return u().createElement(m.A,{msgId:"print.createScaleOption",msgParams:{label:e}})},isValidNewOption:function(t){if(t.label){var n=parseFloat(t.label);return!isNaN(n)&&n>Math.min.apply(Math,b(e.props.scales||[]))&&n<Math.max.apply(Math,b(e.props.scales||[]))}return!1},onChange:function(t){return e.handleChangeEditableScaleList(t)}})))}else t=u().createElement(c.lV,{inline:!0},u().createElement(c.gE,{bsSize:"small"},u().createElement(c.mq,{htmlFor:"scaleBox"},this.props.label),u().createElement(c.MJ,{id:"scaleBox",componentClass:"select",onChange:this.onComboChange,value:n||""},this.getOptions())));return u().createElement("div",{id:this.props.id,style:this.props.style},t)}}])&&v(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(u().Component);P(j,"propTypes",{id:a().string,style:a().object,scales:a().array,currentZoomLvl:a().number,minZoom:a().number,onChange:a().func,readOnly:a().bool,label:a().oneOfType([a().func,a().string,a().object]),template:a().func,useRawInput:a().bool,disableScaleLockingParms:a().object}),P(j,"defaultProps",{id:"mapstore-scalebox",scales:(0,p.ev)(0,28),currentZoomLvl:0,minZoom:0,scale:0,onChange:function(){},readOnly:!1,template:function(e){return e<1?Math.round(1/e)+" : 1":"1 : "+Math.round(e)},useRawInput:!1,disableScaleLockingParms:{}});const E=j},548890:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(605556),o=n.n(r),i=n(273517),a=n.n(i),l=n(8117);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var b=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(e=function(e,t,n){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"onChange",function(t){e.props.onChange(t.target.value)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props.items.map(function(e){return a().createElement("option",{key:e.value,value:e.value},e.name)});return a().createElement(l.gE,null,this.props.label?a().createElement(l.mq,null,this.props.label):null,a().createElement(l.MJ,{ref:"input",value:this.props.selected,componentClass:"select",onChange:this.onChange},e))}}])&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a().Component);m(b,"propTypes",{items:o().array,label:o().string,onChange:o().func,selected:o().string}),m(b,"defaultProps",{items:[],label:"Choice",onChange:function(){},selected:""});const d=b},619453:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(605556),o=n.n(r),i=n(273517),a=n.n(i),l=n(8117);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var b=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(e=function(e,t,n){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"onChange",function(){e.props.onChange(!e.refs.input.props.checked)}),m(e,"isEnabled",function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some(function(t){return t.name.match(e.props.enableRegex)})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a().createElement(l.Sc,{disabled:!this.isEnabled(),ref:"input",checked:this.props.checked,onChange:this.onChange},this.props.label)}}])&&c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(a().Component);m(b,"propTypes",{layouts:o().array,enableRegex:o().oneOfType([o().object,o().string]),label:o().string,onChange:o().func,checked:o().bool,isEnabled:o().func}),m(b,"defaultProps",{layouts:[],enableRegex:/^.*$/,label:"Option",onChange:function(){},checked:!1});const d=b},178418:(e,t,n)=>{"use strict";n.d(t,{c:()=>b});var r=n(273517),o=n.n(r),i=n(605556),a=n.n(i),l=n(393149),u=n(628017),c=n(619453),s=n(858156),p=n.n(s);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e,t,n){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e,t){var n=e.spec,i=e.property,a=e.label,s=e.onChangeParameter,f=e.enabled,b=void 0===f||f,d=e.actions,v=e.path,g=void 0===v?"params.":v,h=e.additionalProperty,O=void 0===h||h,P=g+i;return(0,r.useEffect)(function(){var e;O&&(null==d||d.addParameter(i,null!==(e=p()(n,P))&&void 0!==e&&e))},[]),(0,l.BE)({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),"{"+b+"}")?o().createElement(c.A,{checked:!!p()(n,P),label:(0,u.kA)(t.messages,a),onChange:function(e){return s(P,e)}}):null};b.contextTypes={messages:a().object}},216339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OutputFormat:()=>g,default:()=>h});var r=n(273517),o=n.n(r),i=n(605556),a=n.n(i),l=n(393149),u=n(811668),c=n(437475),s=n(628017),p=n(548890),f=n(715987),m=n(895363);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e,t){var n,i,a=e.items,l=e.spec,u=e.onChangeParameter,c=e.defaultFormat,m=void 0===c?"pdf":c,y=e.allowedFormats,b=e.enabled,v=void 0===b||b;return(0,r.useEffect)(function(){v&&(0,f.addTransformer)("outputFormat",function(e,t){var n,r;return Promise.resolve(d(d({},t),{},{outputFormat:null!==(n=null===(r=e.print)||void 0===r||null===(r=r.spec)||void 0===r?void 0:r.outputFormat)&&void 0!==n?n:m}))})},[]),v?o().createElement(o().Fragment,null,o().createElement(p.A,{selected:null!==(n=null==l?void 0:l.outputFormat)&&void 0!==n?n:m,onChange:function(e){return u("outputFormat",e)},items:(i=a,y?y.filter(function(e){return i.find(function(t){return t.value===e.value})}):i),label:(0,s.kA)(t.messages,"print.outputFormat")})):null};g.contextTypes={messages:a().object};const h=(0,l.i1)("PrintOutputFormat",{component:(0,u.connect)(function(e){var t,n,r;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},items:null!==(n=null==e||null===(r=e.print)||void 0===r||null===(r=r.capabilities)||void 0===r||null===(r=r.outputFormats)||void 0===r?void 0:r.map(function(e){return{name:e.name,value:e.name}}))&&void 0!==n?n:[{name:"pdf",value:"pdf"}]}},{onChangeParameter:c.l_})(g),reducers:{print:m.A},containers:{Print:{priority:1,target:"left-panel",position:3}}})},127686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Projection:()=>S,default:()=>w,projectionSelector:()=>O});var r=n(273517),o=n.n(r),i=n(605556),a=n.n(i),l=n(811668),u=n(393149),c=n(715987),s=n(437475),p=n(895363),f=n(548890),m=n(628017),y=n(6683),b=n(764932);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=function(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t,n,r,o;return null!==(t=null!==(n=null==e||null===(r=e.print)||void 0===r||null===(r=r.spec)||void 0===r||null===(r=r.params)||void 0===r?void 0:r.projection)&&void 0!==n?n:null==e||null===(o=e.print)||void 0===o||null===(o=o.map)||void 0===o?void 0:o.projection)&&void 0!==t?t:"EPSG:3857"};function P(e,t){var n=O(e),r=(0,b.normalizeSRS)(n),o=(0,y.kp)(r),i=(0,c.mapProjectionSelector)(e),a=(0,b.normalizeSRS)(i);return g(g({},t),{},r!==a?{scale:o[t.zoom],zoom:t.zoom,projection:r}:{scale:o[t.zoom],zoom:t.zoom})}var S=function(e,t){var n,i,a=e.projection,l=e.items,u=e.onChangeParameter,s=e.allowPreview,p=void 0!==s&&s,y=e.projections,d=e.enabled,v=void 0===d||d;function g(e){u("params.projection",e)}return(0,r.useEffect)(function(){v&&(0,c.addValidator)("projection","map-preview",function(e){return function(t){var n=O(t),r=(0,c.mapProjectionSelector)(t);return e||(0,b.normalizeSRS)(n)===(0,b.normalizeSRS)(r)?{valid:!0}:{valid:!1,errors:["print.projectionmismatch"]}}}(p))},[p]),(0,r.useEffect)(function(){v&&(g(a),(0,c.addMapTransformer)("projection",P))},[]),v?o().createElement(o().Fragment,null,o().createElement(f.A,{selected:a,onChange:g,items:(n=l,i=y,i?i.filter(function(e){return n.find(function(t){return t.value===e.value})}):n),label:(0,m.kA)(t.messages,"print.projection")})):null};S.contextTypes={messages:a().object};const w=(0,u.i1)("PrintProjection",{component:(0,l.connect)(function(e){var t,n;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},map:null==e||null===(n=e.print)||void 0===n?void 0:n.map,projection:O(e),items:Object.keys((0,b.getAvailableCRS)()).map(function(e){return{name:e,value:e}})}},{onChangeParameter:s.l_})(S),reducers:{print:p.A},containers:{Print:{priority:1,target:"left-panel",position:4}}})},302702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInput:()=>b,default:()=>d});var r=n(273517),o=n.n(r),i=n(605556),a=n.n(i),l=n(811668),u=n(393149),c=n(628017),s=n(437475),p=n(8117),f=n(858156),m=n.n(f);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}var b=function(e,t){var n=e.spec,i=e.property,a=e.label,l=e.placeholder,u=e.actions,s=e.onChangeParameter,f=e.path,b=void 0===f?"params.":f,d=e.type,v=void 0===d?"text":d,g=e.additionalProperty,h=void 0===g||g,O=e.disabled,P=b+i;return(0,r.useEffect)(function(){var e;h&&u.addParameter(i,null!==(e=m()(n,P))&&void 0!==e?e:"")},[]),o().createElement(p.gE,null,a&&o().createElement(p.mq,null,(0,c.kA)(t.messages,a))||null,o().createElement(p.MJ,y({},function(e){return"textarea"!==e?{type:e}:{componentClass:e}}(v),{value:m()(n,P),placeholder:l&&(0,c.kA)(t.messages,l),onChange:function(e){return s(P,e.target.value)},disabled:O})))};b.contextTypes={messages:a().object};const d=(0,u.i1)("PrintTextInput",{component:(0,l.connect)(function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{}}},{onChangeParameter:s.l_})(b),containers:{Print:{priority:1}}})},681984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AdditionalLayers:()=>ht,DefaultBackgrounOption:()=>gt,Description:()=>st,Layout:()=>yt,LegendOptions:()=>bt,MapPreview:()=>vt,Name:()=>ct,OutputFormat:()=>pt,PrintPreview:()=>Pt,PrintSubmit:()=>Ot,Projection:()=>ft,Resolution:()=>dt,Rotation:()=>mt,default:()=>wt,standardItems:()=>St});var r=n(811668),o=n(415392),i=n(437475),a=n(779893),l=n(764932),u=n(302702),c=n(178418),s=n(273517),p=n.n(s),f=n(393149),m=n(8117),y=n(750042),b=n.n(y),d=n(8571);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e,t,n){return(t=function(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){var t=e.text,n=e.actions,r=e.action,o=e.enabled,i=e.actionConfig,a=e.loading,l=e.className,u=void 0===l?"":l,c=i.glyph,s=i.buttonConfig,y=c?p().createElement(m.e6,{glyph:c}):p().createElement("span",null),v=!!(0,f.BE)({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),"{"+o+"}");return p().createElement(m.$n,g({className:u,disabled:!v},s,{style:{marginTop:"10px",marginRight:"5px"},onClick:n[r]}),a?p().createElement(b(),{spinnerName:"circle",overrideSpinnerClassName:"spinner",noFadeIn:!0}):y," ",p().createElement(d.A,{msgId:t}))};(0,f.i1)("Action",{component:(0,r.connect)(function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},loading:e.print&&e.print.isLoading||!1}})(P),containers:{Print:{priority:1}}});var S=n(216339),w=n(127686),j=n(605556),E=n.n(j),C=n(628017),x=n(706702),k=n(548890),_=n(501882),R=n.n(_),A=["children","sheetRegex","layouts"];function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(null,arguments)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(L=function(){return!!e})()}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function N(e,t){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},N(e,t)}function M(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e){if("object"!=T(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==T(t)?t:t+""}var B=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=function(e,t,n){return t=I(t),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,L()?Reflect.construct(t,n||[],I(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"getLayoutName",function(t){return e.props.layoutNames?R()(e.props.layoutNames)?e.props.layoutNames(t):e.props.layoutNames[t]||t:t}),M(e,"getSheetFormats",function(){return e.props.layouts.reduce(function(t,n){var r=n.name.match(e.props.sheetRegex);return r&&r.length>0&&-1===t.indexOf(r[r.length-1])&&t.concat([r[r.length-1]])||t},[]).map(function(t){return{name:e.getLayoutName(t),value:t}})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=(e.children,e.sheetRegex,e.layouts,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,A));return p().createElement(k.A,z({},t,{items:this.getSheetFormats()}))}}],r&&F(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p().Component);M(B,"propTypes",{layouts:E().array,sheetRegex:E().oneOfType([E().object,E().string]),label:E().string,onChange:E().func,selected:E().string,layoutNames:E().oneOfType([E().object,E().func])}),M(B,"defaultProps",{layouts:[],sheetRegex:/^[^_]+/,label:"Sheet Size",onChange:function(){},selected:""});const U=B;function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y(r.key),r)}}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function W(e,t,n){return(t=Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){var t=function(e){if("object"!=Z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Z(t)?t:t+""}var q=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return W(e=function(e,t,n){return t=$(t),function(e,t){if(t&&("object"==Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,V()?Reflect.construct(t,n||[],$(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"onChange",function(t){e.props.onChange(t.target.value)}),W(e,"renderOptions",function(){return e.props.options.map(function(t){return p().createElement(m.sx,{key:t.label,disabled:!e.isEnabled(),ref:"input"+t.value,checked:e.props.selected===t.value,onChange:e.onChange,value:t.value},(0,C.kA)(e.context.messages,t.label))})}),W(e,"isEnabled",function(){return e.props.isEnabled?e.props.isEnabled(e.props.layouts):0===e.props.layouts.length||e.props.layouts.some(function(t){return t.name.match(e.props.enableRegex)})}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return p().createElement("span",{className:"form-inline"},this.renderOptions())}}])&&G(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p().Component);W(q,"propTypes",{layouts:E().array,enableRegex:E().oneOfType([E().object,E().string]),options:E().array,onChange:E().func,selected:E().string,isEnabled:E().func}),W(q,"contextTypes",{messages:E().object}),W(q,"defaultProps",{layouts:[],enableRegex:/^.*$/,options:[{label:"Option1",value:"Option1"},{label:"Option2",value:"Option2"}],onChange:function(){},selected:"Option1"});const H=q;var X=n(619453),K=n(910122),Q=[{name:"legend",component:(0,r.connect)(function(e){return{checked:e.print&&e.print.spec&&!!e.print.spec.includeLegend,layouts:(0,K.ZY)(e)}},{onChange:i.l_.bind(null,"includeLegend")})(X.A),regex:/legend/},{name:"2pages",component:(0,r.connect)(function(e){return{checked:e.print&&e.print.spec.includeLegend&&e.print.spec&&!!e.print.spec.twoPages,layouts:(0,K.ZY)(e),isEnabled:function(){return(0,K.FX)(e)}}},{onChange:i.l_.bind(null,"twoPages")})(X.A),regex:/2_pages/},{name:"landscape",component:(0,r.connect)(function(e){return{selected:e.print&&e.print.spec&&e.print.spec.landscape?"landscape":"portrait",layouts:(0,K.ZY)(e),options:[{label:"print.alternatives.landscape",value:"landscape"},{label:"print.alternatives.portrait",value:"portrait"}]}},{onChange:(0,x.Zz)(i.l_.bind(null,"landscape"),function(e){return"landscape"===e})})(H),regex:/landscape/}],ee=function(e,t){var n=e.layouts,r=e.spec,o=e.onChangeParameter,i=e.alternatives;return p().createElement(p().Fragment,null,p().createElement(U,{key:"sheetsize",selected:null==r?void 0:r.sheet,onChange:function(e){return o("sheet",e)},layouts:n,label:(0,C.kA)(t.messages,"print.sheetsize")}),function(e,t){return e.map(function(e){return p().createElement(e.component,{key:"printoption_"+e.name,label:(0,C.kA)(t.messages,"print.alternatives."+e.name),enableRegex:e.regex})})}(i||Q,t))};ee.contextTypes={messages:E().object};var te=n(711030),ne=n(645617);function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ie=function(){return!!e})()}function ae(e){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ae(e)}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function ue(e,t,n){return(t=ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){var t=function(e){if("object"!=re(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==re(t)?t:t+""}var se=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ue(e=function(e,t,n){return t=ae(t),function(e,t){if(t&&("object"==re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ie()?Reflect.construct(t,n||[],ae(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"onChangeFamily",function(t){e.props.onChangeFamily(t)}),ue(e,"onChangeSize",function(t){e.props.onChangeSize(parseInt(t,10))}),ue(e,"toggleBold",function(){e.props.onChangeBold(!e.props.bold)}),ue(e,"toggleItalic",function(){e.props.onChangeItalic(!e.props.italic)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return p().createElement(m.xA,{fluid:!0},p().createElement(m.fI,null,p().createElement(m.fv,{xs:12},p().createElement("label",{className:"control-label"},this.props.label))),p().createElement(m.fI,null,p().createElement(m.fv,{xs:5},p().createElement(k.A,{ref:"family",onChange:this.onChangeFamily,label:"",items:this.props.fonts.map(function(e){return{name:e,value:e}}),selected:this.props.family})),p().createElement(m.fv,{xs:3},p().createElement(ne.A,{ref:"size",type:"number",value:this.props.size,min:0,precision:0,onChange:this.onChangeSize})),p().createElement(m.fv,{xs:2},p().createElement(te.A,{bsStyle:"primary",bsSize:"small",active:this.props.bold,onClick:this.toggleBold},p().createElement(m.e6,{glyph:"bold"}))),p().createElement(m.fv,{xs:2},p().createElement(te.A,{bsStyle:"primary",bsSize:"small",active:this.props.italic,onClick:this.toggleItalic},p().createElement(m.e6,{glyph:"italic"})))))}}])&&oe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p().Component);ue(se,"propTypes",{fonts:E().array,label:E().string,onChangeFamily:E().func,onChangeSize:E().func,onChangeBold:E().func,onChangeItalic:E().func,family:E().string,size:E().number,bold:E().bool,italic:E().bool}),ue(se,"defaultProps",{fonts:["Verdana","Serif","SansSerif","Arial","Courier New","Tahoma","Times New Roman"],label:"Font",onChangeFamily:function(){},onChangeSize:function(){},family:"",size:8,bold:!1,italic:!1});const pe=se;var fe=function(e,t){var n=e.spec,r=e.onChangeParameter,o=e.actions;return p().createElement(p().Fragment,null,p().createElement(pe,{family:null==n?void 0:n.fontFamily,size:null==n?void 0:n.fontSize,bold:null==n?void 0:n.bold,italic:null==n?void 0:n.italic,onChangeFamily:function(e){return r("fontFamily",e)},onChangeSize:function(e){return r("fontSize",e)},onChangeBold:function(e){return r("bold",e)},onChangeItalic:function(e){return r("italic",e)},label:(0,C.kA)(t.messages,"print.legend.font")}),p().createElement(X.A,{label:(0,C.kA)(t.messages,"print.legend.forceLabels"),checked:!(null==n||!n.forceLabels),onChange:function(e){return r("forceLabels",e)}}),p().createElement(X.A,{label:(0,C.kA)(t.messages,"print.legend.antiAliasing"),checked:!(null==n||!n.antiAliasing),onChange:function(e){return r("antiAliasing",e)}}),p().createElement(X.A,{label:(0,C.kA)(t.messages,"print.legend.forceIconsSize"),checked:!(null==n||!n.forceIconsSize),onChange:function(e){return r("forceIconsSize",e)}}),p().createElement(u.TextInput,{label:(0,C.kA)(t.messages,"print.legend.iconsWidth"),spec:n,disabled:!(null!=n&&n.forceIconsSize),type:"number",additionalProperty:!1,property:"iconsWidth",path:"",onChangeParameter:r,actions:o}),p().createElement(u.TextInput,{label:(0,C.kA)(t.messages,"print.legend.iconsHeight"),spec:n,disabled:!(null!=n&&n.forceIconsSize),type:"number",additionalProperty:!1,property:"iconsHeight",path:"",onChangeParameter:r,actions:o}),p().createElement(u.TextInput,{label:(0,C.kA)(t.messages,"print.legend.dpi"),spec:n,type:"number",additionalProperty:!1,property:"legendDpi",path:"",onChangeParameter:r,actions:o}))};fe.contextTypes={messages:E().object};var me=function(e,t){var n=e.items,r=e.spec,o=e.onChangeParameter;return p().createElement(p().Fragment,null,p().createElement(k.A,{selected:null==r?void 0:r.resolution,onChange:function(e){return o("resolution",e)},items:n,label:(0,C.kA)(t.messages,"print.resolution")}))};me.contextTypes={messages:E().object};var ye,be,de,ve=n(45228),ge=n.n(ve),he=n(715987),Oe=n(959024),Pe=n(269843),Se=n.n(Pe),we=n(962193),je=n.n(we),Ee=n(444003),Ce=n(385733);function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(null,arguments)}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(t){Ie(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ne(r.key),r)}}function ze(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ze=function(){return!!e})()}function Fe(e){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fe(e)}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Ie(e,t,n){return(t=Ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e){var t=function(e){if("object"!=xe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xe(t)?t:t+""}var Me=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Ie(e=function(e,t,n){return t=Fe(t),function(e,t){if(t&&("object"==xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ze()?Reflect.construct(t,n||[],Fe(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"state",{mapTypeLoaded:!1}),Ie(e,"getRatio",function(){return e.props.width&&e.props.layoutSize?(0,he.getResolutionMultiplier)(e.props.layoutSize.width,e.props.width,e.props.printRatio):1}),Ie(e,"getResolutions",function(t){var n=(0,Ce.Jt)(t).getMetersPerUnit(),r=e.props.useFixedScales&&!e.props.editScale&&e.props.scales?e.props.scales.map(function(e){return function(e){return 28e-5*e/n}(e)}):e.props.resolutions;return e.props.width&&e.props.layoutSize&&r?r.map(function(t){return t*e.getRatio()}):r}),Ie(e,"renderLayerContent",function(e,t){return e.features&&"vector"===e.type?e.features.map(function(n){return p().createElement(de,{crs:t,key:n.id,type:n.type,geometry:n.geometry,features:n.features,msId:n.id,featuresCrs:e.featuresCrs||"EPSG:4326",layerStyle:e.style,style:n.style||e.style||null,properties:n.properties})}):null}),Ie(e,"adjustResolution",function(t){var n=e.getRatio(),r=Math.round(96/n);return ge()({},t,Ae(Ae(Ae({},!Se()(null==t?void 0:t.minResolution)&&{minResolution:t.minResolution*n}),!Se()(null==t?void 0:t.maxResolution)&&{maxResolution:t.maxResolution*n}),{},{params:ge()({},t.params,{format_options:"dpi:"+r,"MAP.RESOLUTION":r})}))}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(t,e),r=t,(o=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;this._isMounted=!0,this.props.onLoadingMapPlugins(!0),Promise.all([n(324463)("./"+this.props.mapType+"/index"),n(178612)("./"+this.props.mapType+"/plugins/index")]).then(function(t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,1)[0];if(e._isMounted){var r=n.default;ye=r.LMap,be=r.LLayer,de=r.Feature,e.setState({mapTypeLoaded:!0}),e.props.onLoadingMapPlugins(!1,e.props.mapType)}})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e,t,n,r,o=this;if(!this.state.mapTypeLoaded)return null;var i=ge()({},this.props.style,{width:this.props.width+"px",height:this.props.height+"px"}),a=this.props.map&&this.props.map.projection||"EPSG:3857",l=this.props.editScale&&(null===(e=this.props)||void 0===e||null===(e=e.map)||void 0===e||null===(e=e.mapPrintResolutions)||void 0===e?void 0:e.length)?null===(t=this.props)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.mapPrintResolutions:this.getResolutions(a),u=je()(l)&&Se()(this.props.rotation)?{}:{view:Ae(Ae({},!je()(l)&&{resolutions:l}),{},{rotation:Se()(this.props.rotation)?0:Number(this.props.rotation)})};return this.props.map&&this.props.map.center?p().createElement("div",{className:"print-map-preview"},p().createElement(ye,ke({ref:"mappa"},this.props.map,{resize:this.props.height,style:i,interactive:!0,onMapViewChanges:this.props.onMapViewChanges,zoomControl:!1,zoom:this.props.useFixedScales&&!this.props.editScale?this.props.map.scaleZoom:this.props.map.zoom,center:this.props.map.center,id:"print_preview",registerHooks:!1,mapOptions:u,editScale:this.props.editScale}),this.props.layers.map(function(e,t){return p().createElement(be,{key:e.id||e.name,position:t,type:e.type,srs:a,options:ge()({},o.adjustResolution(e),{srs:a}),env:o.props.env},o.renderLayerContent(e,a))})),this.props.enableScalebox?p().createElement(Oe.A,{id:"mappreview-scalebox",currentZoomLvl:this.props.map.scaleZoom,scales:this.props.scales,onChange:this.props.onChangeZoomLevel,disableScaleLockingParms:this.props.editScale?{editScale:this.props.editScale,projection:(null===(n=this.props)||void 0===n||null===(n=n.printSpec)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.projection)||"EPSG:3857",resolution:(null===(r=this.props)||void 0===r||null===(r=r.map)||void 0===r?void 0:r.mapResolution)||0,resolutions:l,ratio:this.getRatio()}:{}}):null,this.props.enableRefresh?p().createElement(te.A,{bsStyle:"primary",onClick:this.props.onMapRefresh,className:"print-mappreview-refresh"},p().createElement(m.e6,{glyph:"refresh"})):null):null}}])&&Te(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o}(p().Component);Ie(Me,"propTypes",{map:E().object,layers:E().array,style:E().object,scales:E().array,onChangeZoomLevel:E().func,onMapViewChanges:E().func,onMapRefresh:E().func,height:E().number,width:E().number,mapType:E().string,enableRefresh:E().bool,enableScalebox:E().bool,resolutions:E().array,printRatio:E().number,layout:E().string,layoutSize:E().object,useFixedScales:E().bool,rotation:E().number,env:E().object,onLoadingMapPlugins:E().func,editScale:E().bool,scale:E().number}),Ie(Me,"defaultProps",{map:null,layers:[],mapType:Ee.Av.OPENLAYERS,style:{display:"block",border:"1px solid black",position:"relative"},onChangeZoomLevel:function(){},onMapViewChanges:function(){},onMapRefresh:function(){},width:370,height:270,enableRefresh:!0,enableScalebox:!0,useFixedScales:!1,editScale:!1,onLoadingMapPlugins:function(){}});const De=Me;var Be=n(6683),Ue=n(386139),Ze=n.n(Ue),Ge=["mapSize","layout","layoutName","resolutions","useFixedScales","localizedLayerStylesEnv","mapPreviewOptions","mapType","map","capabilities","onRefresh","validation","editScale","printMap","printSpec"];function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(null,arguments)}var $e=function(e){var t,n,r=e.mapSize,o=e.layout,i=e.layoutName,a=e.resolutions,l=e.useFixedScales,u=e.localizedLayerStylesEnv,c=e.mapPreviewOptions,s=e.mapType,f=e.map,m=e.capabilities,y=e.onRefresh,b=e.validation,v=void 0===b?{valid:!0}:b,g=e.editScale,h=e.printMap,O=e.printSpec,P=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ge),S=O&&Ze()({},O,h||{}),w=S&&(null==S||null===(t=S.params)||void 0===t?void 0:t.projection)||S&&(null==S?void 0:S.projection)||h&&h.projection||"EPSG:3857",j=g?(0,Be.kp)(w,f&&f.mapOptions&&f.mapOptions.view&&f.mapOptions.view.DPI||null):m.scales.slice(0).reverse().map(function(e){return parseFloat(e.value)})||[];return v.valid?p().createElement(De,Ve({},P,{map:f,layers:null!==(n=null==f?void 0:f.layers)&&void 0!==n?n:[],scales:j,width:r.width,height:r.height,mapType:s,onMapRefresh:y,layout:i,layoutSize:o&&o.map||{width:10,height:10},resolutions:a,useFixedScales:l,env:u,editScale:g},c)):p().createElement("div",{id:"map-preview-disabled-message"},p().createElement(d.A,{msgId:"print.disabledpreview"}))};$e.contextTypes={messages:E().object};var Je=n(240956),We=n(952555),Ye=n(830269);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tt(r.key),r)}}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Xe=function(){return!!e})()}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qe(e,t)}function et(e,t,n){return(t=tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e){var t=function(e){if("object"!=qe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qe(t)?t:t+""}n(674944),n(77122),Je.A.GlobalWorkerOptions.workerSrc=new URL(n(782569),n.b).toString();var nt=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return et(e=function(e,t,n){return t=Ke(t),function(e,t){if(t&&("object"==qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xe()?Reflect.construct(t,n||[],Ke(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"onDocumentComplete",function(t){e.props.setPages(t&&t.numPages||0)}),et(e,"firstPage",function(){e.props.currentPage>0&&e.props.setPage(0)}),et(e,"lastPage",function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.pages-1)}),et(e,"prevPage",function(){e.props.currentPage>0&&e.props.setPage(e.props.currentPage-1)}),et(e,"nextPage",function(){e.props.currentPage<e.props.pages-1&&e.props.setPage(e.props.currentPage+1)}),et(e,"zoomIn",function(){e.props.setScale(e.props.scale*e.props.zoomFactor)}),et(e,"zoomOut",function(){e.props.setScale(e.props.scale/e.props.zoomFactor)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return p().createElement("div",{id:"mapstore-print-preview-panel"},p().createElement("div",{style:this.props.style},p().createElement(We.A,{file:this.props.url,onLoadSuccess:this.onDocumentComplete},p().createElement(Ye.A,{pageNumber:this.props.currentPage+1,scale:this.props.scale}))),p().createElement("div",{style:{marginTop:"10px"}},p().createElement(te.A,{bsStyle:this.props.buttonStyle,style:{marginRight:"10px"},onClick:this.props.back},p().createElement(m.e6,{glyph:"arrow-left"})),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:this.props.scale>=this.props.maxScale,onClick:this.zoomIn},p().createElement(m.e6,{glyph:"zoom-in"})),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:this.props.scale<=this.props.minScale,onClick:this.zoomOut},p().createElement(m.e6,{glyph:"zoom-out"})),p().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.scale,"x"),p().createElement("div",{className:"print-download btn btn-"+this.props.buttonStyle},p().createElement("a",{href:this.props.downloadUrl,target:"_blank"},p().createElement(m.e6,{glyph:"save"}))),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.firstPage},p().createElement(m.e6,{glyph:"step-backward"})),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:0===this.props.currentPage,onClick:this.prevPage},p().createElement(m.e6,{glyph:"chevron-left"})),p().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},this.props.currentPage+1," / ",this.props.pages),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.nextPage},p().createElement(m.e6,{glyph:"chevron-right"})),p().createElement(te.A,{bsStyle:this.props.buttonStyle,disabled:this.props.currentPage===this.props.pages-1,onClick:this.lastPage},p().createElement(m.e6,{glyph:"step-forward"}))))}}])&&He(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(p().Component);et(nt,"propTypes",{url:E().string,downloadUrl:E().string,scale:E().number,currentPage:E().number,pages:E().number,zoomFactor:E().number,minScale:E().number,maxScale:E().number,back:E().func,setScale:E().func,setPage:E().func,setPages:E().func,style:E().object,buttonStyle:E().string}),et(nt,"defaultProps",{url:null,downloadUrl:null,scale:1,minScale:.25,maxScale:8,currentPage:0,pages:1,zoomFactor:2,back:function(){},setScale:function(){},setPage:function(){},setPages:function(){},style:{height:"500px",width:"800px",overflow:"auto",backgroundColor:"#888",padding:"10px"},buttonStyle:"default"});const rt=nt;var ot=["outputFormat"];function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(null,arguments)}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var lt=["png","jpg","bmp","gif","jpeg"],ut=function(e){var t,n,r=e.downloadUrl,o=e.format,i=e.buttonStyle,a=e.back,l=e.maxPreviewZoom,u=void 0===l?5:l,c=e.supportedFormats,f=void 0===c?lt:c,y=(t=(0,s.useState)(1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return at(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=y[0],v=y[1],g=-1!==f.indexOf(o);return p().createElement("div",{id:"mapstore-image-print-preview-panel"},g?p().createElement("div",{className:"mapstore-print-preview-img-wrapper"},p().createElement("img",{src:r,style:{transform:"scale(".concat(b,")"),transformOrigin:"top left"}})):p().createElement(d.A,{msgId:"print.previewFormatUnsupported"}),p().createElement("div",{style:{marginTop:"10px"}},p().createElement(m.$n,{bsStyle:i,style:{marginRight:"10px"},onClick:a},p().createElement(m.e6,{glyph:"arrow-left"})),p().createElement(m.$n,{bsStyle:i,disabled:!g||b>=u,onClick:function(){v(function(e){return e+1})}},p().createElement(m.e6,{glyph:"zoom-in"})),p().createElement(m.$n,{bsStyle:i,disabled:!g||b<=1,onClick:function(){v(function(e){return e-1})}},p().createElement(m.e6,{glyph:"zoom-out"})),p().createElement("label",{style:{marginLeft:"10px",marginRight:"10px"}},b,"x"),p().createElement("div",{className:"print-download btn btn-"+i},p().createElement("a",{href:r,target:"_blank"},p().createElement(m.e6,{glyph:"save"})))))},ct=(0,r.connect)(function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},additionalProperty:!1,property:"name",path:"",type:"text",label:"print.title",placeholder:"print.titleplaceholder"}},{onChangeParameter:i.l_})(u.TextInput),st=(0,r.connect)(function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},additionalProperty:!1,property:"description",path:"",type:"textarea",label:"print.description",placeholder:"print.descriptionplaceholder"}},{onChangeParameter:i.l_})(u.TextInput),pt=(0,r.connect)(function(e){var t,n,r;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},items:null!==(n=null==e||null===(r=e.print)||void 0===r||null===(r=r.capabilities)||void 0===r||null===(r=r.outputFormats)||void 0===r?void 0:r.map(function(e){return{name:e.name,value:e.name}}))&&void 0!==n?n:[{name:"PDF",value:"pdf"}]}},{onChangeParameter:i.l_})(S.OutputFormat),ft=(0,r.connect)(function(e){var t,n;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},map:null==e||null===(n=e.print)||void 0===n?void 0:n.map,projection:(0,w.projectionSelector)(e),items:Object.keys((0,l.getAvailableCRS)()).map(function(e){return{name:e,value:e}})}},{onChangeParameter:i.l_})(w.Projection),mt=(0,r.connect)(function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},additionalProperty:!1,property:"rotation",path:"",type:"number",label:"print.rotation"}},{onChangeParameter:i.l_})(u.TextInput),yt=(0,r.connect)(function(e){var t,n;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},layouts:(null==e||null===(n=e.print)||void 0===n||null===(n=n.capabilities)||void 0===n?void 0:n.layouts)||[]}},{onChangeParameter:i.l_})(ee),bt=(0,r.connect)(function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{}}},{onChangeParameter:i.l_})(fe),dt=(0,r.connect)(function(e){var t,n,r;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},items:null!==(n=null==e||null===(r=e.print)||void 0===r||null===(r=r.capabilities)||void 0===r||null===(r=r.dpis)||void 0===r?void 0:r.map(function(e){return{name:e.name+" dpi",value:e.value}}))&&void 0!==n?n:[]}},{onChangeParameter:i.l_})(me),vt=(0,r.connect)(function(e){var t,n;return{capabilities:null!==(t=null===(n=e.print)||void 0===n?void 0:n.capabilities)&&void 0!==t?t:{}}},{onChangeZoomLevel:i.dn,onMapViewChanges:i.YD})($e),gt=(0,r.connect)(function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},enabled:"context.notAllowedLayers",path:"",property:"defaultBackground",additionalProperty:!1,label:"print.defaultBackground"}},{onChangeParameter:i.l_})(c.c),ht=(0,r.connect)(function(e){var t;return{spec:(null===(t=e.print)||void 0===t?void 0:t.spec)||{},path:"",property:"additionalLayers",additionalProperty:!1,label:"print.additionalLayers"}},{onChangeParameter:i.l_})(c.c),Ot=(0,r.connect)(function(e){var t;return{spec:(null==e||null===(t=e.print)||void 0===t?void 0:t.spec)||{},loading:e.print&&e.print.isLoading||!1,text:"print.submit",action:"print",enabled:"context.layout",className:"print-submit"}})(P),Pt=(0,r.connect)(function(e){var t,n,r;return{url:e.print&&a.Ay.getProxiedUrl(e.print.pdfUrl),downloadUrl:e.print&&e.print.pdfUrl,scale:e.controls&&e.controls.print&&e.controls.print.viewScale||.5,currentPage:e.controls&&e.controls.print&&e.controls.print.currentPage||0,pages:e.controls&&e.controls.print&&e.controls.print.pages||1,additionalLayers:null!==(t=null===(n=e.print)||void 0===n||null===(n=n.spec)||void 0===n?void 0:n.additionalLayers)&&void 0!==t&&t,outputFormat:(null===(r=e.print)||void 0===r||null===(r=r.spec)||void 0===r?void 0:r.outputFormat)||"pdf"}},{back:i.yT,setPage:o.fN.bind(null,"print","currentPage"),setPages:o.fN.bind(null,"print","pages"),setScale:o.fN.bind(null,"print","viewScale")})(function(e){var t=e.outputFormat,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ot);return"pdf"===t?p().createElement(rt,n):p().createElement(ut,it({format:t},n))}),St={"left-panel":[{id:"name",plugin:ct,cfg:{},position:1},{id:"description",plugin:st,cfg:{},position:2},{id:"outputFormat",plugin:pt,cfg:{allowedFormats:[{name:"PDF",value:"pdf"},{name:"PNG",value:"png"},{name:"JPEG",value:"jpg"}]},position:3},{id:"projection",plugin:ft,cfg:{allowPreview:!0,projections:[{name:"EPSG:3857",value:"EPSG:3857"},{name:"EPSG:4326",value:"EPSG:4326"}]},position:4},{id:"rotation",plugin:mt,position:5},{id:"overlayLayers",plugin:ht,cfg:{enabled:!1},position:6}],"left-panel-accordion":[{id:"layout",plugin:yt,cfg:{title:"print.layout"},position:1},{id:"legend-options",plugin:bt,cfg:{title:"print.legendoptions"},position:2}],"right-panel":[{id:"resolution",plugin:dt,cfg:{},position:1},{id:"map-preview",plugin:vt,cfg:{},position:2},{id:"default-background-ignore",plugin:gt,cfg:{},position:3}],buttons:[{id:"submit",plugin:Ot,cfg:{},position:1}],"preview-panel":[{id:"printpreview",plugin:Pt,cfg:{},position:1}]};const wt={standardItems:St}},817640:()=>{},923237:()=>{},597492:()=>{},931815:()=>{},682787:()=>{}}]);