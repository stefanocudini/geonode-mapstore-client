/*! For license information please see 62758.0088c0f3d9c05c53.chunk.js.LICENSE.txt */
(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[62758],{24827:(e,t)=>{var i,n,r,o,s,a,l,c,u,d,h,p,f;n={defaultNoDataValue:-34027999387901484e22,decode:function(e,t){var i=(t=t||{}).encodedMaskData||null===t.encodedMaskData,l=a(e,t.inputOffset||0,i),c=null!==t.noDataValue?t.noDataValue:n.defaultNoDataValue,u=r(l,t.pixelType||Float32Array,t.encodedMaskData,c,t.returnMask),d={width:l.width,height:l.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:l.pixels.maxValue,noDataValue:c};return u.resultMask&&(d.maskData=u.resultMask),t.returnEncodedMask&&l.mask&&(d.encodedMaskData=l.mask.bitset?l.mask.bitset:null),t.returnFileInfo&&(d.fileInfo=o(l),t.computeUsedBitDepths&&(d.fileInfo.bitDepths=s(l))),d}},r=function(e,t,i,n,r){var o,s,a,c=0,u=e.pixels.numBlocksX,d=e.pixels.numBlocksY,h=Math.floor(e.width/u),p=Math.floor(e.height/d),f=2*e.maxZError,m=Number.MAX_VALUE;i=i||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),r&&i&&(a=new Uint8Array(e.width*e.height));for(var A,g,_=new Float32Array(h*p),y=0;y<=d;y++){var v=y!==d?p:e.height%d;if(0!==v)for(var b=0;b<=u;b++){var w=b!==u?h:e.width%u;if(0!==w){var x,C,S,T,P=y*e.width*p+b*h,E=e.width-w,M=e.pixels.blocks[c];if(M.encoding<2?(0===M.encoding?x=M.rawData:(l(M.stuffedData,M.bitsPerPixel,M.numValidPixels,M.offset,f,_,e.pixels.maxValue),x=_),C=0):S=2===M.encoding?0:M.offset,i)for(g=0;g<v;g++){for(7&P&&(T=i[P>>3],T<<=7&P),A=0;A<w;A++)7&P||(T=i[P>>3]),128&T?(a&&(a[P]=1),m=m>(o=M.encoding<2?x[C++]:S)?o:m,s[P++]=o):(a&&(a[P]=0),s[P++]=n),T<<=1;P+=E}else if(M.encoding<2)for(g=0;g<v;g++){for(A=0;A<w;A++)m=m>(o=x[C++])?o:m,s[P++]=o;P+=E}else for(m=m>S?S:m,g=0;g<v;g++){for(A=0;A<w;A++)s[P++]=S;P+=E}if(1===M.encoding&&C!==M.numValidPixels)throw"Block and Mask do not match";c++}}}return{resultPixels:s,resultMask:a,minValue:m}},o=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},s=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,i={},n=0;n<t;n++){var r=e.pixels.blocks[n];0===r.encoding?i.float32=!0:1===r.encoding?i[r.bitsPerPixel]=!0:i[0]=!0}return Object.keys(i)},a=function(e,t,i){var n={},r=new Uint8Array(e,t,10);if(n.fileIdentifierString=String.fromCharCode.apply(null,r),"CntZImage"!==n.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+=10;var o=new DataView(e,t,24);if(n.fileVersion=o.getInt32(0,!0),n.imageType=o.getInt32(4,!0),n.height=o.getUint32(8,!0),n.width=o.getUint32(12,!0),n.maxZError=o.getFloat64(16,!0),t+=24,!i)if(o=new DataView(e,t,16),n.mask={},n.mask.numBlocksY=o.getUint32(0,!0),n.mask.numBlocksX=o.getUint32(4,!0),n.mask.numBytes=o.getUint32(8,!0),n.mask.maxValue=o.getFloat32(12,!0),t+=16,n.mask.numBytes>0){var s=new Uint8Array(Math.ceil(n.width*n.height/8)),a=(o=new DataView(e,t,n.mask.numBytes)).getInt16(0,!0),l=2,c=0;do{if(a>0)for(;a--;)s[c++]=o.getUint8(l++);else{var u=o.getUint8(l++);for(a=-a;a--;)s[c++]=u}a=o.getInt16(l,!0),l+=2}while(l<n.mask.numBytes);if(-32768!==a||c<s.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset=s,t+=n.mask.numBytes}else n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue||(n.mask.bitset=new Uint8Array(Math.ceil(n.width*n.height/8)));o=new DataView(e,t,16),n.pixels={},n.pixels.numBlocksY=o.getUint32(0,!0),n.pixels.numBlocksX=o.getUint32(4,!0),n.pixels.numBytes=o.getUint32(8,!0),n.pixels.maxValue=o.getFloat32(12,!0),t+=16;var d=n.pixels.numBlocksX,h=n.pixels.numBlocksY,p=d+(n.width%d>0?1:0),f=h+(n.height%h>0?1:0);n.pixels.blocks=new Array(p*f);for(var m=0,A=0;A<f;A++)for(var g=0;g<p;g++){var _=0,y=e.byteLength-t;o=new DataView(e,t,Math.min(10,y));var v={};n.pixels.blocks[m++]=v;var b=o.getUint8(0);if(_++,v.encoding=63&b,v.encoding>3)throw"Invalid block encoding ("+v.encoding+")";if(2!==v.encoding){if(0!==b&&2!==b){if(b>>=6,v.offsetType=b,2===b)v.offset=o.getInt8(1),_++;else if(1===b)v.offset=o.getInt16(1,!0),_+=2;else{if(0!==b)throw"Invalid block offset type";v.offset=o.getFloat32(1,!0),_+=4}if(1===v.encoding)if(b=o.getUint8(_),_++,v.bitsPerPixel=63&b,b>>=6,v.numValidPixelsType=b,2===b)v.numValidPixels=o.getUint8(_),_++;else if(1===b)v.numValidPixels=o.getUint16(_,!0),_+=2;else{if(0!==b)throw"Invalid valid pixel count type";v.numValidPixels=o.getUint32(_,!0),_+=4}}var w;if(t+=_,3!==v.encoding)if(0===v.encoding){var x=(n.pixels.numBytes-1)/4;if(x!==Math.floor(x))throw"uncompressed block has invalid length";w=new ArrayBuffer(4*x),new Uint8Array(w).set(new Uint8Array(e,t,4*x));var C=new Float32Array(w);v.rawData=C,t+=4*x}else if(1===v.encoding){var S=Math.ceil(v.numValidPixels*v.bitsPerPixel/8),T=Math.ceil(S/4);w=new ArrayBuffer(4*T),new Uint8Array(w).set(new Uint8Array(e,t,S)),v.stuffedData=new Uint32Array(w),t+=S}}else t++}return n.eofOffset=t,n},l=function(e,t,i,n,r,o,s){var a,l,c,u=(1<<t)-1,d=0,h=0,p=Math.ceil((s-n)/r),f=4*e.length-Math.ceil(t*i/8);for(e[e.length-1]<<=8*f,a=0;a<i;a++){if(0===h&&(c=e[d++],h=32),h>=t)l=c>>>h-t&u,h-=t;else{var m=t-h;l=(c&u)<<m&u,l+=(c=e[d++])>>>(h=32-m)}o[a]=l<p?n+l*r:s}return o},d=n,h=function(){"use strict";var e=function(e,t,i,n,r,o,s,a){var l,c,u,d,h,p=(1<<i)-1,f=0,m=0,A=4*e.length-Math.ceil(i*n/8);if(e[e.length-1]<<=8*A,r)for(l=0;l<n;l++)0===m&&(u=e[f++],m=32),m>=i?(c=u>>>m-i&p,m-=i):(c=(u&p)<<(d=i-m)&p,c+=(u=e[f++])>>>(m=32-d)),t[l]=r[c];else for(h=Math.ceil((a-o)/s),l=0;l<n;l++)0===m&&(u=e[f++],m=32),m>=i?(c=u>>>m-i&p,m-=i):(c=(u&p)<<(d=i-m)&p,c+=(u=e[f++])>>>(m=32-d)),t[l]=c<h?o+c*s:a},t=function(e,t,i,n,r,o,s,a){var l,c,u,d,h=(1<<i)-1,p=0,f=0,m=0;if(r)for(l=0;l<n;l++)0===f&&(u=e[p++],f=32,m=0),f>=i?(c=u>>>m&h,f-=i,m+=i):(c=u>>>m&h,f=32-(d=i-f),c|=((u=e[p++])&(1<<d)-1)<<i-d,m=d),t[l]=r[c];else{var A=Math.ceil((a-o)/s);for(l=0;l<n;l++)0===f&&(u=e[p++],f=32,m=0),f>=i?(c=u>>>m&h,f-=i,m+=i):(c=u>>>m&h,f=32-(d=i-f),c|=((u=e[p++])&(1<<d)-1)<<i-d,m=d),t[l]=c<A?o+c*s:a}return t},i={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,i=65535,n=e.length,r=Math.floor(n/2),o=0;r;){var s=r>=359?359:r;r-=s;do{t+=e[o++]<<8,i+=t+=e[o++]}while(--s);t=(65535&t)+(t>>>16),i=(65535&i)+(i>>>16)}return 1&n&&(i+=t+=e[o]<<8),((i=(65535&i)+(i>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var i=t.ptr,n=new Uint8Array(e,i,6),r={};if(r.fileIdentifierString=String.fromCharCode.apply(null,n),0!==r.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+r.fileIdentifierString;i+=6;var o,s=new DataView(e,i,8),a=s.getInt32(0,!0);if(r.fileVersion=a,i+=4,a>=3&&(r.checksum=s.getUint32(4,!0),i+=4),s=new DataView(e,i,12),r.height=s.getUint32(0,!0),r.width=s.getUint32(4,!0),i+=8,a>=4?(r.numDims=s.getUint32(8,!0),i+=4):r.numDims=1,s=new DataView(e,i,40),r.numValidPixel=s.getUint32(0,!0),r.microBlockSize=s.getInt32(4,!0),r.blobSize=s.getInt32(8,!0),r.imageType=s.getInt32(12,!0),r.maxZError=s.getFloat64(16,!0),r.zMin=s.getFloat64(24,!0),r.zMax=s.getFloat64(32,!0),i+=40,t.headerInfo=r,t.ptr=i,a>=3&&(o=a>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,i-o,r.blobSize-14))!==r.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var i=t.headerInfo,n=this.getDataTypeArray(i.imageType),r=i.numDims*this.getDataTypeSize(i.imageType),o=this.readSubArray(e,t.ptr,n,r),s=this.readSubArray(e,t.ptr+r,n,r);t.ptr+=2*r;var a,l=!0;for(a=0;a<i.numDims;a++)if(o[a]!==s[a]){l=!1;break}return i.minValues=o,i.maxValues=s,l},readSubArray:function(e,t,i,n){var r;if(i===Uint8Array)r=new Uint8Array(e,t,n);else{var o=new ArrayBuffer(n);new Uint8Array(o).set(new Uint8Array(e,t,n)),r=new i(o)}return r},readMask:function(e,t){var i,n,r=t.ptr,o=t.headerInfo,s=o.width*o.height,a=o.numValidPixel,l=new DataView(e,r,4),c={};if(c.numBytes=l.getUint32(0,!0),r+=4,(0===a||s===a)&&0!==c.numBytes)throw"invalid mask";if(0===a)i=new Uint8Array(Math.ceil(s/8)),c.bitset=i,n=new Uint8Array(s),t.pixels.resultMask=n,r+=c.numBytes;else if(c.numBytes>0){i=new Uint8Array(Math.ceil(s/8));var u=(l=new DataView(e,r,c.numBytes)).getInt16(0,!0),d=2,h=0,p=0;do{if(u>0)for(;u--;)i[h++]=l.getUint8(d++);else for(p=l.getUint8(d++),u=-u;u--;)i[h++]=p;u=l.getInt16(d,!0),d+=2}while(d<c.numBytes);if(-32768!==u||h<i.length)throw"Unexpected end of mask RLE encoding";n=new Uint8Array(s);var f=0,m=0;for(m=0;m<s;m++)7&m?(f=i[m>>3],f<<=7&m):f=i[m>>3],128&f&&(n[m]=1);t.pixels.resultMask=n,c.bitset=i,r+=c.numBytes}return t.ptr=r,t.mask=c,!0},readDataOneSweep:function(e,t,n){var r,o=t.ptr,s=t.headerInfo,a=s.numDims,l=s.width*s.height,c=s.imageType,u=s.numValidPixel*i.getDataTypeSize(c)*a,d=t.pixels.resultMask;if(n===Uint8Array)r=new Uint8Array(e,o,u);else{var h=new ArrayBuffer(u);new Uint8Array(h).set(new Uint8Array(e,o,u)),r=new n(h)}if(r.length===l*a)t.pixels.resultPixels=r;else{t.pixels.resultPixels=new n(l*a);var p=0,f=0,m=0,A=0;if(a>1)for(m=0;m<a;m++)for(A=m*l,f=0;f<l;f++)d[f]&&(t.pixels.resultPixels[A+f]=r[p++]);else for(f=0;f<l;f++)d[f]&&(t.pixels.resultPixels[f]=r[p++])}return o+=u,t.ptr=o,!0},readHuffmanTree:function(e,t){var r=this.HUFFMAN_LUT_BITS_MAX,o=new DataView(e,t.ptr,16);if(t.ptr+=16,o.getInt32(0,!0)<2)throw"unsupported Huffman version";var s=o.getInt32(4,!0),a=o.getInt32(8,!0),l=o.getInt32(12,!0);if(a>=l)return!1;var c=new Uint32Array(l-a);i.decodeBits(e,t,c);var u,d,h,p,f=[];for(u=a;u<l;u++)f[d=u-(u<s?0:s)]={first:c[u-a],second:null};var m=e.byteLength-t.ptr,A=Math.ceil(m/4),g=new ArrayBuffer(4*A);new Uint8Array(g).set(new Uint8Array(e,t.ptr,m));var _,y=new Uint32Array(g),v=0,b=0;for(_=y[0],u=a;u<l;u++)(p=f[d=u-(u<s?0:s)].first)>0&&(f[d].second=_<<v>>>32-p,32-v>=p?32===(v+=p)&&(v=0,_=y[++b]):(v+=p-32,_=y[++b],f[d].second|=_>>>32-v));var w,x=0,C=new n;for(u=0;u<f.length;u++)void 0!==f[u]&&(x=Math.max(x,f[u].first));w=x>=r?r:x,x>=30&&console.log("WARning, large NUM LUT BITS IS "+x);var S,T,P,E,M,k=[];for(u=a;u<l;u++)if((p=f[d=u-(u<s?0:s)].first)>0)if(S=[p,d],p<=w)for(T=f[d].second<<w-p,P=1<<w-p,h=0;h<P;h++)k[T|h]=S;else for(T=f[d].second,M=C,E=p-1;E>=0;E--)T>>>E&1?(M.right||(M.right=new n),M=M.right):(M.left||(M.left=new n),M=M.left),0!==E||M.val||(M.val=S[1]);return{decodeLut:k,numBitsLUTQick:w,numBitsLUT:x,tree:C,stuffedData:y,srcPtr:b,bitPos:v}},readHuffman:function(e,t,i){var n,r,o,s,a,l,c,u,d,h=t.headerInfo,p=h.numDims,f=t.headerInfo.height,m=t.headerInfo.width,A=m*f,g=this.readHuffmanTree(e,t),_=g.decodeLut,y=g.tree,v=g.stuffedData,b=g.srcPtr,w=g.bitPos,x=g.numBitsLUTQick,C=g.numBitsLUT,S=0===t.headerInfo.imageType?128:0,T=t.pixels.resultMask,P=0;w>0&&(b++,w=0);var E,M=v[b],k=1===t.encodeMode,I=new i(A*p),B=I;for(E=0;E<h.numDims;E++){if(p>1&&(B=new i(I.buffer,A*E,A),P=0),t.headerInfo.numValidPixel===m*f)for(u=0,l=0;l<f;l++)for(c=0;c<m;c++,u++){if(r=0,a=s=M<<w>>>32-x,32-w<x&&(a=s|=v[b+1]>>>64-w-x),_[a])r=_[a][1],w+=_[a][0];else for(a=s=M<<w>>>32-C,32-w<C&&(a=s|=v[b+1]>>>64-w-C),n=y,d=0;d<C;d++)if(!(n=s>>>C-d-1&1?n.right:n.left).left&&!n.right){r=n.val,w=w+d+1;break}w>=32&&(w-=32,M=v[++b]),o=r-S,k?(o+=c>0?P:l>0?B[u-m]:P,o&=255,B[u]=o,P=o):B[u]=o}else for(u=0,l=0;l<f;l++)for(c=0;c<m;c++,u++)if(T[u]){if(r=0,a=s=M<<w>>>32-x,32-w<x&&(a=s|=v[b+1]>>>64-w-x),_[a])r=_[a][1],w+=_[a][0];else for(a=s=M<<w>>>32-C,32-w<C&&(a=s|=v[b+1]>>>64-w-C),n=y,d=0;d<C;d++)if(!(n=s>>>C-d-1&1?n.right:n.left).left&&!n.right){r=n.val,w=w+d+1;break}w>=32&&(w-=32,M=v[++b]),o=r-S,k?(c>0&&T[u-1]?o+=P:l>0&&T[u-m]?o+=B[u-m]:o+=P,o&=255,B[u]=o,P=o):B[u]=o}t.ptr=t.ptr+4*(b+1)+(w>0?4:0)}t.pixels.resultPixels=I},decodeBits:function(i,n,r,o,s){var a=n.headerInfo,l=a.fileVersion,c=0,u=new DataView(i,n.ptr,5),d=u.getUint8(0);c++;var h=d>>6,p=0===h?4:3-h,f=(32&d)>0,m=31&d,A=0;if(1===p)A=u.getUint8(c),c++;else if(2===p)A=u.getUint16(c,!0),c+=2;else{if(4!==p)throw"Invalid valid pixel count type";A=u.getUint32(c,!0),c+=4}var g,_,y,v,b,w,x,C,S,T=2*a.maxZError,P=a.numDims>1?a.maxValues[s]:a.zMax;if(f){for(n.counter.lut++,C=u.getUint8(c),c++,v=Math.ceil((C-1)*m/8),b=Math.ceil(v/4),_=new ArrayBuffer(4*b),y=new Uint8Array(_),n.ptr+=c,y.set(new Uint8Array(i,n.ptr,v)),x=new Uint32Array(_),n.ptr+=v,S=0;C-1>>>S;)S++;v=Math.ceil(A*S/8),b=Math.ceil(v/4),_=new ArrayBuffer(4*b),(y=new Uint8Array(_)).set(new Uint8Array(i,n.ptr,v)),g=new Uint32Array(_),n.ptr+=v,w=l>=3?function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,u=0,d=0,h=0,p=0,f=[],m=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===d&&(s=e[l++],d=32,p=0),d>=t?(h=s>>>p&a,d-=t,p+=t):(h=s>>>p&a,d=32-(u=t-d),h|=((s=e[l++])&(1<<u)-1)<<t-u,p=u),f[c]=h<m?n+h*r:o;return f.unshift(n),f}(x,m,C-1,o,T,P):function(e,t,i,n,r,o){var s,a=(1<<t)-1,l=0,c=0,u=0,d=0,h=0,p=[],f=4*e.length-Math.ceil(t*i/8);e[e.length-1]<<=8*f;var m=Math.ceil((o-n)/r);for(c=0;c<i;c++)0===d&&(s=e[l++],d=32),d>=t?(h=s>>>d-t&a,d-=t):(h=(s&a)<<(u=t-d)&a,h+=(s=e[l++])>>>(d=32-u)),p[c]=h<m?n+h*r:o;return p.unshift(n),p}(x,m,C-1,o,T,P),l>=3?t(g,r,S,A,w):e(g,r,S,A,w)}else n.counter.bitstuffer++,S=m,n.ptr+=c,S>0&&(v=Math.ceil(A*S/8),b=Math.ceil(v/4),_=new ArrayBuffer(4*b),(y=new Uint8Array(_)).set(new Uint8Array(i,n.ptr,v)),g=new Uint32Array(_),n.ptr+=v,l>=3?null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,u=0,d=0;for(r=0;r<n;r++)0===u&&(s=e[c++],u=32,d=0),u>=i?(o=s>>>d&l,u-=i,d+=i):(o=s>>>d&l,u=32-(a=i-u),o|=((s=e[c++])&(1<<a)-1)<<i-a,d=a),t[r]=o}(g,r,S,A):t(g,r,S,A,!1,o,T,P):null==o?function(e,t,i,n){var r,o,s,a,l=(1<<i)-1,c=0,u=0,d=4*e.length-Math.ceil(i*n/8);for(e[e.length-1]<<=8*d,r=0;r<n;r++)0===u&&(s=e[c++],u=32),u>=i?(o=s>>>u-i&l,u-=i):(o=(s&l)<<(a=i-u)&l,o+=(s=e[c++])>>>(u=32-a)),t[r]=o}(g,r,S,A):e(g,r,S,A,!1,o,T,P))},readTiles:function(e,t,n){var r=t.headerInfo,o=r.width,s=r.height,a=r.microBlockSize,l=r.imageType,c=i.getDataTypeSize(l),u=Math.ceil(o/a),d=Math.ceil(s/a);t.pixels.numBlocksY=d,t.pixels.numBlocksX=u,t.pixels.ptr=0;var h,p,f,m,A,g,_,y,v=0,b=0,w=0,x=0,C=0,S=0,T=0,P=0,E=0,M=0,k=0,I=0,B=0,O=0,R=0,F=new n(a*a),D=s%a||a,L=o%a||a,V=r.numDims,N=t.pixels.resultMask,U=t.pixels.resultPixels;for(w=0;w<d;w++)for(C=w!==d-1?a:D,x=0;x<u;x++)for(M=w*o*a+x*a,k=o-(S=x!==u-1?a:L),y=0;y<V;y++){if(V>1&&(U=new n(t.pixels.resultPixels.buffer,o*s*y*c,o*s)),T=e.byteLength-t.ptr,p={},R=0,R++,E=(P=(h=new DataView(e,t.ptr,Math.min(10,T))).getUint8(0))>>6&255,(P>>2&15)!=(x*a>>3&15))throw"integrity issue";if((A=3&P)>3)throw t.ptr+=R,"Invalid block encoding ("+A+")";if(2!==A)if(0===A){if(t.counter.uncompressed++,t.ptr+=R,I=(I=C*S*c)<(B=e.byteLength-t.ptr)?I:B,f=new ArrayBuffer(I%c==0?I:I+c-I%c),new Uint8Array(f).set(new Uint8Array(e,t.ptr,I)),m=new n(f),O=0,N)for(v=0;v<C;v++){for(b=0;b<S;b++)N[M]&&(U[M]=m[O++]),M++;M+=k}else for(v=0;v<C;v++){for(b=0;b<S;b++)U[M++]=m[O++];M+=k}t.ptr+=O*c}else if(g=i.getDataTypeUsed(l,E),_=i.getOnePixel(p,R,g,h),R+=i.getDataTypeSize(g),3===A)if(t.ptr+=R,t.counter.constantoffset++,N)for(v=0;v<C;v++){for(b=0;b<S;b++)N[M]&&(U[M]=_),M++;M+=k}else for(v=0;v<C;v++){for(b=0;b<S;b++)U[M++]=_;M+=k}else if(t.ptr+=R,i.decodeBits(e,t,F,_,y),R=0,N)for(v=0;v<C;v++){for(b=0;b<S;b++)N[M]&&(U[M]=F[R++]),M++;M+=k}else for(v=0;v<C;v++){for(b=0;b<S;b++)U[M++]=F[R++];M+=k}else t.counter.constant++,t.ptr+=R}},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:i.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e){var t=e.headerInfo.zMax,i=e.headerInfo.numDims,n=e.headerInfo.height*e.headerInfo.width,r=n*i,o=0,s=0,a=0,l=e.pixels.resultMask;if(l)if(i>1)for(o=0;o<i;o++)for(a=o*n,s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[a+s]=t);else for(s=0;s<n;s++)l[s]&&(e.pixels.resultPixels[s]=t);else if(e.pixels.resultPixels.fill)e.pixels.resultPixels.fill(t);else for(s=0;s<r;s++)e.pixels.resultPixels[s]=t},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:default:t=Float32Array;break;case 7:t=Float64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:default:t="F32";break;case 7:t="F64"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var i;switch(e){case 0:i=t>=-128&&t<=127;break;case 1:i=t>=0&&t<=255;break;case 2:i=t>=-32768&&t<=32767;break;case 3:i=t>=0&&t<=65536;break;case 4:i=t>=-2147483648&&t<=2147483647;break;case 5:i=t>=0&&t<=4294967296;break;case 6:i=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:i=t>=5e-324&&t<=17976931348623157e292;break;default:i=!1}return i},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var i=e;switch(e){case 2:case 4:i=e-t;break;case 3:case 5:i=e-2*t;break;case 6:i=0===t?e:1===t?2:1;break;case 7:i=0===t?e:e-2*t+1;break;default:i=e}return i},getOnePixel:function(e,t,i,n){var r=0;switch(i){case 0:r=n.getInt8(t);break;case 1:r=n.getUint8(t);break;case 2:r=n.getInt16(t,!0);break;case 3:r=n.getUint16(t,!0);break;case 4:r=n.getInt32(t,!0);break;case 5:r=n.getUInt32(t,!0);break;case 6:r=n.getFloat32(t,!0);break;case 7:r=n.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return r}},n=function(e,t,i){this.val=e,this.left=t,this.right=i};return{decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,o={};if(o.ptr=t.inputOffset||0,o.pixels={},i.readHeaderInfo(e,o)){var s=o.headerInfo,a=s.fileVersion,l=i.getDataTypeArray(s.imageType);i.readMask(e,o),s.numValidPixel===s.width*s.height||o.pixels.resultMask||(o.pixels.resultMask=t.maskData);var c,u=s.width*s.height;if(o.pixels.resultPixels=new l(u*s.numDims),o.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0},0!==s.numValidPixel)if(s.zMax===s.zMin)i.constructConstantSurface(o);else if(a>=4&&i.checkMinMaxRanges(e,o))i.constructConstantSurface(o);else{var d=new DataView(e,o.ptr,2),h=d.getUint8(0);if(o.ptr++,h)i.readDataOneSweep(e,o,l);else if(a>1&&s.imageType<=1&&Math.abs(s.maxZError-.5)<1e-5){var p=d.getUint8(1);if(o.ptr++,o.encodeMode=p,p>2||a<4&&p>1)throw"Invalid Huffman flag "+p;p?i.readHuffman(e,o,l):i.readTiles(e,o,l)}else i.readTiles(e,o,l)}o.eofOffset=o.ptr,t.inputOffset?(c=o.headerInfo.blobSize+t.inputOffset-o.ptr,Math.abs(c)>=1&&(o.eofOffset=t.inputOffset+o.headerInfo.blobSize)):(c=o.headerInfo.blobSize-o.ptr,Math.abs(c)>=1&&(o.eofOffset=o.headerInfo.blobSize));var f={width:s.width,height:s.height,pixelData:o.pixels.resultPixels,minValue:s.zMin,maxValue:s.zMax,validPixelCount:s.numValidPixel,dimCount:s.numDims,dimStats:{minValues:s.minValues,maxValues:s.maxValues},maskData:o.pixels.resultMask};if(o.pixels.resultMask&&i.isValidPixelValue(s.imageType,n)){var m=o.pixels.resultMask;for(r=0;r<u;r++)m[r]||(f.pixelData[r]=n);f.noDataValue=n}return o.noDataValue=n,t.returnFileInfo&&(f.fileInfo=i.formatFileInfo(o)),f}},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)i.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}}}(),c=new ArrayBuffer(4),u=new Uint8Array(c),new Uint32Array(c)[0]=1,p=1===u[0],f={decode:function(e,t){if(!p)throw"Big endian system is not supported.";var i,n,r=(t=t||{}).inputOffset||0,o=new Uint8Array(e,r,10),s=String.fromCharCode.apply(null,o);if("CntZImage"===s.trim())i=d,n=1;else{if("Lerc2"!==s.substring(0,5))throw"Unexpected file identifier string: "+s;i=h,n=2}for(var a,l,c,u,f,m,A=0,g=e.byteLength-10,_=[],y={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]};r<g;){var v=i.decode(e,{inputOffset:r,encodedMaskData:a,maskData:c,returnMask:0===A,returnEncodedMask:0===A,returnFileInfo:!0,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});r=v.fileInfo.eofOffset,0===A&&(a=v.encodedMaskData,c=v.maskData,y.width=v.width,y.height=v.height,y.dimCount=v.dimCount||1,y.pixelType=v.pixelType||v.fileInfo.pixelType,y.mask=v.maskData),n>1&&v.fileInfo.mask&&v.fileInfo.mask.numBytes>0&&_.push(v.maskData),A++,y.pixels.push(v.pixelData),y.statistics.push({minValue:v.minValue,maxValue:v.maxValue,noDataValue:v.noDataValue,dimStats:v.dimStats})}if(n>1&&_.length>1){for(m=y.width*y.height,y.bandMasks=_,(c=new Uint8Array(m)).set(_[0]),u=1;u<_.length;u++)for(l=_[u],f=0;f<m;f++)c[f]=c[f]&l[f];y.maskData=c}return y}},void 0===(i=function(){return f}.apply(t,[]))||(e.exports=i)},957171:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module),function(undefined){"use strict";var modules,cache,entries,protobuf;modules={1:[function(e,t,i){t.exports=function(e,t){for(var i=new Array(arguments.length-1),n=0,r=2,o=!0;r<arguments.length;)i[n++]=arguments[r++];return new Promise((function(r,s){i[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),i=0;i<t.length;)t[i++]=arguments[i];r.apply(null,t)}};try{e.apply(t||null,i)}catch(e){o&&(o=!1,s(e))}}))}},{}],2:[function(e,t,i){var n=i;n.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&"="===e.charAt(t);)++i;return Math.ceil(3*e.length)/4-i};for(var r=new Array(64),o=new Array(123),s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,i){for(var n,o=null,s=[],a=0,l=0;t<i;){var c=e[t++];switch(l){case 0:s[a++]=r[c>>2],n=(3&c)<<4,l=1;break;case 1:s[a++]=r[n|c>>4],n=(15&c)<<2,l=2;break;case 2:s[a++]=r[n|c>>6],s[a++]=r[63&c],l=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return l&&(s[a++]=r[n],s[a++]=61,1===l&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var a="invalid encoding";n.decode=function(e,t,i){for(var n,r=i,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if((c=o[c])===undefined)throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[i++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[i++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[i++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return i-r},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,i){function n(){this._listeners={}}t.exports=n,n.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this},n.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}},{}],4:[function(e,t,i){function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=128===i[3];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3]}function o(e,n,r){t[0]=e,n[r]=i[3],n[r+1]=i[2],n[r+2]=i[1],n[r+3]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],t[0]}function a(e,n){return i[3]=e[n],i[2]=e[n+1],i[1]=e[n+2],i[0]=e[n+3],t[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,i,n){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,i,n);else if(isNaN(t))e(2143289344,i,n);else if(t>34028234663852886e22)e((r<<31|2139095040)>>>0,i,n);else if(t<11754943508222875e-54)e((r<<31|Math.round(t/1401298464324817e-60))>>>0,i,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,i,n)}}function i(e,t,i){var n=e(t,i),r=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:r*(1/0):0===o?1401298464324817e-60*r*s:r*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=i.bind(null,s),e.readFloatBE=i.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=128===i[7];function r(e,n,r){t[0]=e,n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7]}function o(e,n,r){t[0]=e,n[r]=i[7],n[r+1]=i[6],n[r+2]=i[5],n[r+3]=i[4],n[r+4]=i[3],n[r+5]=i[2],n[r+6]=i[1],n[r+7]=i[0]}function s(e,n){return i[0]=e[n],i[1]=e[n+1],i[2]=e[n+2],i[3]=e[n+3],i[4]=e[n+4],i[5]=e[n+5],i[6]=e[n+6],i[7]=e[n+7],t[0]}function a(e,n){return i[7]=e[n],i[6]=e[n+1],i[5]=e[n+2],i[4]=e[n+3],i[3]=e[n+4],i[2]=e[n+5],i[1]=e[n+6],i[0]=e[n+7],t[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,i,n,r,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,r,o+t),e(1/n>0?0:2147483648,r,o+i);else if(isNaN(n))e(0,r,o+t),e(2146959360,r,o+i);else if(n>17976931348623157e292)e(0,r,o+t),e((s<<31|2146435072)>>>0,r,o+i);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,r,o+t),e((s<<31|a/4294967296)>>>0,r,o+i);else{var l=Math.floor(Math.log(n)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(a=n*Math.pow(2,-l))>>>0,r,o+t),e((s<<31|l+1023<<20|1048576*a&1048575)>>>0,r,o+i)}}}function i(e,t,i,n,r){var o=e(n,r+t),s=e(n,r+i),a=2*(s>>31)+1,l=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===l?c?NaN:a*(1/0):0===l?5e-324*a*c:a*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=i.bind(null,s,0,4),e.readDoubleBE=i.bind(null,a,4,0)}(),e}function r(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function o(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=n(n)},{}],5:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,i){t.exports=function(e,t,i){var n=i||8192,r=n>>>1,o=null,s=n;return function(i){if(i<1||i>r)return e(i);s+i>n&&(o=e(n),s=0);var a=t.call(o,s,s+=i);return 7&s&&(s=1+(7|s)),a}}},{}],7:[function(e,t,i){var n=i;n.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)(i=e.charCodeAt(n))<128?t+=1:i<2048?t+=2:55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,i){if(i-t<1)return"";for(var n,r=null,o=[],s=0;t<i;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))},n.write=function(e,t,i){for(var n,r,o=i,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[i++]=n:n<2048?(t[i++]=n>>6|192,t[i++]=63&n|128):55296==(64512&n)&&56320==(64512&(r=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&r),++s,t[i++]=n>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=63&n|128):(t[i++]=n>>12|224,t[i++]=n>>6&63|128,t[i++]=63&n|128);return i-o}},{}],8:[function(e,t,i){var n=i;function r(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=e(16),n.BufferWriter=e(17),n.Reader=e(9),n.BufferReader=e(10),n.util=e(15),n.rpc=e(12),n.roots=e(11),n.configure=r,r()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(e,t,i){t.exports=l;var n,r=e(15),o=r.LongBits,s=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return r.Buffer?function(e){return(l.create=function(e){return r.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function h(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,i);if(t===i){var n=r.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,i)},l.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},l.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){n=e,l.create=d(),n._configure();var t=r.Long?"toLong":"toNumber";r.merge(l.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},{15:15}],10:[function(e,t,i){t.exports=o;var n=e(9);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(e){n.call(this,e)}o._configure=function(){r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},{15:15,9:9}],11:[function(e,t,i){t.exports={}},{}],12:[function(e,t,i){i.Service=e(13)},{13:13}],13:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t,i){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(i)}(r.prototype=Object.create(n.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,i,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,i,r,o);if(!a.rpcImpl)return setTimeout((function(){s(Error("already ended"))}),0),undefined;try{return a.rpcImpl(t,i[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,i){if(e)return a.emit("error",e,t),s(e);if(null===i)return a.end(!0),undefined;if(!(i instanceof r))try{i=r[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",i,t),s(null,i)}))}catch(e){return a.emit("error",e,t),setTimeout((function(){s(e)}),0),undefined}},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(e,t,i){t.exports=r;var n=e(15);function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new r(i,n)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(n.isString(e)){if(!n.Long)return r.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+4294967296*i)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}},{15:15}],15:[function(e,t,i){var n=i;function r(e,t,i){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]!==undefined&&i||(e[n[r]]=t[n[r]]);return e}function o(e){function t(e,i){if(!(this instanceof t))return new t(e,i);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),i&&r(this,i)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:undefined,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=e(1),n.base64=e(2),n.EventEmitter=e(3),n.float=e(4),n.inquire=e(5),n.utf8=e(7),n.pool=e(6),n.LongBits=e(14),n.isNode=Boolean(void 0!==__webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.process&&__webpack_require__.g.process.versions&&__webpack_require__.g.process.versions.node),n.global=n.isNode&&__webpack_require__.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var i=e[t];return!(null==i||!e.hasOwnProperty(t))&&("object"!=typeof i||(Array.isArray(i)?i.length:Object.keys(i).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var i=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))},n.merge=r,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var e=Object.keys(this),i=e.length-1;i>-1;--i)if(1===t[e[i]]&&this[e[i]]!==undefined&&null!==this[e[i]])return e[i]}},n.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,i){return new e(t,i)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(e,t,i){t.exports=d;var n,r=e(15),o=r.LongBits,s=r.base64,a=r.utf8;function l(e,t,i){this.fn=e,this.len=t,this.next=undefined,this.val=i}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var h=function(){return r.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,i){t[i]=255&e}function f(e,t){this.len=e,this.next=undefined,this.val=t}function m(e,t,i){for(;e.hi;)t[i++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=127&e.lo|128,e.lo=e.lo>>>7;t[i++]=e.lo}function A(e,t,i){t[i]=255&e,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}d.create=h(),d.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(e,t,i){return this.tail=this.tail.next=new l(e,t,i),this.len+=t,this},f.prototype=Object.create(l.prototype),f.prototype.fn=function(e,t,i){for(;e>127;)t[i++]=127&e|128,e>>>=7;t[i]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(A,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(A,4,t.lo)._push(A,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var g=r.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(r.isString(e)){var i=d.alloc(t=s.length(e));s.decode(e,i,0),e=i}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},{15:15}],17:[function(e,t,i){t.exports=o;var n=e(16);(o.prototype=Object.create(n.prototype)).constructor=o;var r=e(15);function o(){n.call(this)}function s(e,t,i){e.length<40?r.utf8.write(e,t,i):t.utf8Write?t.utf8Write(e,i):t.write(e,i)}o._configure=function(){o.alloc=r._Buffer_allocUnsafe,o.writeBytesBuffer=r.Buffer&&r.Buffer.prototype instanceof Uint8Array&&"set"===r.Buffer.prototype.set.name?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}},o.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=r.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},{15:15,16:16}]},cache={},entries=[8],protobuf=function e(t){var i=cache[t];return i||modules[t][0].call(i=cache[t]={exports:{}},e,i,i.exports),i.exports}(entries[0]),protobuf.util.global.protobuf=protobuf,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(935017)],(__WEBPACK_AMD_DEFINE_RESULT__=function(e){return e&&e.isLong&&(protobuf.util.Long=e,protobuf.configure()),protobuf}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),module&&module.exports&&(module.exports=protobuf)}()},935017:(e,t)=>{var i,n=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function i(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function n(e){return!0===(e&&e.__isLong__)}function r(e){var t=Math.clz32(e&-e);return e?31-t:t}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=n;var o={},s={};function a(e,t){var i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=s[e])?n:(i=c(e,0,!0),r&&(s[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=o[e])?n:(i=c(e,e<0?-1:0,!1),r&&(o[e]=i),i)}function l(e,t){if(isNaN(e))return t?_:g;if(t){if(e<0)return _;if(e>=f)return x}else{if(e<=-m)return C;if(e+1>=m)return w}return e<0?l(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,n){return new i(e,t,n)}i.fromInt=a,i.fromNumber=l,i.fromBits=c;var u=Math.pow;function d(e,t,i){if(0===e.length)throw Error("empty string");if("number"==typeof t?(i=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:g;if((i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return d(e.substring(1),t,i).neg();for(var r=l(u(i,8)),o=g,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),i);if(a<8){var h=l(u(i,a));o=o.mul(h).add(l(c))}else o=(o=o.mul(r)).add(l(c))}return o.unsigned=t,o}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?d(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=d,i.fromValue=h;var p=4294967296,f=p*p,m=f/2,A=a(1<<24),g=a(0);i.ZERO=g;var _=a(0,!0);i.UZERO=_;var y=a(1);i.ONE=y;var v=a(1,!0);i.UONE=v;var b=a(-1);i.NEG_ONE=b;var w=c(-1,2147483647,!1);i.MAX_VALUE=w;var x=c(-1,-1,!0);i.MAX_UNSIGNED_VALUE=x;var C=c(0,-2147483648,!1);i.MIN_VALUE=C;var S=i.prototype;return S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=l(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=l(u(e,6),this.unsigned),o=this,s="";;){var a=o.div(r),c=(o.sub(a.mul(r)).toInt()>>>0).toString(e);if((o=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isSafeInteger=function(){var e=this.high>>21;return!e||!this.unsigned&&-1===e&&!(0===this.low&&-2097152===this.high)},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return!(1&~this.low)},S.isEven=function(){return!(1&this.low)},S.equals=function(e){return n(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(n(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(y)},S.neg=S.negate,S.add=function(e){n(e)||(e=h(e));var t=this.high>>>16,i=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,d=0,p=0,f=0;return p+=(f+=o+(65535&e.low))>>>16,d+=(p+=r+l)>>>16,u+=(d+=i+a)>>>16,u+=t+s,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(d&=65535),this.unsigned)},S.subtract=function(e){return n(e)||(e=h(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return this;if(n(e)||(e=h(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return this.unsigned?_:g;if(this.eq(C))return e.isOdd()?C:g;if(e.eq(C))return this.isOdd()?C:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(A)&&e.lt(A))return l(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,a=e.high>>>16,u=65535&e.high,d=e.low>>>16,p=65535&e.low,f=0,m=0,y=0,v=0;return y+=(v+=s*p)>>>16,m+=(y+=o*p)>>>16,y&=65535,m+=(y+=s*d)>>>16,f+=(m+=r*p)>>>16,m&=65535,f+=(m+=o*d)>>>16,m&=65535,f+=(m+=s*u)>>>16,f+=i*p+r*d+o*u+s*a,c((y&=65535)<<16|(v&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(n(e)||(e=h(e)),e.isZero())throw Error("division by zero");var i,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return v;o=_}else{if(this.eq(C))return e.eq(y)||e.eq(b)?C:e.eq(C)?y:(i=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:b:(r=this.sub(e.mul(i)),o=i.add(r.div(e)));if(e.eq(C))return this.unsigned?_:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(r=this;r.gte(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(i)/Math.LN2),a=s<=48?1:u(2,s-48),d=l(i),p=d.mul(e);p.isNegative()||p.gt(r);)p=(d=l(i-=a,this.unsigned)).mul(e);d.isZero()&&(d=y),o=o.add(d),r=r.sub(p)}return o},S.div=S.divide,S.modulo=function(e){return n(e)||(e=h(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return c(~this.low,~this.high,this.unsigned)},S.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},S.clz=S.countLeadingZeros,S.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},S.ctz=S.countTrailingZeros,S.and=function(e){return n(e)||(e=h(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return n(e)||(e=h(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return n(e)||(e=h(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):c(32===e?this.high:this.high>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.rotateLeft=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},S.rotl=S.rotateLeft,S.rotateRight=function(e){var t;return n(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?c(this.high,this.low,this.unsigned):e<32?(t=32-e,c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},S.rotr=S.rotateRight,S.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,n){return n?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},"function"==typeof BigInt&&(i.fromBigInt=function(e,t){return c(Number(BigInt.asIntN(32,e)),Number(BigInt.asIntN(32,e>>BigInt(32))),t)},i.fromValue=function(e,t){return"bigint"==typeof e?fromBigInt(e,t):h(e,t)},S.toBigInt=function(){var e=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|e}),e.default=i,"default"in e?e.default:e}({});void 0===(i=function(){return n}.apply(t,[]))||(e.exports=i)},707568:(e,t,i)=>{"use strict";function n(e){this.proxy=e}i.d(t,{A:()=>r}),n.prototype.getURL=function(e){const t=-1===this.proxy.indexOf("?")?"?":"";return this.proxy+t+encodeURIComponent(e)};const r=n},335385:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var n=i(303578),r=i(41476),o=i(491446),s=i(605971),a=i(744603),l=i(517638);function c(){this._cache={}}c.prototype.fromColor=function(e,t){if(!(0,o.A)(e))throw new s.A("color is required");if(!(0,o.A)(t))throw new s.A("size is required");return p(void 0,void 0,e,t,this._cache)},c.prototype.fromUrl=function(e,t,i){if(!(0,o.A)(e))throw new s.A("url is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return p(e,void 0,t,i,this._cache)},c.prototype.fromMakiIconId=function(e,t,i){if(!(0,o.A)(e))throw new s.A("id is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return p((0,n.A)(`Assets/Textures/maki/${encodeURIComponent(e)}.png`),void 0,t,i,this._cache)},c.prototype.fromText=function(e,t,i){if(!(0,o.A)(e))throw new s.A("text is required");if(!(0,o.A)(t))throw new s.A("color is required");if(!(0,o.A)(i))throw new s.A("size is required");return p(void 0,e,t,i,this._cache)};const u=new r.A;function d(e,t,i){const n=i/2.5;let o=n,s=n;t.width>t.height?s=n*(t.height/t.width):t.width<t.height&&(o=n*(t.width/t.height));const a=Math.round((i-o)/2),l=Math.round(7/24*i-s/2);e.globalCompositeOperation="destination-out",e.drawImage(t,a-1,l,o,s),e.drawImage(t,a,l-1,o,s),e.drawImage(t,a+1,l,o,s),e.drawImage(t,a,l+1,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.A.BLACK.toCssColorString(),e.fillRect(a-1,l-1,o+2,s+2),e.globalCompositeOperation="destination-out",e.drawImage(t,a,l,o,s),e.globalCompositeOperation="destination-over",e.fillStyle=r.A.WHITE.toCssColorString(),e.fillRect(a-1,l-2,o+2,s+2)}const h=new Array(4);function p(e,t,i,n,r){h[0]=e,h[1]=t,h[2]=i,h[3]=n;const s=JSON.stringify(h),c=r[s];if((0,o.A)(c))return c;const p=document.createElement("canvas");p.width=n,p.height=n;const f=p.getContext("2d");if(function(e,t,i){e.save(),e.scale(i/24,i/24),e.fillStyle=t.toCssColorString(),e.strokeStyle=t.brighten(.6,u).toCssColorString(),e.lineWidth=.846,e.beginPath(),e.moveTo(6.72,.422),e.lineTo(17.28,.422),e.bezierCurveTo(18.553,.422,19.577,1.758,19.577,3.415),e.lineTo(19.577,10.973),e.bezierCurveTo(19.577,12.63,18.553,13.966,17.282,13.966),e.lineTo(14.386,14.008),e.lineTo(11.826,23.578),e.lineTo(9.614,14.008),e.lineTo(6.719,13.965),e.bezierCurveTo(5.446,13.983,4.422,12.629,4.422,10.972),e.lineTo(4.422,3.416),e.bezierCurveTo(4.423,1.76,5.447,.423,6.718,.423),e.closePath(),e.fill(),e.stroke(),e.restore()}(f,i,n),(0,o.A)(e)){const t=a.A.createIfNeeded(e).fetchImage().then((function(e){return d(f,e,n),r[s]=p,p}));return r[s]=t,t}if((0,o.A)(t)){const e=(0,l.A)(t,{font:`bold ${n}px sans-serif`});d(f,e,n)}return r[s]=p,p}const f=c},3858:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(484193),r=i(491446),o=i(605971);const s=function(e){if(!(0,r.A)(e))throw new o.A("uri is required.");const t=new n(e);t.normalize();let i=t.path();const s=i.lastIndexOf("/");return-1!==s&&(i=i.substr(s+1)),i}},668696:(e,t,i)=>{"use strict";i.d(t,{A:()=>de});var n=i(215327),r=i(267980),o=i(41476),s=i(673874),a=i(672743),l=i(419061),c=i(491446),u=i(605971),d=i(955943),h=i(3858),p=i(335385),f=i(105330),m=i(744603),A=i(123245),g=i(63316),_=i(742558);function y(e){return e}function v(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return b(e,t)}))}:b(e,t)}function b(e,t){var i=t.id,n=t.bbox,r=null==t.properties?{}:t.properties,o=function(e,t){var i=function(e){if(null==e)return y;var t,i,n=e.scale[0],r=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,a){a||(t=i=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(t+=e[0])*n+o,u[1]=(i+=e[1])*r+s;l<c;)u[l]=e[l],++l;return u}}(e.transform),n=e.arcs;function r(e,t){t.length&&t.pop();for(var r=n[e<0?~e:e],o=0,s=r.length;o<s;++o)t.push(i(r[o],o));e<0&&function(e,t){for(var i,n=e.length,r=n-t;r<--n;)i=e[r],e[r++]=e[n],e[n]=i}(t,s)}function o(e){return i(e)}function s(e){for(var t=[],i=0,n=e.length;i<n;++i)r(e[i],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(a)}return function e(t){var i,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":i=o(t.coordinates);break;case"MultiPoint":i=t.coordinates.map(o);break;case"LineString":i=s(t.arcs);break;case"MultiLineString":i=t.arcs.map(s);break;case"Polygon":i=l(t.arcs);break;case"MultiPolygon":i=t.arcs.map(l);break;default:return null}return{type:n,coordinates:i}}(t)}(e,t);return null==i&&null==n?{type:"Feature",properties:r,geometry:o}:null==n?{type:"Feature",id:i,properties:r,geometry:o}:{type:"Feature",id:i,bbox:n,properties:r,geometry:o}}var w=i(470540),x=i(10082),C=i(312421),S=i(808938),T=i(969077),P=i(367725),E=i(899629),M=i(151075),k=i(193189),I=i(998261);function B(e){return r.A.fromDegrees(e[0],e[1],e[2])}const O={"urn:ogc:def:crs:OGC:1.3:CRS84":B,"EPSG:4326":B,"urn:ogc:def:crs:EPSG::4326":B},R={},F={};let D,L=48,V=o.A.ROYALBLUE,N=o.A.YELLOW,U=2,G=o.A.fromBytes(255,255,0,100),z=!1;const K={small:24,medium:48,large:64},q=["title","description","marker-size","marker-symbol","marker-color","stroke","stroke-opacity","stroke-width","fill","fill-opacity"];function H(e,t){let i="";for(const n in e)if(e.hasOwnProperty(n)){if(n===t||-1!==q.indexOf(n))continue;const r=e[n];(0,c.A)(r)&&(i+="object"==typeof r?`<tr><th>${n}</th><td>${H(r)}</td></tr>`:`<tr><th>${n}</th><td>${r}</td></tr>`)}return i.length>0&&(i=`<table class="cesium-infoBox-defaultTable"><tbody>${i}</tbody></table>`),i}function W(e,t){return new x.A(function(e,t,i){let n;return function(r,o){return(0,c.A)(n)||(n=e(t,i)),n}}(H,e,t),!0)}function j(e,t,i){let n=e.id;if((0,c.A)(n)&&"Feature"===e.type){let e=2,i=n;for(;(0,c.A)(t.getById(i));)i=`${n}_${e}`,e++;n=i}else n=(0,s.A)();const r=t.getOrCreateEntity(n),o=e.properties;if((0,c.A)(o)){let e;r.properties=o;const t=o.title;if((0,c.A)(t))r.name=t,e="title";else{let t=Number.MAX_VALUE;for(const i in o)if(o.hasOwnProperty(i)&&o[i]){const n=i.toLowerCase();if(t>1&&"title"===n){t=1,e=i;break}t>2&&"name"===n?(t=2,e=i):t>3&&/title/i.test(i)?(t=3,e=i):t>4&&/name/i.test(i)&&(t=4,e=i)}(0,c.A)(e)&&(r.name=o[e])}const n=o.description;null!==n&&(r.description=(0,c.A)(n)?new T.A(n):i(o,e))}return r}function J(e,t){const i=new Array(e.length);for(let n=0;n<e.length;n++)i[n]=t(e[n]);return i}const X={Feature:Y,FeatureCollection:function(e,t,i,n,r){const o=t.features;for(let t=0,i=o.length;t<i;t++)Y(e,o[t],0,n,r)},GeometryCollection:Z,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le},$={GeometryCollection:Z,LineString:ne,MultiLineString:re,MultiPoint:te,MultiPolygon:ae,Point:ee,Polygon:se,Topology:le};function Y(e,t,i,n,r){if(null===t.geometry)return void j(t,e._entityCollection,r.describe);if(!(0,c.A)(t.geometry))throw new A.A("feature.geometry is required.");const o=t.geometry.type,s=$[o];if(!(0,c.A)(s))throw new A.A(`Unknown geometry type: ${o}`);s(e,t,t.geometry,n,r)}function Z(e,t,i,n,r){const o=i.geometries;for(let i=0,s=o.length;i<s;i++){const s=o[i],a=s.type,l=$[a];if(!(0,c.A)(l))throw new A.A(`Unknown geometry type: ${a}`);l(e,t,s,n,r)}}function Q(e,t,i,n,r){let s=r.markerSymbol,a=r.markerColor,u=r.markerSize;const d=t.properties;if((0,c.A)(d)){const e=d["marker-color"];(0,c.A)(e)&&(a=o.A.fromCssColorString(e)),u=(0,l.A)(K[d["marker-size"]],u);const t=d["marker-symbol"];(0,c.A)(t)&&(s=t)}let h;h=(0,c.A)(s)?1===s.length?e._pinBuilder.fromText(s.toUpperCase(),a,u):e._pinBuilder.fromMakiIconId(s,a,u):e._pinBuilder.fromColor(a,u);const p=new w.A;p.verticalOrigin=new T.A(_.A.BOTTOM),2===n.length&&r.clampToGround&&(p.heightReference=g.A.CLAMP_TO_GROUND);const f=j(t,e._entityCollection,r.describe);f.billboard=p,f.position=new S.A(i(n));const m=Promise.resolve(h).then((function(e){p.image=new T.A(e)})).catch((function(){p.image=new T.A(e._pinBuilder.fromColor(a,u))}));e._promises.push(m)}function ee(e,t,i,n,r){Q(e,t,n,i.coordinates,r)}function te(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)Q(e,t,n,o[i],r)}function ie(e,t,i,r,s){let a=s.strokeMaterialProperty,l=s.strokeWidthProperty;const u=t.properties;if((0,c.A)(u)){const e=u["stroke-width"];let t;(0,c.A)(e)&&(l=new T.A(e));const i=u.stroke;(0,c.A)(i)&&(t=o.A.fromCssColorString(i));const n=u["stroke-opacity"];(0,c.A)(n)&&1!==n&&((0,c.A)(t)||(t=a.color.getValue().clone()),t.alpha=n),(0,c.A)(t)&&(a=new C.A(t))}const d=j(t,e._entityCollection,s.describe),h=new I.A;d.polyline=h,h.clampToGround=s.clampToGround,h.material=a,h.width=l,h.positions=new T.A(J(r,i)),h.arcType=n.A.RHUMB}function ne(e,t,i,n,r){ie(e,t,n,i.coordinates,r)}function re(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)ie(e,t,n,o[i],r)}function oe(e,t,i,r,s){if(0===r.length||0===r[0].length)return;let a=s.strokeMaterialProperty.color,l=s.fillMaterialProperty,u=s.strokeWidthProperty;const d=t.properties;if((0,c.A)(d)){const e=d["stroke-width"];let t;(0,c.A)(e)&&(u=new T.A(e));const i=d.stroke;(0,c.A)(i)&&(t=o.A.fromCssColorString(i));let n,r=d["stroke-opacity"];(0,c.A)(r)&&1!==r&&((0,c.A)(t)||(t=a.getValue().clone()),t.alpha=r),(0,c.A)(t)&&(a=new T.A(t));const s=d.fill,h=l.color.getValue();(0,c.A)(s)&&(n=o.A.fromCssColorString(s),n.alpha=h.alpha),r=d["fill-opacity"],(0,c.A)(r)&&r!==h.alpha&&((0,c.A)(n)||(n=h.clone()),n.alpha=r),(0,c.A)(n)&&(l=new C.A(n))}const h=new k.A;h.outline=new T.A(!0),h.outlineColor=a,h.outlineWidth=u,h.material=l,h.arcType=n.A.RHUMB;const p=[];for(let e=1,t=r.length;e<t;e++)p.push(new f.A(J(r[e],i)));const m=r[0];h.hierarchy=new T.A(new f.A(J(m,i),p)),m[0].length>2?h.perPositionHeight=new T.A(!0):s.clampToGround||(h.height=0),j(t,e._entityCollection,s.describe).polygon=h}function se(e,t,i,n,r){oe(e,t,n,i.coordinates,r)}function ae(e,t,i,n,r){const o=i.coordinates;for(let i=0;i<o.length;i++)oe(e,t,n,o[i],r)}function le(e,t,i,n,r){for(const t in i.objects)if(i.objects.hasOwnProperty(t)){const o=v(i,i.objects[t]);(0,X[o.type])(e,o,o,n,r)}}function ce(e){this._name=e,this._changed=new d.A,this._error=new d.A,this._isLoading=!1,this._loading=new d.A,this._entityCollection=new M.A(this),this._promises=[],this._pinBuilder=new p.A,this._entityCluster=new E.A,this._credit=void 0,this._resourceCredits=[]}function ue(e,t,i,n){if(!(0,c.A)(t))throw new u.A("data is required.");P.A.setLoading(e,!0);let r=(i=(0,l.A)(i,l.A.EMPTY_OBJECT)).credit;"string"==typeof r&&(r=new a.A(r)),e._credit=r;let o=t,s=i.sourceUri;if("string"==typeof t||t instanceof m.A){o=(t=m.A.createIfNeeded(t)).fetchJson(),s=(0,l.A)(s,t.getUrlComponent());const i=e._resourceCredits,n=t.credits;if((0,c.A)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return i={describe:(0,l.A)(i.describe,W),markerSize:(0,l.A)(i.markerSize,L),markerSymbol:(0,l.A)(i.markerSymbol,D),markerColor:(0,l.A)(i.markerColor,V),strokeWidthProperty:new T.A((0,l.A)(i.strokeWidth,U)),strokeMaterialProperty:new C.A((0,l.A)(i.stroke,N)),fillMaterialProperty:new C.A((0,l.A)(i.fill,G)),clampToGround:(0,l.A)(i.clampToGround,z)},Promise.resolve(o).then((function(t){return function(e,t,i,n,r){let o;(0,c.A)(n)&&(o=(0,h.A)(n)),(0,c.A)(o)&&e._name!==o&&(e._name=o,e._changed.raiseEvent(e));const s=X[t.type];if(!(0,c.A)(s))throw new A.A(`Unsupported GeoJSON object type: ${t.type}`);const a=t.crs;let l=null!==a?B:null;if((0,c.A)(a)){if(!(0,c.A)(a.properties))throw new A.A("crs.properties is undefined.");const e=a.properties;if("name"===a.type){if(l=O[e.name],!(0,c.A)(l))throw new A.A(`Unknown crs name: ${e.name}`)}else if("link"===a.type){let t=R[e.href];if((0,c.A)(t)||(t=F[e.type]),!(0,c.A)(t))throw new A.A(`Unable to resolve crs link: ${JSON.stringify(e)}`);l=t(e)}else{if("EPSG"!==a.type)throw new A.A(`Unknown crs type: ${a.type}`);if(l=O[`EPSG:${e.code}`],!(0,c.A)(l))throw new A.A(`Unknown crs EPSG code: ${e.code}`)}}return Promise.resolve(l).then((function(n){return r&&e._entityCollection.removeAll(),null!==n&&s(e,t,t,n,i),Promise.all(e._promises).then((function(){return e._promises.length=0,P.A.setLoading(e,!1),e}))}))}(e,t,i,s,n)})).catch((function(t){throw P.A.setLoading(e,!1),e._error.raiseEvent(e,t),t}))}ce.load=function(e,t){return(new ce).load(e,t)},Object.defineProperties(ce,{markerSize:{get:function(){return L},set:function(e){L=e}},markerSymbol:{get:function(){return D},set:function(e){D=e}},markerColor:{get:function(){return V},set:function(e){V=e}},stroke:{get:function(){return N},set:function(e){N=e}},strokeWidth:{get:function(){return U},set:function(e){U=e}},fill:{get:function(){return G},set:function(e){G=e}},clampToGround:{get:function(){return z},set:function(e){z=e}},crsNames:{get:function(){return O}},crsLinkHrefs:{get:function(){return R}},crsLinkTypes:{get:function(){return F}}}),Object.defineProperties(ce.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{value:void 0,writable:!1},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,c.A)(e))throw new u.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),ce.prototype.load=function(e,t){return ue(this,e,t,!0)},ce.prototype.process=function(e,t){return ue(this,e,t,!1)},ce.prototype.update=function(e){return!0};const de=ce},424620:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n=i(41476),r=i(419061),o=i(491446),s=i(955943),a=i(819488),l=i(46257);const c=n.A.WHITE,u=n.A.TRANSPARENT;function d(e){e=(0,r.A)(e,r.A.EMPTY_OBJECT),this._definitionChanged=new s.A,this._color=void 0,this._colorSubscription=void 0,this._gapColor=void 0,this._gapColorSubscription=void 0,this._dashLength=void 0,this._dashLengthSubscription=void 0,this._dashPattern=void 0,this._dashPatternSubscription=void 0,this.color=e.color,this.gapColor=e.gapColor,this.dashLength=e.dashLength,this.dashPattern=e.dashPattern}Object.defineProperties(d.prototype,{isConstant:{get:function(){return l.A.isConstant(this._color)&&l.A.isConstant(this._gapColor)&&l.A.isConstant(this._dashLength)&&l.A.isConstant(this._dashPattern)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,a.A)("color"),gapColor:(0,a.A)("gapColor"),dashLength:(0,a.A)("dashLength"),dashPattern:(0,a.A)("dashPattern")}),d.prototype.getType=function(e){return"PolylineDash"},d.prototype.getValue=function(e,t){return(0,o.A)(t)||(t={}),t.color=l.A.getValueOrClonedDefault(this._color,e,c,t.color),t.gapColor=l.A.getValueOrClonedDefault(this._gapColor,e,u,t.gapColor),t.dashLength=l.A.getValueOrDefault(this._dashLength,e,16,t.dashLength),t.dashPattern=l.A.getValueOrDefault(this._dashPattern,e,255,t.dashPattern),t},d.prototype.equals=function(e){return this===e||e instanceof d&&l.A.equals(this._color,e._color)&&l.A.equals(this._gapColor,e._gapColor)&&l.A.equals(this._dashLength,e._dashLength)&&l.A.equals(this._dashPattern,e._dashPattern)};const h=d},629606:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var n=i(376758),r=i(419061),o=i(491446),s=i(605971),a=i(744603),l=i(33138),c=i(470622);function u(e){this._style={},this._ready=!1,this._show=void 0,this._color=void 0,this._pointSize=void 0,this._pointOutlineColor=void 0,this._pointOutlineWidth=void 0,this._labelColor=void 0,this._labelOutlineColor=void 0,this._labelOutlineWidth=void 0,this._font=void 0,this._labelStyle=void 0,this._labelText=void 0,this._backgroundColor=void 0,this._backgroundPadding=void 0,this._backgroundEnabled=void 0,this._scaleByDistance=void 0,this._translucencyByDistance=void 0,this._distanceDisplayCondition=void 0,this._heightOffset=void 0,this._anchorLineEnabled=void 0,this._anchorLineColor=void 0,this._image=void 0,this._disableDepthTestDistance=void 0,this._horizontalOrigin=void 0,this._verticalOrigin=void 0,this._labelHorizontalOrigin=void 0,this._labelVerticalOrigin=void 0,this._meta=void 0,this._colorShaderFunction=void 0,this._showShaderFunction=void 0,this._pointSizeShaderFunction=void 0,this._colorShaderFunctionReady=!1,this._showShaderFunctionReady=!1,this._pointSizeShaderFunctionReady=!1,this._colorShaderTranslucent=!1,function(e,t){t=(0,r.A)((0,n.A)(t,!0),e._style),e._style=t,e.show=t.show,e.color=t.color,e.pointSize=t.pointSize,e.pointOutlineColor=t.pointOutlineColor,e.pointOutlineWidth=t.pointOutlineWidth,e.labelColor=t.labelColor,e.labelOutlineColor=t.labelOutlineColor,e.labelOutlineWidth=t.labelOutlineWidth,e.labelStyle=t.labelStyle,e.font=t.font,e.labelText=t.labelText,e.backgroundColor=t.backgroundColor,e.backgroundPadding=t.backgroundPadding,e.backgroundEnabled=t.backgroundEnabled,e.scaleByDistance=t.scaleByDistance,e.translucencyByDistance=t.translucencyByDistance,e.distanceDisplayCondition=t.distanceDisplayCondition,e.heightOffset=t.heightOffset,e.anchorLineEnabled=t.anchorLineEnabled,e.anchorLineColor=t.anchorLineColor,e.image=t.image,e.disableDepthTestDistance=t.disableDepthTestDistance,e.horizontalOrigin=t.horizontalOrigin,e.verticalOrigin=t.verticalOrigin,e.labelHorizontalOrigin=t.labelHorizontalOrigin,e.labelVerticalOrigin=t.labelVerticalOrigin;const i={};if((0,o.A)(t.meta)){const e=t.defines,n=(0,r.A)(t.meta,r.A.EMPTY_OBJECT);for(const t in n)n.hasOwnProperty(t)&&(i[t]=new c.A(n[t],e))}e._meta=i,e._ready=!0}(this,e)}function d(e,t){const i=(0,r.A)(e._style,r.A.EMPTY_OBJECT).defines;if((0,o.A)(t))return"boolean"==typeof t||"number"==typeof t?new c.A(String(t)):"string"==typeof t?new c.A(t,i):(0,o.A)(t.conditions)?new l.A(t,i):t}function h(e){if((0,o.A)(e))return(0,o.A)(e.expression)?e.expression:(0,o.A)(e.conditionsExpression)?(0,n.A)(e.conditionsExpression,!0):e}Object.defineProperties(u.prototype,{style:{get:function(){return this._style}},show:{get:function(){return this._show},set:function(e){this._show=d(this,e),this._style.show=h(this._show),this._showShaderFunctionReady=!1}},color:{get:function(){return this._color},set:function(e){this._color=d(this,e),this._style.color=h(this._color),this._colorShaderFunctionReady=!1}},pointSize:{get:function(){return this._pointSize},set:function(e){this._pointSize=d(this,e),this._style.pointSize=h(this._pointSize),this._pointSizeShaderFunctionReady=!1}},pointOutlineColor:{get:function(){return this._pointOutlineColor},set:function(e){this._pointOutlineColor=d(this,e),this._style.pointOutlineColor=h(this._pointOutlineColor)}},pointOutlineWidth:{get:function(){return this._pointOutlineWidth},set:function(e){this._pointOutlineWidth=d(this,e),this._style.pointOutlineWidth=h(this._pointOutlineWidth)}},labelColor:{get:function(){return this._labelColor},set:function(e){this._labelColor=d(this,e),this._style.labelColor=h(this._labelColor)}},labelOutlineColor:{get:function(){return this._labelOutlineColor},set:function(e){this._labelOutlineColor=d(this,e),this._style.labelOutlineColor=h(this._labelOutlineColor)}},labelOutlineWidth:{get:function(){return this._labelOutlineWidth},set:function(e){this._labelOutlineWidth=d(this,e),this._style.labelOutlineWidth=h(this._labelOutlineWidth)}},font:{get:function(){return this._font},set:function(e){this._font=d(this,e),this._style.font=h(this._font)}},labelStyle:{get:function(){return this._labelStyle},set:function(e){this._labelStyle=d(this,e),this._style.labelStyle=h(this._labelStyle)}},labelText:{get:function(){return this._labelText},set:function(e){this._labelText=d(this,e),this._style.labelText=h(this._labelText)}},backgroundColor:{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=d(this,e),this._style.backgroundColor=h(this._backgroundColor)}},backgroundPadding:{get:function(){return this._backgroundPadding},set:function(e){this._backgroundPadding=d(this,e),this._style.backgroundPadding=h(this._backgroundPadding)}},backgroundEnabled:{get:function(){return this._backgroundEnabled},set:function(e){this._backgroundEnabled=d(this,e),this._style.backgroundEnabled=h(this._backgroundEnabled)}},scaleByDistance:{get:function(){return this._scaleByDistance},set:function(e){this._scaleByDistance=d(this,e),this._style.scaleByDistance=h(this._scaleByDistance)}},translucencyByDistance:{get:function(){return this._translucencyByDistance},set:function(e){this._translucencyByDistance=d(this,e),this._style.translucencyByDistance=h(this._translucencyByDistance)}},distanceDisplayCondition:{get:function(){return this._distanceDisplayCondition},set:function(e){this._distanceDisplayCondition=d(this,e),this._style.distanceDisplayCondition=h(this._distanceDisplayCondition)}},heightOffset:{get:function(){return this._heightOffset},set:function(e){this._heightOffset=d(this,e),this._style.heightOffset=h(this._heightOffset)}},anchorLineEnabled:{get:function(){return this._anchorLineEnabled},set:function(e){this._anchorLineEnabled=d(this,e),this._style.anchorLineEnabled=h(this._anchorLineEnabled)}},anchorLineColor:{get:function(){return this._anchorLineColor},set:function(e){this._anchorLineColor=d(this,e),this._style.anchorLineColor=h(this._anchorLineColor)}},image:{get:function(){return this._image},set:function(e){this._image=d(this,e),this._style.image=h(this._image)}},disableDepthTestDistance:{get:function(){return this._disableDepthTestDistance},set:function(e){this._disableDepthTestDistance=d(this,e),this._style.disableDepthTestDistance=h(this._disableDepthTestDistance)}},horizontalOrigin:{get:function(){return this._horizontalOrigin},set:function(e){this._horizontalOrigin=d(this,e),this._style.horizontalOrigin=h(this._horizontalOrigin)}},verticalOrigin:{get:function(){return this._verticalOrigin},set:function(e){this._verticalOrigin=d(this,e),this._style.verticalOrigin=h(this._verticalOrigin)}},labelHorizontalOrigin:{get:function(){return this._labelHorizontalOrigin},set:function(e){this._labelHorizontalOrigin=d(this,e),this._style.labelHorizontalOrigin=h(this._labelHorizontalOrigin)}},labelVerticalOrigin:{get:function(){return this._labelVerticalOrigin},set:function(e){this._labelVerticalOrigin=d(this,e),this._style.labelVerticalOrigin=h(this._labelVerticalOrigin)}},meta:{get:function(){return this._meta},set:function(e){this._meta=e}}}),u.fromUrl=function(e){if(!(0,o.A)(e))throw new s.A("url is required");return a.A.createIfNeeded(e).fetchJson(e).then((function(e){return new u(e)}))},u.prototype.getColorShaderFunction=function(e,t,i){return this._colorShaderFunctionReady?(i.translucent=this._colorShaderTranslucent,this._colorShaderFunction):(this._colorShaderFunctionReady=!0,(0,o.A)(this.color)&&(0,o.A)(this.color.getShaderFunction)?this._colorShaderFunction=this.color.getShaderFunction(e,t,i,"vec4"):this._colorShaderFunction=void 0,this._colorShaderTranslucent=i.translucent,this._colorShaderFunction)},u.prototype.getShowShaderFunction=function(e,t,i){return this._showShaderFunctionReady||(this._showShaderFunctionReady=!0,(0,o.A)(this.show)&&(0,o.A)(this.show.getShaderFunction)?this._showShaderFunction=this.show.getShaderFunction(e,t,i,"bool"):this._showShaderFunction=void 0),this._showShaderFunction},u.prototype.getPointSizeShaderFunction=function(e,t,i){return this._pointSizeShaderFunctionReady||(this._pointSizeShaderFunctionReady=!0,(0,o.A)(this.pointSize)&&(0,o.A)(this.pointSize.getShaderFunction)?this._pointSizeShaderFunction=this.pointSize.getShaderFunction(e,t,i,"float"):this._pointSizeShaderFunction=void 0),this._pointSizeShaderFunction},u.prototype.getVariables=function(){let e=[];return(0,o.A)(this.color)&&(0,o.A)(this.color.getVariables)&&e.push.apply(e,this.color.getVariables()),(0,o.A)(this.show)&&(0,o.A)(this.show.getVariables)&&e.push.apply(e,this.show.getVariables()),(0,o.A)(this.pointSize)&&(0,o.A)(this.pointSize.getVariables)&&e.push.apply(e,this.pointSize.getVariables()),e=e.filter((function(e,t,i){return i.indexOf(e)===t})),e};const p=u},33138:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var n=i(376758),r=i(491446),o=i(470622);function s(e,t){this._conditionsExpression=(0,n.A)(e,!0),this._conditions=e.conditions,this._runtimeConditions=void 0,function(e,t){const i=[],n=e._conditions;if(!(0,r.A)(n))return;const s=n.length;for(let e=0;e<s;++e){const r=n[e],s=String(r[0]),l=String(r[1]);i.push(new a(new o.A(s,t),new o.A(l,t)))}e._runtimeConditions=i}(this,t)}function a(e,t){this.condition=e,this.expression=t}Object.defineProperties(s.prototype,{conditionsExpression:{get:function(){return this._conditionsExpression}}}),s.prototype.evaluate=function(e,t){const i=this._runtimeConditions;if(!(0,r.A)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluate(e,t)}},s.prototype.evaluateColor=function(e,t){const i=this._runtimeConditions;if(!(0,r.A)(i))return;const n=i.length;for(let r=0;r<n;++r){const n=i[r];if(n.condition.evaluate(e))return n.expression.evaluateColor(e,t)}},s.prototype.getShaderFunction=function(e,t,i,n){const o=this._runtimeConditions;if(!(0,r.A)(o)||0===o.length)return;let s="";const a=o.length;for(let e=0;e<a;++e){const n=o[e];s+=`    ${0===e?"if":"else if"} (${n.condition.getShaderExpression(t,i)})\n    {\n        return ${n.expression.getShaderExpression(t,i)};\n    }\n`}return s=`${n} ${e}\n{\n${s}    return ${n}(1.0);\n}\n`,s},s.prototype.getVariables=function(){let e=[];const t=this._runtimeConditions;if(!(0,r.A)(t)||0===t.length)return e;const i=t.length;for(let n=0;n<i;++n){const i=t[n];e.push.apply(e,i.condition.getVariables()),e.push.apply(e,i.expression.getVariables())}return e=e.filter((function(e,t,i){return i.indexOf(e)===t})),e};const l=s},952392:(e,t,i)=>{"use strict";function n(e){}i.d(t,{A:()=>r}),n.prototype.isReady=function(){return!0},n.prototype.shouldDiscardImage=function(e){return!1};const r=n},362758:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AlphaMode:()=>$g.A,AlphaPipelineStage:()=>ME.A,Animation:()=>bB.A,AnimationViewModel:()=>wB.A,Appearance:()=>Yg.A,ApproximateTerrainHeights:()=>wd.A,ArcGISTiledElevationTerrainProvider:()=>Nd,ArcGisBaseMapType:()=>Zg.A,ArcGisMapServerImageryProvider:()=>Qg.A,ArcGisMapService:()=>e_.A,ArcType:()=>$.A,ArticulationStageType:()=>Ud.A,AssociativeArray:()=>Xr.A,AttributeCompression:()=>Gd.A,AttributeType:()=>t_.A,AutoExposure:()=>i_.A,AutomaticUniforms:()=>Ru.A,Axis:()=>n_.A,AxisAlignedBoundingBox:()=>zd.A,B3dmLoader:()=>kE.A,B3dmParser:()=>r_.A,BaseLayerPicker:()=>xB.A,BaseLayerPickerViewModel:()=>CB.A,BatchTable:()=>o_.A,BatchTableHierarchy:()=>s_.A,BatchTexture:()=>a_.A,BatchTexturePipelineStage:()=>IE.A,Billboard:()=>l_.A,BillboardCollection:()=>c_.A,BillboardGraphics:()=>n.A,BillboardVisualizer:()=>r.A,BingMapsGeocoderService:()=>Hd,BingMapsImageryProvider:()=>u_.A,BingMapsStyle:()=>d_.A,BlendEquation:()=>h_.A,BlendFunction:()=>p_.A,BlendOption:()=>f_.A,BlendingState:()=>m_.A,BoundingRectangle:()=>Y.A,BoundingSphere:()=>dl.A,BoundingSphereState:()=>o.A,BoxEmitter:()=>y_,BoxGeometry:()=>Wd.A,BoxGeometryUpdater:()=>s.A,BoxGraphics:()=>a.A,BoxOutlineGeometry:()=>jd.A,BrdfLutGenerator:()=>v_.A,Buffer:()=>Fu.A,BufferLoader:()=>b_.A,BufferUsage:()=>Du.A,CPUStylingPipelineStage:()=>BE.A,CallbackProperty:()=>l.A,Camera:()=>w_.A,CameraEventAggregator:()=>x_.A,CameraEventType:()=>C_.A,CameraFlightPath:()=>S_.A,Cartesian2:()=>d.A,Cartesian3:()=>Z.A,Cartesian4:()=>Jd.A,Cartographic:()=>Q.A,CartographicGeocoderService:()=>Xd.A,CatmullRomSpline:()=>oh,Cesium3DContentGroup:()=>T_.A,Cesium3DTile:()=>P_.A,Cesium3DTileBatchTable:()=>E_.A,Cesium3DTileColorBlendMode:()=>M_.A,Cesium3DTileContent:()=>I_,Cesium3DTileContentFactory:()=>B_.A,Cesium3DTileContentState:()=>O_.A,Cesium3DTileContentType:()=>R_.A,Cesium3DTileFeature:()=>F_.A,Cesium3DTileFeatureTable:()=>D_.A,Cesium3DTileOptimizationHint:()=>L_.A,Cesium3DTileOptimizations:()=>V_.A,Cesium3DTilePass:()=>N_.A,Cesium3DTilePassState:()=>U_.A,Cesium3DTilePointFeature:()=>G_.A,Cesium3DTileRefine:()=>z_.A,Cesium3DTileStyle:()=>K_.A,Cesium3DTileStyleEngine:()=>q_.A,Cesium3DTilesInspector:()=>zB,Cesium3DTilesInspectorViewModel:()=>UB,Cesium3DTilesVoxelProvider:()=>Ay,Cesium3DTileset:()=>gy.A,Cesium3DTilesetBaseTraversal:()=>_y.A,Cesium3DTilesetCache:()=>yy.A,Cesium3DTilesetGraphics:()=>c.A,Cesium3DTilesetHeatmap:()=>vy.A,Cesium3DTilesetMetadata:()=>H_.A,Cesium3DTilesetMostDetailedTraversal:()=>by.A,Cesium3DTilesetSkipTraversal:()=>wy.A,Cesium3DTilesetStatistics:()=>xy.A,Cesium3DTilesetTraversal:()=>Cy.A,Cesium3DTilesetVisualizer:()=>u.A,CesiumInspector:()=>XB,CesiumInspectorViewModel:()=>jB,CesiumTerrainProvider:()=>sh.A,CesiumWidget:()=>pT.A,Check:()=>Ce.A,CheckerboardMaterialProperty:()=>w,CircleEmitter:()=>Ty,CircleGeometry:()=>hh,CircleOutlineGeometry:()=>gh,ClassificationModelDrawCommand:()=>OE.A,ClassificationPipelineStage:()=>RE.A,ClassificationPrimitive:()=>Py.A,ClassificationType:()=>Me.A,ClearCommand:()=>Lu.A,ClippingPlane:()=>Ey.A,ClippingPlaneCollection:()=>My.A,Clock:()=>Ve.A,ClockRange:()=>ee.A,ClockStep:()=>te.A,ClockViewModel:()=>pB.A,CloudCollection:()=>gv,CloudType:()=>Iy,Color:()=>h.A,ColorBlendMode:()=>ke.A,ColorGeometryInstanceAttribute:()=>_h.A,ColorMaterialProperty:()=>x.A,Command:()=>fB,ComponentDatatype:()=>yh.A,Composite3DTileContent:()=>_v.A,CompositeEntityCollection:()=>V,CompositeMaterialProperty:()=>G,CompositePositionProperty:()=>z.A,CompositeProperty:()=>N.A,CompressedTextureBuffer:()=>vh.A,ComputeCommand:()=>Vu.A,ComputeEngine:()=>Nu.A,ConditionsExpression:()=>yv.A,ConeEmitter:()=>wv,ConstantPositionProperty:()=>K.A,ConstantProperty:()=>q.A,ConstantSpline:()=>bh.A,ContentMetadata:()=>xv.A,Context:()=>Uu.A,ContextLimits:()=>Gu.A,CoplanarPolygonGeometry:()=>wh.A,CoplanarPolygonGeometryLibrary:()=>xh.A,CoplanarPolygonOutlineGeometry:()=>Ch.A,CornerType:()=>ie.A,CorridorGeometry:()=>Sh.A,CorridorGeometryLibrary:()=>Th.A,CorridorGeometryUpdater:()=>H.A,CorridorGraphics:()=>W.A,CorridorOutlineGeometry:()=>Ph.A,Credit:()=>ne.A,CreditDisplay:()=>Cv.A,CubeMap:()=>zu.A,CubeMapFace:()=>Ku.A,CubicRealPolynomial:()=>Eh.A,CullFace:()=>Sv.A,CullingVolume:()=>Mh.A,CumulusCloud:()=>Gy,CustomDataSource:()=>j.A,CustomHeightmapTerrainProvider:()=>Ih,CustomShader:()=>FE.A,CustomShaderMode:()=>DE.A,CustomShaderPipelineStage:()=>LE.A,CustomShaderTranslucencyMode:()=>VE.A,CylinderGeometry:()=>Bh.A,CylinderGeometryLibrary:()=>Oh.A,CylinderGeometryUpdater:()=>J.A,CylinderGraphics:()=>X.A,CylinderOutlineGeometry:()=>Rh.A,CzmlDataSource:()=>Ki,DataSource:()=>Le.A,DataSourceClock:()=>Ge,DataSourceCollection:()=>qi.A,DataSourceDisplay:()=>Hi.A,DebugAppearance:()=>Pv,DebugCameraPrimitive:()=>Ev.A,DebugInspector:()=>Mv.A,DebugModelMatrixPrimitive:()=>Ov,DefaultProxy:()=>Fh.A,DepthFunction:()=>Rv.A,DepthPlane:()=>Fv.A,DequantizationPipelineStage:()=>NE.A,DerivedCommand:()=>Dv.A,DeveloperError:()=>S.A,DeviceOrientationCameraController:()=>Lv.A,DirectionalLight:()=>Vv,DiscardEmptyTileImagePolicy:()=>Nv.A,DiscardMissingTileImagePolicy:()=>Uv.A,DistanceDisplayCondition:()=>re.A,DistanceDisplayConditionGeometryInstanceAttribute:()=>Dh.A,DoubleEndedPriorityQueue:()=>Lh.A,DoublyLinkedList:()=>Vh.A,DracoLoader:()=>Gv.A,DrawCommand:()=>qu.A,DynamicGeometryBatch:()=>Wi.A,DynamicGeometryUpdater:()=>ji.A,EarthOrientationParameters:()=>Nh.A,EarthOrientationParametersSample:()=>Uh.A,EasingFunction:()=>pl.A,EllipseGeometry:()=>ah.A,EllipseGeometryLibrary:()=>Gh.A,EllipseGeometryUpdater:()=>Ji.A,EllipseGraphics:()=>ze.A,EllipseOutlineGeometry:()=>ph.A,Ellipsoid:()=>oe.A,EllipsoidGeodesic:()=>zh.A,EllipsoidGeometry:()=>Kh.A,EllipsoidGeometryUpdater:()=>Xi.A,EllipsoidGraphics:()=>Ke.A,EllipsoidOutlineGeometry:()=>qh.A,EllipsoidPrimitive:()=>zv.A,EllipsoidRhumbLine:()=>Hh.A,EllipsoidSurfaceAppearance:()=>jv,EllipsoidTangentPlane:()=>Wh.A,EllipsoidTerrainProvider:()=>jh.A,EllipsoidalOccluder:()=>Jh.A,Empty3DTileContent:()=>Jv.A,EncodedCartesian3:()=>Xh.A,Entity:()=>P.A,EntityCluster:()=>qe.A,EntityCollection:()=>E.A,EntityView:()=>$i.A,Event:()=>m.A,EventHelper:()=>At.A,Expression:()=>Xv.A,ExpressionNodeType:()=>$v.A,ExtrapolationType:()=>se.A,FeatureDetection:()=>$h.A,FeatureIdPipelineStage:()=>UE.A,Fog:()=>Yv.A,ForEach:()=>oE.A,FrameRateMonitor:()=>Qv,FrameState:()=>eb.A,Framebuffer:()=>Hu.A,FramebufferManager:()=>Wu.A,FrustumCommands:()=>tb.A,FrustumGeometry:()=>Yh.A,FrustumOutlineGeometry:()=>Zh.A,Fullscreen:()=>Qh.A,FullscreenButton:()=>$B.A,FullscreenButtonViewModel:()=>YB.A,GeoJsonDataSource:()=>Yi.A,GeoJsonLoader:()=>GE.A,GeocodeType:()=>ep.A,Geocoder:()=>ZB.A,GeocoderService:()=>tp.A,GeocoderViewModel:()=>QB.A,GeographicProjection:()=>ip.A,GeographicTilingScheme:()=>xd.A,Geometry:()=>np.A,Geometry3DTileContent:()=>ib.A,GeometryAttribute:()=>rp.A,GeometryAttributes:()=>op.A,GeometryFactory:()=>ap,GeometryInstance:()=>lp.A,GeometryInstanceAttribute:()=>cp.A,GeometryOffsetAttribute:()=>up.A,GeometryPipeline:()=>dp.A,GeometryPipelineStage:()=>zE.A,GeometryType:()=>hp.A,GeometryUpdater:()=>Zi.A,GeometryVisualizer:()=>Qi.A,GetFeatureInfoFormat:()=>nb.A,Globe:()=>rb.A,GlobeDepth:()=>ob.A,GlobeSurfaceShaderSet:()=>sb.A,GlobeSurfaceTile:()=>ab.A,GlobeSurfaceTileProvider:()=>lb.A,GlobeTranslucency:()=>cb.A,GlobeTranslucencyFramebuffer:()=>ub.A,GlobeTranslucencyState:()=>db.A,GltfBufferViewLoader:()=>hb.A,GltfDracoLoader:()=>pb.A,GltfImageLoader:()=>fb.A,GltfIndexBufferLoader:()=>mb.A,GltfJsonLoader:()=>Ab.A,GltfLoader:()=>gb.A,GltfLoaderUtil:()=>_b.A,GltfStructuralMetadataLoader:()=>yb.A,GltfTextureLoader:()=>vb.A,GltfVertexBufferLoader:()=>bb.A,GoogleEarthEnterpriseImageryProvider:()=>Cb,GoogleEarthEnterpriseMapsProvider:()=>Sb.A,GoogleEarthEnterpriseMetadata:()=>Mp,GoogleEarthEnterpriseTerrainData:()=>Qp,GoogleEarthEnterpriseTerrainProvider:()=>sf,GoogleEarthEnterpriseTileInformation:()=>_p,GoogleMaps:()=>uf,GpxDataSource:()=>Wr,GregorianDate:()=>df.A,GridImageryProvider:()=>kb,GridMaterialProperty:()=>$e,GroundGeometryUpdater:()=>jr.A,GroundPolylineGeometry:()=>hf.A,GroundPolylinePrimitive:()=>Ib.A,GroundPrimitive:()=>Bb.A,GroupMetadata:()=>Ob.A,HeadingPitchRange:()=>to.A,HeadingPitchRoll:()=>io.A,Heap:()=>pf.A,HeightReference:()=>Ie.A,HeightmapEncoding:()=>Cd.A,HeightmapTerrainData:()=>Sd.A,HeightmapTessellator:()=>ff.A,HermitePolynomialApproximation:()=>he,HermiteSpline:()=>$d.A,HilbertOrder:()=>mf.A,HomeButton:()=>eO.A,HomeButtonViewModel:()=>tO.A,HorizontalOrigin:()=>Be.A,I3SDataProvider:()=>dw,I3SFeature:()=>Fb,I3SField:()=>Lb,I3SGeometry:()=>tw,I3SLayer:()=>aw,I3SNode:()=>ow,I3dmLoader:()=>KE.A,I3dmParser:()=>hw.A,Iau2000Orientation:()=>Af.A,Iau2006XysData:()=>gf.A,Iau2006XysSample:()=>_f.A,IauOrientationAxes:()=>yf.A,IauOrientationParameters:()=>vf.A,ImageBasedLighting:()=>pw.A,ImageBasedLightingPipelineStage:()=>qE.A,ImageMaterialProperty:()=>Ye.A,Imagery:()=>fw.A,ImageryLayer:()=>mw.A,ImageryLayerCollection:()=>Aw.A,ImageryLayerFeatureInfo:()=>gw.A,ImageryProvider:()=>_w.A,ImageryState:()=>yw.A,Implicit3DTileContent:()=>vw.A,ImplicitAvailabilityBitstream:()=>bw.A,ImplicitMetadataView:()=>ww.A,ImplicitSubdivisionScheme:()=>xw.A,ImplicitSubtree:()=>j_.A,ImplicitSubtreeCache:()=>$_,ImplicitSubtreeMetadata:()=>Cw.A,ImplicitTileCoordinates:()=>Y_.A,ImplicitTileset:()=>Z_.A,IndexDatatype:()=>kp.A,InfoBox:()=>iO.A,InfoBoxViewModel:()=>nO.A,InspectorShared:()=>AB,InstanceAttributeSemantic:()=>Sw.A,InstancingPipelineStage:()=>HE.A,InterpolationAlgorithm:()=>wf,InterpolationType:()=>xf.A,Intersect:()=>Cf.A,IntersectionTests:()=>Sf.A,Intersections2D:()=>Ip.A,Interval:()=>Tf.A,InvertClassification:()=>Tw.A,Ion:()=>Pf.A,IonGeocoderService:()=>Ef.A,IonImageryProvider:()=>Pw.A,IonResource:()=>Mf.A,IonWorldImageryStyle:()=>Ew.A,Iso8601:()=>pe.A,JobScheduler:()=>Mw.A,JobType:()=>kw.A,JsonMetadataTable:()=>Iw.A,JulianDate:()=>fe.A,KTX2Transcoder:()=>kf.A,KeyboardEventModifier:()=>If.A,KeyframeNode:()=>Bw.A,KmlCamera:()=>Jr,KmlDataSource:()=>Rc,KmlLookAt:()=>rl,KmlTour:()=>ul,KmlTourFlyTo:()=>ml,KmlTourWait:()=>gl,Label:()=>Ow.A,LabelCollection:()=>Rw.A,LabelGraphics:()=>Ze.A,LabelStyle:()=>Oe.A,LabelVisualizer:()=>Fc.A,LagrangePolynomialApproximation:()=>me,LeapSecond:()=>Bf.A,Light:()=>Dw,LightingModel:()=>WE.A,LightingPipelineStage:()=>jE.A,LinearApproximation:()=>Ae.A,LinearSpline:()=>Of.A,ManagedArray:()=>Rf.A,MapMode2D:()=>Lw.A,MapProjection:()=>Df,MapboxImageryProvider:()=>Vw.A,MapboxStyleImageryProvider:()=>Kw,Material:()=>Hv.A,MaterialAppearance:()=>qw.A,MaterialPipelineStage:()=>JE.A,MaterialProperty:()=>Dc.A,Math:()=>T.A,Matrix2:()=>Lf.A,Matrix3:()=>Dt.A,Matrix4:()=>Yd.A,Megatexture:()=>Hw.A,MetadataClass:()=>Ww.A,MetadataClassProperty:()=>jw.A,MetadataComponentType:()=>Jw.A,MetadataEntity:()=>Xw.A,MetadataEnum:()=>$w.A,MetadataEnumValue:()=>Yw.A,MetadataPipelineStage:()=>XE.A,MetadataSchema:()=>Zw.A,MetadataSchemaLoader:()=>Qw.A,MetadataSemantic:()=>Q_.A,MetadataTable:()=>ry.A,MetadataTableProperty:()=>ex.A,MetadataType:()=>ey.A,MipmapHint:()=>ju.A,Model:()=>$E.A,Model3DTileContent:()=>YE.A,ModelAlphaOptions:()=>ZE.A,ModelAnimation:()=>QE.A,ModelAnimationChannel:()=>eM.A,ModelAnimationCollection:()=>tM.A,ModelAnimationLoop:()=>tx.A,ModelAnimationState:()=>ix.A,ModelArticulation:()=>iM.A,ModelArticulationStage:()=>nM.A,ModelClippingPlanesPipelineStage:()=>rM.A,ModelColorPipelineStage:()=>oM.A,ModelComponents:()=>nx.A,ModelDrawCommand:()=>sM.A,ModelFeature:()=>aM.A,ModelFeatureTable:()=>lM.A,ModelGraphics:()=>Qe.A,ModelLightingOptions:()=>cM.A,ModelMatrixUpdateStage:()=>uM.A,ModelNode:()=>dM.A,ModelRenderResources:()=>hM.A,ModelRuntimeNode:()=>pM.A,ModelRuntimePrimitive:()=>fM.A,ModelSceneGraph:()=>mM.A,ModelSilhouettePipelineStage:()=>AM.A,ModelSkin:()=>gM.A,ModelSplitterPipelineStage:()=>_M.A,ModelStatistics:()=>yM.A,ModelType:()=>vM.A,ModelUtility:()=>bM.A,ModelVisualizer:()=>Lc.A,Moon:()=>rx.A,MorphTargetsPipelineStage:()=>wM.A,MorphWeightSpline:()=>Nf,MortonOrder:()=>Uf.A,Multiple3DTileContent:()=>ox.A,MultisampleFramebuffer:()=>Ju.A,NavigationHelpButton:()=>rO.A,NavigationHelpButtonViewModel:()=>oO.A,NearFarScalar:()=>ge.A,NeverTileDiscardPolicy:()=>sx.A,NodeRenderResources:()=>xM.A,NodeStatisticsPipelineStage:()=>CM.A,NodeTransformationProperty:()=>et.A,OIT:()=>ax.A,Occluder:()=>Gf.A,OctahedralProjectedCubeMap:()=>lx.A,OffsetGeometryInstanceAttribute:()=>zf.A,OpenCageGeocoderService:()=>qf,OpenStreetMapImageryProvider:()=>cx.A,OrderedGroundPrimitiveCollection:()=>ux.A,OrientedBoundingBox:()=>Bp.A,OrthographicFrustum:()=>Hf.A,OrthographicOffCenterFrustum:()=>Wf.A,Packable:()=>jf,PackableForInterpolation:()=>Jf,Particle:()=>fx,ParticleBurst:()=>Ax,ParticleEmitter:()=>_x,ParticleSystem:()=>Px,Pass:()=>Xu.A,PassState:()=>$u.A,PathGraphics:()=>tt.A,PathVisualizer:()=>Vc.A,PeliasGeocoderService:()=>Xf.A,PerInstanceColorAppearance:()=>Ex.A,PerformanceDisplay:()=>Mx.A,PerformanceWatchdog:()=>cO,PerformanceWatchdogViewModel:()=>aO,PerspectiveFrustum:()=>$f.A,PerspectiveOffCenterFrustum:()=>Yf.A,PickDepth:()=>kx.A,PickDepthFramebuffer:()=>Ix.A,PickFramebuffer:()=>Bx.A,Picking:()=>Ox.A,PickingPipelineStage:()=>SM.A,PinBuilder:()=>en.A,PixelDatatype:()=>Yu.A,PixelFormat:()=>Zf.A,Plane:()=>Qf.A,PlaneGeometry:()=>em.A,PlaneGeometryUpdater:()=>Nc.A,PlaneGraphics:()=>Uc.A,PlaneOutlineGeometry:()=>tm.A,PntsLoader:()=>TM.A,PntsParser:()=>Rx.A,PointCloud:()=>Fx.A,PointCloudEyeDomeLighting:()=>Dx.A,PointCloudShading:()=>Lx.A,PointCloudStylingPipelineStage:()=>PM.A,PointGraphics:()=>it.A,PointPrimitive:()=>Vx.A,PointPrimitiveCollection:()=>Nx.A,PointVisualizer:()=>Gc.A,PolygonGeometry:()=>im.A,PolygonGeometryLibrary:()=>nm.A,PolygonGeometryUpdater:()=>zc.A,PolygonGraphics:()=>nt.A,PolygonHierarchy:()=>_e.A,PolygonOutlineGeometry:()=>rm.A,PolygonPipeline:()=>om.A,Polyline:()=>Ux.A,PolylineArrowMaterialProperty:()=>ot,PolylineCollection:()=>Gx.A,PolylineColorAppearance:()=>kv.A,PolylineDashMaterialProperty:()=>st.A,PolylineGeometry:()=>sm.A,PolylineGeometryUpdater:()=>Kc.A,PolylineGlowMaterialProperty:()=>ct,PolylineGraphics:()=>ut.A,PolylineMaterialAppearance:()=>zx.A,PolylineOutlineMaterialProperty:()=>ft,PolylinePipeline:()=>am.A,PolylineVisualizer:()=>qc.A,PolylineVolumeGeometry:()=>lm.A,PolylineVolumeGeometryLibrary:()=>cm.A,PolylineVolumeGeometryUpdater:()=>Hc.A,PolylineVolumeGraphics:()=>mt.A,PolylineVolumeOutlineGeometry:()=>um.A,PositionProperty:()=>Wc.A,PositionPropertyArray:()=>_t,PostProcessStage:()=>Kx.A,PostProcessStageCollection:()=>qx.A,PostProcessStageComposite:()=>Hx.A,PostProcessStageLibrary:()=>Wx.A,PostProcessStageSampleMode:()=>jx.A,PostProcessStageTextureCache:()=>Jx.A,Primitive:()=>Iv.A,PrimitiveCollection:()=>Xx.A,PrimitiveLoadPlan:()=>$x.A,PrimitiveOutlineGenerator:()=>EM.A,PrimitiveOutlinePipelineStage:()=>MM.A,PrimitivePipeline:()=>Yx.A,PrimitiveRenderResources:()=>kM.A,PrimitiveState:()=>Zx.A,PrimitiveStatisticsPipelineStage:()=>IM.A,PrimitiveType:()=>dm.A,ProjectionPicker:()=>uO.A,ProjectionPickerViewModel:()=>dO.A,Property:()=>g.A,PropertyArray:()=>vt,PropertyAttribute:()=>Qx.A,PropertyAttributeProperty:()=>eC.A,PropertyBag:()=>bt.A,PropertyTable:()=>tC.A,PropertyTexture:()=>iC.A,PropertyTextureProperty:()=>nC.A,ProviderViewModel:()=>SB.A,Proxy:()=>pm,QuadraticRealPolynomial:()=>fm.A,QuadtreeOccluders:()=>rC.A,QuadtreePrimitive:()=>oC.A,QuadtreeTile:()=>sC.A,QuadtreeTileLoadState:()=>aC.A,QuadtreeTileProvider:()=>cC,QuantizedMeshTerrainData:()=>Op.A,QuarticRealPolynomial:()=>mm.A,Quaternion:()=>ye.A,QuaternionSpline:()=>Am.A,Queue:()=>gm.A,Ray:()=>_m.A,Rectangle:()=>ve.A,RectangleCollisionChecker:()=>ym.A,RectangleGeometry:()=>vm.A,RectangleGeometryLibrary:()=>bm.A,RectangleGeometryUpdater:()=>jc.A,RectangleGraphics:()=>wt.A,RectangleOutlineGeometry:()=>wm.A,ReferenceFrame:()=>be.A,ReferenceProperty:()=>xt.A,RenderState:()=>Zu.A,Renderbuffer:()=>Qu.A,RenderbufferFormat:()=>ed.A,Request:()=>Td.A,RequestErrorEvent:()=>xm.A,RequestScheduler:()=>Cm.A,RequestState:()=>Pd.A,RequestType:()=>Ed.A,Resource:()=>we.A,ResourceCache:()=>iy.A,ResourceCacheKey:()=>uC.A,ResourceCacheStatistics:()=>dC.A,ResourceLoader:()=>hC.A,ResourceLoaderState:()=>pC.A,Rotation:()=>Ct,RuntimeError:()=>xe.A,S2Cell:()=>Sm.A,SDFSettings:()=>fC.A,SampledPositionProperty:()=>St.A,SampledProperty:()=>Tt.A,Sampler:()=>td.A,ScaledPositionProperty:()=>_l.A,Scene:()=>mC.A,SceneFramebuffer:()=>AC.A,SceneMode:()=>so.A,SceneMode2DPipelineStage:()=>BM.A,SceneModePicker:()=>hO.A,SceneModePickerViewModel:()=>pO.A,SceneTransforms:()=>gC.A,SceneTransitioner:()=>_C.A,ScreenSpaceCameraController:()=>yC.A,ScreenSpaceEventHandler:()=>Tm.A,ScreenSpaceEventType:()=>Pm.A,SelectedFeatureIdPipelineStage:()=>OM.A,SelectionIndicator:()=>fO.A,SelectionIndicatorViewModel:()=>mO.A,ShaderBuilder:()=>id.A,ShaderCache:()=>nd.A,ShaderDestination:()=>rd.A,ShaderFunction:()=>od.A,ShaderProgram:()=>sd.A,ShaderSource:()=>ad.A,ShaderStruct:()=>ld.A,ShadowMap:()=>vC.A,ShadowMapShader:()=>bC.A,ShadowMode:()=>Re.A,ShadowVolumeAppearance:()=>wC.A,ShowGeometryInstanceAttribute:()=>Em.A,Simon1994PlanetaryPositions:()=>Mm.A,SimplePolylineGeometry:()=>Fm,SingleTileImageryProvider:()=>xC.A,SkinningPipelineStage:()=>RM.A,SkyAtmosphere:()=>CC.A,SkyBox:()=>SC.A,SpatialNode:()=>TC.A,SphereEmitter:()=>EC,SphereGeometry:()=>Nm,SphereOutlineGeometry:()=>Um.A,Spherical:()=>Te,Spline:()=>Zd.A,SplitDirection:()=>MC.A,Splitter:()=>kC.A,StaticGeometryColorBatch:()=>Jc.A,StaticGeometryPerMaterialBatch:()=>Xc.A,StaticGroundGeometryColorBatch:()=>$c.A,StaticGroundGeometryPerMaterialBatch:()=>Yc.A,StaticGroundPolylinePerMaterialBatch:()=>Zc.A,StaticOutlineGeometryBatch:()=>Qc.A,StencilConstants:()=>IC.A,StencilFunction:()=>BC.A,StencilOperation:()=>OC.A,SteppedSpline:()=>Gm.A,StripeMaterialProperty:()=>Bt,StripeOrientation:()=>Pt,StructuralMetadata:()=>RC.A,StyleCommandsNeeded:()=>FM.A,StyleExpression:()=>DC,Sun:()=>LC.A,SunLight:()=>VC.A,SunPostProcess:()=>NC.A,SupportedImageFormats:()=>UC.A,SvgPathBindingHandler:()=>gB.A,TaskProcessor:()=>vp.A,Terrain:()=>GC.A,TerrainData:()=>Rp.A,TerrainEncoding:()=>Fp.A,TerrainExaggeration:()=>zm.A,TerrainFillMesh:()=>zC.A,TerrainMesh:()=>Dp.A,TerrainOffsetProperty:()=>eu.A,TerrainProvider:()=>Md.A,TerrainQuantization:()=>Km.A,TerrainState:()=>KC.A,Texture:()=>cd.A,TextureAtlas:()=>qC.A,TextureCache:()=>ud.A,TextureMagnificationFilter:()=>dd.A,TextureManager:()=>DM.A,TextureMinificationFilter:()=>hd.A,TextureUniform:()=>LM,TextureWrap:()=>pd.A,TileAvailability:()=>kd.A,TileBoundingRegion:()=>HC.A,TileBoundingS2Cell:()=>WC.A,TileBoundingSphere:()=>jC.A,TileBoundingVolume:()=>XC,TileCoordinatesImageryProvider:()=>YC,TileDiscardPolicy:()=>QC,TileEdge:()=>qm.A,TileImagery:()=>eS.A,TileMapServiceImageryProvider:()=>tS.A,TileMetadata:()=>iS.A,TileOrientedBoundingBox:()=>nS.A,TileProviderError:()=>Id.A,TileReplacementQueue:()=>rS.A,TileSelectionResult:()=>oS.A,TileState:()=>sS,Tileset3DTileContent:()=>aS.A,TilesetMetadata:()=>lS.A,TilesetPipelineStage:()=>VM.A,TilingScheme:()=>Wm,TimeConstants:()=>jm.A,TimeDynamicImagery:()=>cS.A,TimeDynamicPointCloud:()=>uS.A,TimeInterval:()=>Pe.A,TimeIntervalCollection:()=>Ee.A,TimeIntervalCollectionPositionProperty:()=>Ot.A,TimeIntervalCollectionProperty:()=>Ft,TimeStandard:()=>Jm.A,Timeline:()=>_O.A,TimelineHighlightRange:()=>yO.A,TimelineTrack:()=>vO.A,Tipsify:()=>Xm.A,ToggleButtonViewModel:()=>_B.A,Tonemapper:()=>dS.A,Transforms:()=>Lt.A,TranslationRotationScale:()=>$m.A,TranslucentTileClassification:()=>hS.A,TridiagonalSystemSolver:()=>Ym.A,TrustedServers:()=>Zm.A,TweenCollection:()=>pS.A,UniformState:()=>fd.A,UniformType:()=>NM.A,UrlTemplateImageryProvider:()=>Nw.A,VERSION:()=>HO,VRButton:()=>bO.A,VRButtonViewModel:()=>wO.A,VRTheWorldTerrainProvider:()=>aA,VaryingType:()=>UM,Vector3DTileBatch:()=>fS.A,Vector3DTileClampedPolylines:()=>mS.A,Vector3DTileContent:()=>AS.A,Vector3DTileGeometry:()=>gS.A,Vector3DTilePoints:()=>_S.A,Vector3DTilePolygons:()=>yS.A,Vector3DTilePolylines:()=>vS.A,Vector3DTilePrimitive:()=>bS.A,VelocityOrientationProperty:()=>Jt,VelocityVectorProperty:()=>Kt,VertexArray:()=>md.A,VertexArrayFacade:()=>Ad.A,VertexAttributeSemantic:()=>wS.A,VertexFormat:()=>lh.A,VerticalOrigin:()=>Fe.A,VideoSynchronizer:()=>uA,View:()=>xS.A,Viewer:()=>xO.A,ViewportQuad:()=>SS,Visibility:()=>dA.A,Visualizer:()=>iu,VoxelBoxShape:()=>ny.A,VoxelContent:()=>sy,VoxelCylinderShape:()=>ay.A,VoxelEllipsoidShape:()=>TS.A,VoxelInspector:()=>KO,VoxelInspectorViewModel:()=>UO,VoxelPrimitive:()=>PS.A,VoxelProvider:()=>MS,VoxelRenderResources:()=>kS.A,VoxelShape:()=>BS,VoxelShapeType:()=>ly.A,VoxelTraversal:()=>OS.A,VulkanConstants:()=>hA,WallGeometry:()=>pA.A,WallGeometryLibrary:()=>fA.A,WallGeometryUpdater:()=>nu.A,WallGraphics:()=>Xt.A,WallOutlineGeometry:()=>mA.A,WebGLConstants:()=>AA.A,WebMapServiceImageryProvider:()=>RS.A,WebMapTileServiceImageryProvider:()=>FS.A,WebMercatorProjection:()=>gA.A,WebMercatorTilingScheme:()=>Bd.A,WindingOrder:()=>_A.A,WireframeIndexGenerator:()=>yA.A,WireframePipelineStage:()=>GM.A,_shadersAcesTonemappingStage:()=>vP.A,_shadersAdditiveBlend:()=>bP.A,_shadersAdjustTranslucentFS:()=>eg.A,_shadersAllMaterialAppearanceFS:()=>fT.A,_shadersAllMaterialAppearanceVS:()=>mT.A,_shadersAmbientOcclusionGenerate:()=>wP.A,_shadersAmbientOcclusionModulate:()=>xP.A,_shadersAspectRampMaterial:()=>PT.A,_shadersAtmosphereCommon:()=>tg.A,_shadersBasicMaterialAppearanceFS:()=>AT.A,_shadersBasicMaterialAppearanceVS:()=>gT.A,_shadersBillboardCollectionFS:()=>ig.A,_shadersBillboardCollectionVS:()=>ng.A,_shadersBlackAndWhite:()=>CP.A,_shadersBloomComposite:()=>SP.A,_shadersBrdfLutGeneratorFS:()=>rg.A,_shadersBrightPass:()=>TP.A,_shadersBrightness:()=>PP.A,_shadersBumpMapMaterial:()=>ET.A,_shadersCPUStylingStageFS:()=>HT.A,_shadersCPUStylingStageVS:()=>WT.A,_shadersCheckerboardMaterial:()=>MT.A,_shadersCloudCollectionFS:()=>og,_shadersCloudCollectionVS:()=>sg,_shadersCloudNoiseFS:()=>ag,_shadersCloudNoiseVS:()=>lg,_shadersCompareAndPackTranslucentDepth:()=>cg.A,_shadersCompositeOITFS:()=>ug.A,_shadersCompositeTranslucentClassification:()=>EP.A,_shadersContrastBias:()=>MP.A,_shadersCustomShaderStageFS:()=>jT.A,_shadersCustomShaderStageVS:()=>JT.A,_shadersCzmBuiltins:()=>TT.A,_shadersDepthOfField:()=>kP.A,_shadersDepthPlaneFS:()=>dg.A,_shadersDepthPlaneVS:()=>hg.A,_shadersDepthView:()=>IP.A,_shadersDepthViewPacked:()=>BP,_shadersDotMaterial:()=>kT.A,_shadersEdgeDetection:()=>OP.A,_shadersElevationBandMaterial:()=>IT.A,_shadersElevationContourMaterial:()=>BT.A,_shadersElevationRampMaterial:()=>OT.A,_shadersEllipsoidFS:()=>pg.A,_shadersEllipsoidSurfaceAppearanceFS:()=>Kv,_shadersEllipsoidSurfaceAppearanceVS:()=>qv,_shadersEllipsoidVS:()=>fg.A,_shadersFXAA:()=>RP.A,_shadersFXAA3_11:()=>mg.A,_shadersFadeMaterial:()=>RT.A,_shadersFeatureIdStageFS:()=>XT.A,_shadersFeatureIdStageVS:()=>$T.A,_shadersFilmicTonemapping:()=>FP.A,_shadersGaussianBlur1D:()=>DP.A,_shadersGeometryStageFS:()=>YT.A,_shadersGeometryStageVS:()=>ZT.A,_shadersGlobeFS:()=>Ag.A,_shadersGlobeVS:()=>gg.A,_shadersGridMaterial:()=>FT.A,_shadersGroundAtmosphere:()=>_g.A,_shadersHSBToRGB:()=>Pk.A,_shadersHSLToRGB:()=>Ek.A,_shadersImageBasedLightingStageFS:()=>QT.A,_shadersInstancingStageCommon:()=>eP.A,_shadersInstancingStageVS:()=>tP.A,_shadersIntersectBox:()=>HP.A,_shadersIntersectClippingPlanes:()=>WP.A,_shadersIntersectCylinder:()=>jP.A,_shadersIntersectDepth:()=>JP.A,_shadersIntersectEllipsoid:()=>XP.A,_shadersIntersection:()=>$P.A,_shadersIntersectionUtils:()=>YP.A,_shadersLegacyInstancingStageVS:()=>iP.A,_shadersLensFlare:()=>LP.A,_shadersLightingStageFS:()=>nP.A,_shadersMaterialStageFS:()=>rP.A,_shadersMegatexture:()=>ZP.A,_shadersMetadataStageFS:()=>oP.A,_shadersMetadataStageVS:()=>sP.A,_shadersModelClippingPlanesStageFS:()=>aP.A,_shadersModelColorStageFS:()=>lP.A,_shadersModelFS:()=>cP.A,_shadersModelSilhouetteStageFS:()=>uP.A,_shadersModelSilhouetteStageVS:()=>dP.A,_shadersModelSplitterStageFS:()=>hP.A,_shadersModelVS:()=>pP.A,_shadersModifiedReinhardTonemapping:()=>VP.A,_shadersMorphTargetsStageVS:()=>fP.A,_shadersNightVision:()=>NP.A,_shadersNormalMapMaterial:()=>DT.A,_shadersOctahedralProjectionAtlasFS:()=>yg.A,_shadersOctahedralProjectionFS:()=>vg.A,_shadersOctahedralProjectionVS:()=>bg.A,_shadersOctree:()=>QP.A,_shadersPassThrough:()=>UP.A,_shadersPassThroughDepth:()=>GP.A,_shadersPerInstanceColorAppearanceFS:()=>_T.A,_shadersPerInstanceColorAppearanceVS:()=>yT.A,_shadersPerInstanceFlatColorAppearanceFS:()=>vT.A,_shadersPerInstanceFlatColorAppearanceVS:()=>bT.A,_shadersPointCloudEyeDomeLighting:()=>zP.A,_shadersPointCloudStylingStageVS:()=>mP.A,_shadersPointPrimitiveCollectionFS:()=>wg.A,_shadersPointPrimitiveCollectionVS:()=>xg.A,_shadersPolylineArrowMaterial:()=>LT.A,_shadersPolylineColorAppearanceVS:()=>wT.A,_shadersPolylineCommon:()=>Cg.A,_shadersPolylineDashMaterial:()=>VT.A,_shadersPolylineFS:()=>Sg.A,_shadersPolylineGlowMaterial:()=>NT.A,_shadersPolylineMaterialAppearanceVS:()=>xT.A,_shadersPolylineOutlineMaterial:()=>UT.A,_shadersPolylineShadowVolumeFS:()=>Tg.A,_shadersPolylineShadowVolumeMorphFS:()=>Pg.A,_shadersPolylineShadowVolumeMorphVS:()=>Eg.A,_shadersPolylineShadowVolumeVS:()=>Mg.A,_shadersPolylineVS:()=>kg.A,_shadersPrimitiveOutlineStageFS:()=>AP.A,_shadersPrimitiveOutlineStageVS:()=>gP.A,_shadersRGBToHSB:()=>Mk.A,_shadersRGBToHSL:()=>kk.A,_shadersRGBToXYZ:()=>Ik.A,_shadersReinhardTonemapping:()=>KP.A,_shadersReprojectWebMercatorFS:()=>Ig.A,_shadersReprojectWebMercatorVS:()=>Bg.A,_shadersRimLightingMaterial:()=>GT.A,_shadersSelectedFeatureIdStageCommon:()=>_P.A,_shadersShadowVolumeAppearanceFS:()=>Og.A,_shadersShadowVolumeAppearanceVS:()=>Rg.A,_shadersShadowVolumeFS:()=>Fg.A,_shadersSilhouette:()=>qP.A,_shadersSkinningStageVS:()=>yP.A,_shadersSkyAtmosphereCommon:()=>Dg.A,_shadersSkyAtmosphereFS:()=>Lg.A,_shadersSkyAtmosphereVS:()=>Vg.A,_shadersSkyBoxFS:()=>Ng.A,_shadersSkyBoxVS:()=>Ug.A,_shadersSlopeRampMaterial:()=>zT.A,_shadersStripeMaterial:()=>KT.A,_shadersSunFS:()=>Gg.A,_shadersSunTextureFS:()=>zg.A,_shadersSunVS:()=>Kg.A,_shadersTexturedMaterialAppearanceFS:()=>CT.A,_shadersTexturedMaterialAppearanceVS:()=>ST.A,_shadersVector3DTileClampedPolylinesFS:()=>qg.A,_shadersVector3DTileClampedPolylinesVS:()=>Hg.A,_shadersVector3DTilePolylinesVS:()=>Wg.A,_shadersVectorTileVS:()=>jg.A,_shadersViewportQuadFS:()=>Jg,_shadersViewportQuadVS:()=>Xg.A,_shadersVoxelFS:()=>eE.A,_shadersVoxelVS:()=>tE.A,_shadersWater:()=>qT.A,_shadersXYZToRGB:()=>Bk.A,_shadersacesTonemapping:()=>Ok.A,_shadersalphaWeight:()=>Rk.A,_shadersantialias:()=>Fk.A,_shadersapproximateSphericalCoordinates:()=>Dk.A,_shadersbackFacing:()=>Lk.A,_shadersbranchFreeTernary:()=>Vk.A,_shaderscascadeColor:()=>Nk.A,_shaderscascadeDistance:()=>Uk.A,_shaderscascadeMatrix:()=>Gk.A,_shaderscascadeWeights:()=>zk.A,_shaderscolumbusViewMorph:()=>Kk.A,_shaderscomputePosition:()=>qk.A,_shadersconvertUvToBox:()=>iE.A,_shadersconvertUvToCylinder:()=>nE.A,_shadersconvertUvToEllipsoid:()=>rE.A,_shaderscosineAndSine:()=>Hk.A,_shadersdecompressTextureCoordinates:()=>Wk.A,_shadersdefaultPbrMaterial:()=>jk.A,_shadersdegreesPerRadian:()=>KM.A,_shadersdepthClamp:()=>Jk.A,_shadersdepthRange:()=>qM.A,_shadersdepthRangeStruct:()=>nB.A,_shaderseastNorthUpToEyeCoordinates:()=>Xk.A,_shadersellipsoidContainsPoint:()=>$k.A,_shadersellipsoidWgs84TextureCoordinates:()=>Yk.A,_shadersepsilon1:()=>HM.A,_shadersepsilon2:()=>WM.A,_shadersepsilon3:()=>jM.A,_shadersepsilon4:()=>JM.A,_shadersepsilon5:()=>XM.A,_shadersepsilon6:()=>$M.A,_shadersepsilon7:()=>YM.A,_shadersequalsEpsilon:()=>Zk.A,_shaderseyeOffset:()=>Qk.A,_shaderseyeToWindowCoordinates:()=>eI.A,_shadersfastApproximateAtan:()=>tI.A,_shadersfog:()=>iI.A,_shadersgammaCorrect:()=>nI.A,_shadersgeodeticSurfaceNormal:()=>rI.A,_shadersgetDefaultMaterial:()=>oI.A,_shadersgetLambertDiffuse:()=>sI.A,_shadersgetSpecular:()=>aI.A,_shadersgetWaterNoise:()=>lI.A,_shadershue:()=>cI.A,_shadersinfinity:()=>ZM.A,_shadersinverseGamma:()=>uI.A,_shadersisEmpty:()=>dI.A,_shadersisFull:()=>hI.A,_shaderslatitudeToWebMercatorFraction:()=>pI.A,_shaderslineDistance:()=>fI.A,_shaderslinearToSrgb:()=>mI.A,_shadersluminance:()=>AI.A,_shadersmaterial:()=>rB.A,_shadersmaterialInput:()=>oB.A,_shadersmetersPerPixel:()=>gI.A,_shadersmodelMaterial:()=>sB.A,_shadersmodelToWindowCoordinates:()=>_I.A,_shadersmodelVertexOutput:()=>aB.A,_shadersmultiplyWithColorBalance:()=>yI.A,_shadersnearFarScalar:()=>vI.A,_shadersoctDecode:()=>bI.A,_shadersoneOverPi:()=>QM.A,_shadersoneOverTwoPi:()=>ek.A,_shaderspackDepth:()=>wI.A,_shaderspassCesium3DTile:()=>tk.A,_shaderspassCesium3DTileClassification:()=>ik.A,_shaderspassCesium3DTileClassificationIgnoreShow:()=>nk.A,_shaderspassClassification:()=>rk.A,_shaderspassCompute:()=>ok.A,_shaderspassEnvironment:()=>sk.A,_shaderspassGlobe:()=>ak.A,_shaderspassOpaque:()=>lk.A,_shaderspassOverlay:()=>ck.A,_shaderspassTerrainClassification:()=>uk.A,_shaderspassTranslucent:()=>dk.A,_shaderspassVoxels:()=>hk.A,_shaderspbrLighting:()=>xI.A,_shaderspbrMetallicRoughnessMaterial:()=>CI.A,_shaderspbrParameters:()=>lB.A,_shaderspbrSpecularGlossinessMaterial:()=>SI.A,_shadersphong:()=>TI.A,_shaderspi:()=>pk.A,_shaderspiOverFour:()=>fk.A,_shaderspiOverSix:()=>mk.A,_shaderspiOverThree:()=>Ak.A,_shaderspiOverTwo:()=>gk.A,_shadersplaneDistance:()=>PI.A,_shaderspointAlongRay:()=>EI.A,_shadersradiansPerDegree:()=>_k.A,_shadersray:()=>cB.A,_shadersrayEllipsoidIntersectionInterval:()=>MI.A,_shadersraySegment:()=>uB.A,_shadersraySphereIntersectionInterval:()=>kI.A,_shadersreadDepth:()=>II.A,_shadersreadNonPerspective:()=>BI.A,_shadersreverseLogDepth:()=>OI.A,_shadersround:()=>RI.A,_shaderssampleOctahedralProjection:()=>FI.A,_shaderssaturation:()=>DI.A,_shaderssceneMode2D:()=>yk.A,_shaderssceneMode3D:()=>vk.A,_shaderssceneModeColumbusView:()=>bk.A,_shaderssceneModeMorphing:()=>wk.A,_shadersshadowDepthCompare:()=>LI.A,_shadersshadowParameters:()=>dB.A,_shadersshadowVisibility:()=>VI.A,_shaderssignNotZero:()=>NI.A,_shaderssolarRadius:()=>xk.A,_shaderssphericalHarmonics:()=>UI.A,_shaderssrgbToLinear:()=>GI.A,_shaderstangentToEyeSpaceMatrix:()=>zI.A,_shaderstextureCube:()=>KI.A,_shadersthreePiOver2:()=>Ck.A,_shaderstransformPlane:()=>qI.A,_shaderstranslateRelativeToEye:()=>HI.A,_shaderstranslucentPhong:()=>WI.A,_shaderstranspose:()=>jI.A,_shaderstwoPi:()=>Sk.A,_shadersunpackDepth:()=>JI.A,_shadersunpackFloat:()=>XI.A,_shadersunpackUint:()=>$I.A,_shadersvalueTransform:()=>YI.A,_shadersvertexLogDepth:()=>ZI.A,_shaderswebMercatorMaxLatitude:()=>Tk.A,_shaderswindowToEyeCoordinates:()=>QI.A,_shaderswriteDepthClamp:()=>eB.A,_shaderswriteLogDepth:()=>tB.A,_shaderswriteNonPerspective:()=>iB.A,addBuffer:()=>sE.A,addDefaults:()=>aE.A,addExtensionsRequired:()=>lE.A,addExtensionsUsed:()=>cE.A,addPipelineExtras:()=>uE.A,addToArray:()=>dE.A,appendForwardSlash:()=>vA.A,arrayRemoveDuplicates:()=>bA.A,barycentricCoordinates:()=>wA.A,binarySearch:()=>xA.A,buildDrawCommand:()=>zM.A,buildModuleUrl:()=>$r.A,buildVoxelDrawCommands:()=>DS.A,clone:()=>Yr.A,combine:()=>hl.A,computeFlyToLocationForRectangle:()=>LS.A,createBillboardPointCallback:()=>VS.A,createCommand:()=>yB.A,createDefaultImageryProviderViewModels:()=>TB.A,createDefaultTerrainProviderViewModels:()=>PB.A,createElevationBandMaterial:()=>XS,createGooglePhotorealistic3DTileset:()=>$S,createGuid:()=>C.A,createMaterialPropertyDescriptor:()=>ru.A,createOsmBuildings:()=>YS,createOsmBuildingsAsync:()=>ZS,createPropertyDescriptor:()=>A.A,createRawPropertyDescriptor:()=>Ne.A,createTangentSpaceDebugPrimitive:()=>QS,createTaskProcessorWorker:()=>hB,createUniform:()=>gd.A,createUniformArray:()=>_d.A,createWorldImagery:()=>eT,createWorldImageryAsync:()=>tT.A,createWorldTerrain:()=>CA,createWorldTerrainAsync:()=>SA.A,decodeGoogleEarthEnterpriseData:()=>PA,decodeVectorPolylinePositions:()=>EA.A,defaultValue:()=>p.A,defer:()=>Zr.A,defined:()=>f.A,demodernizeShader:()=>yd.A,deprecationWarning:()=>ol.A,destroyObject:()=>lA.A,exportKml:()=>Bu,findAccessorMinMax:()=>hE.A,findContentMetadata:()=>iT.A,findGroupMetadata:()=>nT.A,findTileMetadata:()=>rT.A,forEachTextureInMaterial:()=>pE.A,formatError:()=>MA.A,freezeRenderState:()=>vd.A,getAbsoluteUri:()=>kA.A,getAccessorByteStride:()=>fE.A,getBaseUri:()=>IA.A,getBinaryAccessor:()=>oT.A,getClipAndStyleCode:()=>sT.A,getClippingFunction:()=>aT.A,getComponentReader:()=>mE.A,getElement:()=>nl.A,getExtensionFromUri:()=>Qr.A,getFilenameFromUri:()=>ae.A,getImageFromTypedArray:()=>BA.A,getImagePixels:()=>Qm.A,getJsonFromTypedArray:()=>OA.A,getMagic:()=>RA.A,getStringFromTypedArray:()=>FA.A,getTimestamp:()=>eo.A,hasExtension:()=>W_.A,heightReferenceOnEntityPropertyChanged:()=>Ou.A,isBitSet:()=>mp,isBlobUri:()=>DA.A,isCrossOriginUrl:()=>LA.A,isDataUri:()=>VA.A,isLeapYear:()=>NA.A,knockout:()=>EB.A,knockout_3_5_1:()=>AO.A,knockout_es5:()=>gO.A,loadAndExecuteScript:()=>yp.A,loadCubeMap:()=>bd.A,loadImageFromTypedArray:()=>UA.A,loadKTX2:()=>GA.A,mergeSort:()=>zA.A,moveTechniqueRenderStates:()=>AE.A,moveTechniquesToExtension:()=>gE.A,numberOfComponentsForType:()=>_E.A,objectToQuery:()=>no.A,oneTimeWarning:()=>ro.A,parseBatchTable:()=>lT.A,parseBoundingVolumeSemantics:()=>cT.A,parseFeatureMetadataLegacy:()=>uT.A,parseGlb:()=>yE.A,parseResponseHeaders:()=>KA.A,parseStructuralMetadata:()=>dT.A,pointInsideTriangle:()=>HA,preprocess3DTileContent:()=>ty.A,processVoxelProperties:()=>hT.A,queryToObject:()=>oo.A,readAccessorPacked:()=>vE.A,removeExtension:()=>bE.A,removeExtensionsRequired:()=>wE.A,removeExtensionsUsed:()=>xE.A,removePipelineExtras:()=>CE.A,removeUnusedElements:()=>SE.A,resizeImageToNextPowerOfTwo:()=>WA.A,sampleTerrain:()=>jA.A,sampleTerrainMostDetailed:()=>JA.A,scaleToGeodeticSurface:()=>XA.A,subdivideArray:()=>$A.A,subscribeAndEvaluate:()=>vB.A,updateAccessorComponentTypes:()=>TE.A,updateVersion:()=>PE.A,usesExtension:()=>EE.A,viewerCesium3DTilesInspectorMixin:()=>CO,viewerCesiumInspectorMixin:()=>SO,viewerDragDropMixin:()=>IO,viewerPerformanceWatchdogMixin:()=>BO,viewerVoxelInspectorMixin:()=>qO,webGLConstantToGlslType:()=>YA,wrapFunction:()=>ZA,writeTextToCanvas:()=>QA.A});var n=i(470540),r=i(798777),o=i(810600),s=i(467466),a=i(326230),l=i(10082),c=i(692632),u=i(592493),d=i(434067),h=i(41476),p=i(419061),f=i(491446),m=i(955943),A=i(819488),g=i(46257);const _=h.A.WHITE,y=h.A.BLACK,v=new d.A(2,2);function b(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._definitionChanged=new m.A,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.repeat=e.repeat}Object.defineProperties(b.prototype,{isConstant:{get:function(){return g.A.isConstant(this._evenColor)&&g.A.isConstant(this._oddColor)&&g.A.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},evenColor:(0,A.A)("evenColor"),oddColor:(0,A.A)("oddColor"),repeat:(0,A.A)("repeat")}),b.prototype.getType=function(e){return"Checkerboard"},b.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.lightColor=g.A.getValueOrClonedDefault(this._evenColor,e,_,t.lightColor),t.darkColor=g.A.getValueOrClonedDefault(this._oddColor,e,y,t.darkColor),t.repeat=g.A.getValueOrDefault(this._repeat,e,v),t},b.prototype.equals=function(e){return this===e||e instanceof b&&g.A.equals(this._evenColor,e._evenColor)&&g.A.equals(this._oddColor,e._oddColor)&&g.A.equals(this._repeat,e._repeat)};const w=b;var x=i(312421),C=i(673874),S=i(605971),T=i(367817),P=i(426807),E=i(151075);const M={id:void 0},k=new Array(2);function I(e){const t=e.propertyNames,i=t.length;for(let n=0;n<i;n++)e[t[n]]=void 0;e._name=void 0,e._availability=void 0}function B(e,t,i,n){k[0]=i,k[1]=n.id,t[JSON.stringify(k)]=n.definitionChanged.addEventListener(F.prototype._onDefinitionChanged,e)}function O(e,t,i,n){k[0]=i,k[1]=n.id;const r=JSON.stringify(k);t[r](),t[r]=void 0}function R(e){if(e._shouldRecomposite=!0,0!==e._suspendCount)return;const t=e._collections,i=t.length,n=e._collectionsCopy,r=n.length;let o,s,a,l,c;const u=e._composite,d=new E.A(e),h=e._eventHash;let p;for(o=0;o<r;o++)for(c=n[o],c.collectionChanged.removeEventListener(F.prototype._onCollectionChanged,e),a=c.values,p=c.id,l=a.length-1;l>-1;l--)s=a[l],O(0,h,p,s);for(o=i-1;o>=0;o--)for(c=t[o],c.collectionChanged.addEventListener(F.prototype._onCollectionChanged,e),a=c.values,p=c.id,l=a.length-1;l>-1;l--){s=a[l],B(e,h,p,s);let t=d.getById(s.id);(0,f.A)(t)||(t=u.getById(s.id),(0,f.A)(t)?I(t):(M.id=s.id,t=new P.A(M)),d.add(t)),t.merge(s)}e._collectionsCopy=t.slice(0),u.suspendEvents(),u.removeAll();const m=d.values;for(o=0;o<m.length;o++)u.add(m[o]);u.resumeEvents()}function F(e,t){this._owner=t,this._composite=new E.A(this),this._suspendCount=0,this._collections=(0,f.A)(e)?e.slice():[],this._collectionsCopy=[],this._id=(0,C.A)(),this._eventHash={},R(this),this._shouldRecomposite=!1}function D(e,t){if(!(0,f.A)(t))throw new S.A("collection is required.");const i=e.indexOf(t);if(-1===i)throw new S.A("collection is not in this composite.");return i}function L(e,t,i){const n=e._collections;if((t=T.A.clamp(t,0,n.length-1))===(i=T.A.clamp(i,0,n.length-1)))return;const r=n[t];n[t]=n[i],n[i]=r,R(e)}Object.defineProperties(F.prototype,{collectionChanged:{get:function(){return this._composite._collectionChanged}},id:{get:function(){return this._id}},values:{get:function(){return this._composite.values}},owner:{get:function(){return this._owner}}}),F.prototype.addCollection=function(e,t){const i=(0,f.A)(t);if(!(0,f.A)(e))throw new S.A("collection is required.");if(i){if(t<0)throw new S.A("index must be greater than or equal to zero.");if(t>this._collections.length)throw new S.A("index must be less than or equal to the number of collections.")}i?this._collections.splice(t,0,e):(t=this._collections.length,this._collections.push(e)),R(this)},F.prototype.removeCollection=function(e){const t=this._collections.indexOf(e);return-1!==t&&(this._collections.splice(t,1),R(this),!0)},F.prototype.removeAllCollections=function(){this._collections.length=0,R(this)},F.prototype.containsCollection=function(e){return-1!==this._collections.indexOf(e)},F.prototype.contains=function(e){return this._composite.contains(e)},F.prototype.indexOfCollection=function(e){return this._collections.indexOf(e)},F.prototype.getCollection=function(e){if(!(0,f.A)(e))throw new S.A("index is required.","index");return this._collections[e]},F.prototype.getCollectionsLength=function(){return this._collections.length},F.prototype.raiseCollection=function(e){const t=D(this._collections,e);L(this,t,t+1)},F.prototype.lowerCollection=function(e){const t=D(this._collections,e);L(this,t,t-1)},F.prototype.raiseCollectionToTop=function(e){const t=D(this._collections,e);t!==this._collections.length-1&&(this._collections.splice(t,1),this._collections.push(e),R(this))},F.prototype.lowerCollectionToBottom=function(e){const t=D(this._collections,e);0!==t&&(this._collections.splice(t,1),this._collections.splice(0,0,e),R(this))},F.prototype.suspendEvents=function(){this._suspendCount++,this._composite.suspendEvents()},F.prototype.resumeEvents=function(){if(0===this._suspendCount)throw new S.A("resumeEvents can not be called before suspendEvents.");this._suspendCount--,this._shouldRecomposite&&0===this._suspendCount&&(R(this),this._shouldRecomposite=!1),this._composite.resumeEvents()},F.prototype.computeAvailability=function(){return this._composite.computeAvailability()},F.prototype.getById=function(e){return this._composite.getById(e)},F.prototype._onCollectionChanged=function(e,t,i){const n=this._collectionsCopy,r=n.length,o=this._composite;let s,a,l,c;o.suspendEvents();const u=i.length,d=this._eventHash,h=e.id;for(s=0;s<u;s++){const e=i[s];O(0,d,h,e);const t=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(t),(0,f.A)(l)&&((0,f.A)(c)||(c=o.getById(t),I(c)),c.merge(l));(0,f.A)(c)||o.removeById(t),c=void 0}const p=t.length;for(s=0;s<p;s++){const e=t[s];B(this,d,h,e);const i=e.id;for(a=r-1;a>=0;a--)l=n[a].getById(i),(0,f.A)(l)&&((0,f.A)(c)||(c=o.getById(i),(0,f.A)(c)?I(c):(M.id=i,c=new P.A(M),o.add(c))),c.merge(l));c=void 0}o.resumeEvents()},F.prototype._onDefinitionChanged=function(e,t,i,n){const r=this._collections,o=this._composite,s=r.length,a=e.id,l=o.getById(a);let c=l[t];const u=!(0,f.A)(c);let d=!0;for(let i=s-1;i>=0;i--){const n=r[i].getById(e.id);if((0,f.A)(n)){const e=n[t];if((0,f.A)(e)){if(d){if(d=!1,!(0,f.A)(e.merge)||!(0,f.A)(e.clone)){c=e;break}c=e.clone(c)}c.merge(e)}}}u&&-1===l.propertyNames.indexOf(t)&&l.addProperty(t),l[t]=c};const V=F;var N=i(98348);function U(){this._definitionChanged=new m.A,this._composite=new N.A,this._composite.definitionChanged.addEventListener(U.prototype._raiseDefinitionChanged,this)}Object.defineProperties(U.prototype,{isConstant:{get:function(){return this._composite.isConstant}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._composite._intervals}}}),U.prototype.getType=function(e){if(!(0,f.A)(e))throw new S.A("time is required");const t=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,f.A)(t))return t.getType(e)},U.prototype.getValue=function(e,t){if(!(0,f.A)(e))throw new S.A("time is required");const i=this._composite._intervals.findDataForIntervalContainingDate(e);if((0,f.A)(i))return i.getValue(e,t)},U.prototype.equals=function(e){return this===e||e instanceof U&&this._composite.equals(e._composite,g.A.equals)},U.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const G=U;var z=i(403911),K=i(808938),q=i(969077),H=i(490869),W=i(779675),j=i(755394),J=i(581225),X=i(881679),$=i(215327),Y=i(647934),Z=i(267980),Q=i(336946),ee=i(687536),te=i(945395),ie=i(297038),ne=i(672743),re=i(853331),oe=i(610750),se=i(908077),ae=i(3858);const le=T.A.factorial;function ce(e,t,i,n,r,o){let s,a,l,c=0;if(n>0){for(a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(o.push(a),c+=ce(e,t,i,n-1,r,o),o.splice(o.length-1,1))}return c}for(c=1,a=0;a<r;a++){for(s=!1,l=0;l<o.length&&!s;l++)a===o[l]&&(s=!0);s||(c*=e-i[t[a]])}return c}const ue={type:"Hermite",getRequiredDataPoints:function(e,t){if(t=(0,p.A)(t,0),!(0,f.A)(e))throw new S.A("degree is required.");if(e<0)throw new S.A("degree must be 0 or greater.");if(t<0)throw new S.A("inputOrder must be 0 or greater.");return Math.max(Math.floor((e+1)/(t+1)),2)},interpolateOrderZero:function(e,t,i,n,r){let o,s,a,l,c,u;(0,f.A)(r)||(r=new Array(n));const d=t.length,h=new Array(n);for(o=0;o<n;o++){r[o]=0;const e=new Array(d);for(h[o]=e,s=0;s<d;s++)e[s]=[]}const p=d,m=new Array(p);for(o=0;o<p;o++)m[o]=o;let A=d-1;for(l=0;l<n;l++){for(s=0;s<p;s++)u=m[s]*n+l,h[l][0].push(i[u]);for(o=1;o<p;o++){let e=!1;for(s=0;s<p-o;s++){const r=t[m[s]],a=t[m[s+o]];let c;a-r<=0?(u=m[s]*n+n*o+l,c=i[u],h[l][o].push(c/le(o))):(c=h[l][o-1][s+1]-h[l][o-1][s],h[l][o].push(c/(a-r))),e=e||0!==c}e||(A=o-1)}}for(a=0,c=0;a<=0;a++)for(o=a;o<=A;o++){const i=ce(e,m,t,a,o,[]);for(l=0;l<n;l++){const e=h[l][o][0];r[l+a*n]+=e*i}}return r}},de=[];ue.interpolate=function(e,t,i,n,r,o,s){const a=n*(o+1);(0,f.A)(s)||(s=new Array(a));for(let e=0;e<a;e++)s[e]=0;const l=t.length,c=new Array(l*(r+1));let u;for(u=0;u<l;u++)for(let e=0;e<r+1;e++)c[u*(r+1)+e]=u;const d=c.length,h=de,p=function(e,t,i,n,r,o){let s,a,l=-1;const c=t.length,u=c*(c+1)/2;for(let d=0;d<r;d++){const h=Math.floor(d*u);for(s=0;s<c;s++)a=t[s]*r*(o+1)+d,e[h+s]=n[a];for(let u=1;u<c;u++){let p=0;const f=Math.floor(u*(1-u)/2)+c*u;let m=!1;for(s=0;s<c-u;s++){const l=i[t[s]],A=i[t[s+u]];let g,_;if(A-l<=0)a=t[s]*r*(o+1)+r*u+d,g=n[a],_=g/T.A.factorial(u),e[h+f+p]=_,p++;else{const t=Math.floor((u-1)*(2-u)/2)+c*(u-1);g=e[h+t+s+1]-e[h+t+s],_=g/(A-l),e[h+f+p]=_,p++}m=m||0!==g}m&&(l=Math.max(l,u))}}return l}(h,c,t,i,n,r),m=[],A=d*(d+1)/2,g=Math.min(p,o);for(let i=0;i<=g;i++)for(u=i;u<=p;u++){m.length=0;const r=ce(e,c,t,i,u,m),o=Math.floor(u*(1-u)/2)+d*u;for(let e=0;e<n;e++){const t=h[Math.floor(e*A)+o];s[e+i*n]+=t*r}}return s};const he=ue;var pe=i(32655),fe=i(591978);const me={type:"Lagrange",getRequiredDataPoints:function(e){return Math.max(e+1,2)},interpolateOrderZero:function(e,t,i,n,r){let o,s;(0,f.A)(r)||(r=new Array(n));const a=t.length;for(o=0;o<n;o++)r[o]=0;for(o=0;o<a;o++){let l=1;for(s=0;s<a;s++)if(s!==o){const i=t[o]-t[s];l*=(e-t[s])/i}for(s=0;s<n;s++)r[s]+=l*i[o*n+s]}return r}};var Ae=i(862675),ge=i(290176),_e=i(105330),ye=i(99479),ve=i(697422),be=i(886033),we=i(744603),xe=i(123245),Ce=i(369031);function Se(e,t,i){this.clock=(0,p.A)(e,0),this.cone=(0,p.A)(t,0),this.magnitude=(0,p.A)(i,1)}Se.fromCartesian3=function(e,t){Ce.A.typeOf.object("cartesian3",e);const i=e.x,n=e.y,r=e.z,o=i*i+n*n;return(0,f.A)(t)||(t=new Se),t.clock=Math.atan2(n,i),t.cone=Math.atan2(Math.sqrt(o),r),t.magnitude=Math.sqrt(o+r*r),t},Se.clone=function(e,t){if((0,f.A)(e))return(0,f.A)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=e.magnitude,t):new Se(e.clock,e.cone,e.magnitude)},Se.normalize=function(e,t){return Ce.A.typeOf.object("spherical",e),(0,f.A)(t)?(t.clock=e.clock,t.cone=e.cone,t.magnitude=1,t):new Se(e.clock,e.cone,1)},Se.equals=function(e,t){return e===t||(0,f.A)(e)&&(0,f.A)(t)&&e.clock===t.clock&&e.cone===t.cone&&e.magnitude===t.magnitude},Se.equalsEpsilon=function(e,t,i){return i=(0,p.A)(i,0),e===t||(0,f.A)(e)&&(0,f.A)(t)&&Math.abs(e.clock-t.clock)<=i&&Math.abs(e.cone-t.cone)<=i&&Math.abs(e.magnitude-t.magnitude)<=i},Se.prototype.equals=function(e){return Se.equals(this,e)},Se.prototype.clone=function(e){return Se.clone(this,e)},Se.prototype.equalsEpsilon=function(e,t){return Se.equalsEpsilon(this,e,t)},Se.prototype.toString=function(){return`(${this.clock}, ${this.cone}, ${this.magnitude})`};const Te=Se;var Pe=i(93467),Ee=i(224847),Me=i(71578),ke=i(428027),Ie=i(63316),Be=i(337632),Oe=i(15817),Re=i(988609),Fe=i(742558),De=i(484193),Le=i(367725),Ve=i(565801),Ne=i(91440);function Ue(){this._definitionChanged=new m.A,this._startTime=void 0,this._stopTime=void 0,this._currentTime=void 0,this._clockRange=void 0,this._clockStep=void 0,this._multiplier=void 0}Object.defineProperties(Ue.prototype,{definitionChanged:{get:function(){return this._definitionChanged}},startTime:(0,Ne.A)("startTime"),stopTime:(0,Ne.A)("stopTime"),currentTime:(0,Ne.A)("currentTime"),clockRange:(0,Ne.A)("clockRange"),clockStep:(0,Ne.A)("clockStep"),multiplier:(0,Ne.A)("multiplier")}),Ue.prototype.clone=function(e){return(0,f.A)(e)||(e=new Ue),e.startTime=this.startTime,e.stopTime=this.stopTime,e.currentTime=this.currentTime,e.clockRange=this.clockRange,e.clockStep=this.clockStep,e.multiplier=this.multiplier,e},Ue.prototype.equals=function(e){return this===e||(0,f.A)(e)&&fe.A.equals(this.startTime,e.startTime)&&fe.A.equals(this.stopTime,e.stopTime)&&fe.A.equals(this.currentTime,e.currentTime)&&this.clockRange===e.clockRange&&this.clockStep===e.clockStep&&this.multiplier===e.multiplier},Ue.prototype.merge=function(e){if(!(0,f.A)(e))throw new S.A("source is required.");this.startTime=(0,p.A)(this.startTime,e.startTime),this.stopTime=(0,p.A)(this.stopTime,e.stopTime),this.currentTime=(0,p.A)(this.currentTime,e.currentTime),this.clockRange=(0,p.A)(this.clockRange,e.clockRange),this.clockStep=(0,p.A)(this.clockStep,e.clockStep),this.multiplier=(0,p.A)(this.multiplier,e.multiplier)},Ue.prototype.getValue=function(e){return(0,f.A)(e)||(e=new Ve.A),e.startTime=(0,p.A)(this.startTime,e.startTime),e.stopTime=(0,p.A)(this.stopTime,e.stopTime),e.currentTime=(0,p.A)(this.currentTime,e.currentTime),e.clockRange=(0,p.A)(this.clockRange,e.clockRange),e.multiplier=(0,p.A)(this.multiplier,e.multiplier),e.clockStep=(0,p.A)(this.clockStep,e.clockStep),e};const Ge=Ue;var ze=i(132753),Ke=i(654986),qe=i(899629);const He=h.A.WHITE,We=new d.A(8,8),je=new d.A(0,0),Je=new d.A(1,1);function Xe(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._definitionChanged=new m.A,this._color=void 0,this._colorSubscription=void 0,this._cellAlpha=void 0,this._cellAlphaSubscription=void 0,this._lineCount=void 0,this._lineCountSubscription=void 0,this._lineThickness=void 0,this._lineThicknessSubscription=void 0,this._lineOffset=void 0,this._lineOffsetSubscription=void 0,this.color=e.color,this.cellAlpha=e.cellAlpha,this.lineCount=e.lineCount,this.lineThickness=e.lineThickness,this.lineOffset=e.lineOffset}Object.defineProperties(Xe.prototype,{isConstant:{get:function(){return g.A.isConstant(this._color)&&g.A.isConstant(this._cellAlpha)&&g.A.isConstant(this._lineCount)&&g.A.isConstant(this._lineThickness)&&g.A.isConstant(this._lineOffset)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,A.A)("color"),cellAlpha:(0,A.A)("cellAlpha"),lineCount:(0,A.A)("lineCount"),lineThickness:(0,A.A)("lineThickness"),lineOffset:(0,A.A)("lineOffset")}),Xe.prototype.getType=function(e){return"Grid"},Xe.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.color=g.A.getValueOrClonedDefault(this._color,e,He,t.color),t.cellAlpha=g.A.getValueOrDefault(this._cellAlpha,e,.1),t.lineCount=g.A.getValueOrClonedDefault(this._lineCount,e,We,t.lineCount),t.lineThickness=g.A.getValueOrClonedDefault(this._lineThickness,e,Je,t.lineThickness),t.lineOffset=g.A.getValueOrClonedDefault(this._lineOffset,e,je,t.lineOffset),t},Xe.prototype.equals=function(e){return this===e||e instanceof Xe&&g.A.equals(this._color,e._color)&&g.A.equals(this._cellAlpha,e._cellAlpha)&&g.A.equals(this._lineCount,e._lineCount)&&g.A.equals(this._lineThickness,e._lineThickness)&&g.A.equals(this._lineOffset,e._lineOffset)};const $e=Xe;var Ye=i(612967),Ze=i(280749),Qe=i(327458),et=i(874804),tt=i(423798),it=i(71005),nt=i(193189);function rt(e){this._definitionChanged=new m.A,this._color=void 0,this._colorSubscription=void 0,this.color=e}Object.defineProperties(rt.prototype,{isConstant:{get:function(){return g.A.isConstant(this._color)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,A.A)("color")}),rt.prototype.getType=function(e){return"PolylineArrow"},rt.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.color=g.A.getValueOrClonedDefault(this._color,e,h.A.WHITE,t.color),t},rt.prototype.equals=function(e){return this===e||e instanceof rt&&g.A.equals(this._color,e._color)};const ot=rt;var st=i(424620);const at=h.A.WHITE;function lt(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._definitionChanged=new m.A,this._color=void 0,this._colorSubscription=void 0,this._glowPower=void 0,this._glowPowerSubscription=void 0,this._taperPower=void 0,this._taperPowerSubscription=void 0,this.color=e.color,this.glowPower=e.glowPower,this.taperPower=e.taperPower}Object.defineProperties(lt.prototype,{isConstant:{get:function(){return g.A.isConstant(this._color)&&g.A.isConstant(this._glow)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,A.A)("color"),glowPower:(0,A.A)("glowPower"),taperPower:(0,A.A)("taperPower")}),lt.prototype.getType=function(e){return"PolylineGlow"},lt.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.color=g.A.getValueOrClonedDefault(this._color,e,at,t.color),t.glowPower=g.A.getValueOrDefault(this._glowPower,e,.25,t.glowPower),t.taperPower=g.A.getValueOrDefault(this._taperPower,e,1,t.taperPower),t},lt.prototype.equals=function(e){return this===e||e instanceof lt&&g.A.equals(this._color,e._color)&&g.A.equals(this._glowPower,e._glowPower)&&g.A.equals(this._taperPower,e._taperPower)};const ct=lt;var ut=i(998261);const dt=h.A.WHITE,ht=h.A.BLACK;function pt(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._definitionChanged=new m.A,this._color=void 0,this._colorSubscription=void 0,this._outlineColor=void 0,this._outlineColorSubscription=void 0,this._outlineWidth=void 0,this._outlineWidthSubscription=void 0,this.color=e.color,this.outlineColor=e.outlineColor,this.outlineWidth=e.outlineWidth}Object.defineProperties(pt.prototype,{isConstant:{get:function(){return g.A.isConstant(this._color)&&g.A.isConstant(this._outlineColor)&&g.A.isConstant(this._outlineWidth)}},definitionChanged:{get:function(){return this._definitionChanged}},color:(0,A.A)("color"),outlineColor:(0,A.A)("outlineColor"),outlineWidth:(0,A.A)("outlineWidth")}),pt.prototype.getType=function(e){return"PolylineOutline"},pt.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.color=g.A.getValueOrClonedDefault(this._color,e,dt,t.color),t.outlineColor=g.A.getValueOrClonedDefault(this._outlineColor,e,ht,t.outlineColor),t.outlineWidth=g.A.getValueOrDefault(this._outlineWidth,e,1),t},pt.prototype.equals=function(e){return this===e||e instanceof pt&&g.A.equals(this._color,e._color)&&g.A.equals(this._outlineColor,e._outlineColor)&&g.A.equals(this._outlineWidth,e._outlineWidth)};const ft=pt;var mt=i(278659),At=i(354975);function gt(e,t){this._value=void 0,this._definitionChanged=new m.A,this._eventHelper=new At.A,this._referenceFrame=(0,p.A)(t,be.A.FIXED),this.setValue(e)}Object.defineProperties(gt.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,f.A)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!g.A.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),gt.prototype.getValue=function(e,t){return this.getValueInReferenceFrame(e,be.A.FIXED,t)},gt.prototype.getValueInReferenceFrame=function(e,t,i){if(!(0,f.A)(e))throw new S.A("time is required.");if(!(0,f.A)(t))throw new S.A("referenceFrame is required.");const n=this._value;if(!(0,f.A)(n))return;const r=n.length;(0,f.A)(i)||(i=new Array(r));let o=0,s=0;for(;o<r;){const r=n[o].getValueInReferenceFrame(e,t,i[o]);(0,f.A)(r)&&(i[s]=r,s++),o++}return i.length=s,i},gt.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,f.A)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,f.A)(i)&&t.add(i.definitionChanged,gt.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},gt.prototype.equals=function(e){return this===e||e instanceof gt&&this._referenceFrame===e._referenceFrame&&g.A.arrayEquals(this._value,e._value)},gt.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const _t=gt;function yt(e){this._value=void 0,this._definitionChanged=new m.A,this._eventHelper=new At.A,this.setValue(e)}Object.defineProperties(yt.prototype,{isConstant:{get:function(){const e=this._value;if(!(0,f.A)(e))return!0;const t=e.length;for(let i=0;i<t;i++)if(!g.A.isConstant(e[i]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}}}),yt.prototype.getValue=function(e,t){if(!(0,f.A)(e))throw new S.A("time is required.");const i=this._value;if(!(0,f.A)(i))return;const n=i.length;(0,f.A)(t)||(t=new Array(n));let r=0,o=0;for(;r<n;){const i=this._value[r].getValue(e,t[r]);(0,f.A)(i)&&(t[o]=i,o++),r++}return t.length=o,t},yt.prototype.setValue=function(e){const t=this._eventHelper;if(t.removeAll(),(0,f.A)(e)){this._value=e.slice();const i=e.length;for(let n=0;n<i;n++){const i=e[n];(0,f.A)(i)&&t.add(i.definitionChanged,yt.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},yt.prototype.equals=function(e){return this===e||e instanceof yt&&g.A.arrayEquals(this._value,e._value)},yt.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)};const vt=yt;var bt=i(470959),wt=i(777370),xt=i(857870);const Ct={packedLength:1,pack:function(e,t,i){if(!(0,f.A)(e))throw new S.A("value is required");if(!(0,f.A)(t))throw new S.A("array is required");return t[i=(0,p.A)(i,0)]=e,t},unpack:function(e,t,i){if(!(0,f.A)(e))throw new S.A("array is required");return e[t=(0,p.A)(t,0)]},convertPackedArrayForInterpolation:function(e,t,i,n){if(!(0,f.A)(e))throw new S.A("packedArray is required");let r;(0,f.A)(n)||(n=[]),t=(0,p.A)(t,0);for(let o=0,s=(i=(0,p.A)(i,e.length))-t+1;o<s;o++){const i=e[t+o];0===o||Math.abs(r-i)<Math.PI?n[o]=i:n[o]=i-T.A.TWO_PI,r=i}},unpackInterpolationResult:function(e,t,i,n,r){if(!(0,f.A)(e))throw new S.A("array is required");if(!(0,f.A)(t))throw new S.A("sourceArray is required");return(r=e[0])<0?r+T.A.TWO_PI:r}};var St=i(841802),Tt=i(94805);const Pt=Object.freeze({HORIZONTAL:0,VERTICAL:1}),Et=Pt.HORIZONTAL,Mt=h.A.WHITE,kt=h.A.BLACK;function It(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._definitionChanged=new m.A,this._orientation=void 0,this._orientationSubscription=void 0,this._evenColor=void 0,this._evenColorSubscription=void 0,this._oddColor=void 0,this._oddColorSubscription=void 0,this._offset=void 0,this._offsetSubscription=void 0,this._repeat=void 0,this._repeatSubscription=void 0,this.orientation=e.orientation,this.evenColor=e.evenColor,this.oddColor=e.oddColor,this.offset=e.offset,this.repeat=e.repeat}Object.defineProperties(It.prototype,{isConstant:{get:function(){return g.A.isConstant(this._orientation)&&g.A.isConstant(this._evenColor)&&g.A.isConstant(this._oddColor)&&g.A.isConstant(this._offset)&&g.A.isConstant(this._repeat)}},definitionChanged:{get:function(){return this._definitionChanged}},orientation:(0,A.A)("orientation"),evenColor:(0,A.A)("evenColor"),oddColor:(0,A.A)("oddColor"),offset:(0,A.A)("offset"),repeat:(0,A.A)("repeat")}),It.prototype.getType=function(e){return"Stripe"},It.prototype.getValue=function(e,t){return(0,f.A)(t)||(t={}),t.horizontal=g.A.getValueOrDefault(this._orientation,e,Et)===Pt.HORIZONTAL,t.evenColor=g.A.getValueOrClonedDefault(this._evenColor,e,Mt,t.evenColor),t.oddColor=g.A.getValueOrClonedDefault(this._oddColor,e,kt,t.oddColor),t.offset=g.A.getValueOrDefault(this._offset,e,0),t.repeat=g.A.getValueOrDefault(this._repeat,e,1),t},It.prototype.equals=function(e){return this===e||e instanceof It&&g.A.equals(this._orientation,e._orientation)&&g.A.equals(this._evenColor,e._evenColor)&&g.A.equals(this._oddColor,e._oddColor)&&g.A.equals(this._offset,e._offset)&&g.A.equals(this._repeat,e._repeat)};const Bt=It;var Ot=i(13346);function Rt(){this._definitionChanged=new m.A,this._intervals=new Ee.A,this._intervals.changedEvent.addEventListener(Rt.prototype._intervalsChanged,this)}Object.defineProperties(Rt.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),Rt.prototype.getValue=function(e,t){if(!(0,f.A)(e))throw new S.A("time is required");const i=this._intervals.findDataForIntervalContainingDate(e);return(0,f.A)(i)&&"function"==typeof i.clone?i.clone(t):i},Rt.prototype.equals=function(e){return this===e||e instanceof Rt&&this._intervals.equals(e._intervals,g.A.equals)},Rt.prototype._intervalsChanged=function(){this._definitionChanged.raiseEvent(this)};const Ft=Rt;var Dt=i(331185),Lt=i(543622);function Vt(e,t){this._position=void 0,this._subscription=void 0,this._definitionChanged=new m.A,this._normalize=(0,p.A)(t,!0),this.position=e}Object.defineProperties(Vt.prototype,{isConstant:{get:function(){return g.A.isConstant(this._position)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._position},set:function(e){const t=this._position;t!==e&&((0,f.A)(t)&&this._subscription(),this._position=e,(0,f.A)(e)&&(this._subscription=e._definitionChanged.addEventListener((function(){this._definitionChanged.raiseEvent(this)}),this)),this._definitionChanged.raiseEvent(this))}},normalize:{get:function(){return this._normalize},set:function(e){this._normalize!==e&&(this._normalize=e,this._definitionChanged.raiseEvent(this))}}});const Nt=new Z.A,Ut=new Z.A,Gt=new fe.A,zt=1/60;Vt.prototype.getValue=function(e,t){return this._getValue(e,t)},Vt.prototype._getValue=function(e,t,i){if(!(0,f.A)(e))throw new S.A("time is required");(0,f.A)(t)||(t=new Z.A);const n=this._position;if(g.A.isConstant(n))return this._normalize?void 0:Z.A.clone(Z.A.ZERO,t);let r=n.getValue(e,Nt),o=n.getValue(fe.A.addSeconds(e,zt,Gt),Ut);if(!(0,f.A)(r))return;if(!(0,f.A)(o)&&(o=r,r=n.getValue(fe.A.addSeconds(e,-zt,Gt),Ut),!(0,f.A)(r)))return;if(Z.A.equals(r,o))return this._normalize?void 0:Z.A.clone(Z.A.ZERO,t);(0,f.A)(i)&&r.clone(i);const s=Z.A.subtract(o,r,t);return this._normalize?Z.A.normalize(s,t):Z.A.divideByScalar(s,zt,t)},Vt.prototype.equals=function(e){return this===e||e instanceof Vt&&g.A.equals(this._position,e._position)};const Kt=Vt;function qt(e,t){this._velocityVectorProperty=new Kt(e,!0),this._subscription=void 0,this._ellipsoid=void 0,this._definitionChanged=new m.A,this.ellipsoid=(0,p.A)(t,oe.A.WGS84);const i=this;this._velocityVectorProperty.definitionChanged.addEventListener((function(){i._definitionChanged.raiseEvent(i)}))}Object.defineProperties(qt.prototype,{isConstant:{get:function(){return g.A.isConstant(this._velocityVectorProperty)}},definitionChanged:{get:function(){return this._definitionChanged}},position:{get:function(){return this._velocityVectorProperty.position},set:function(e){this._velocityVectorProperty.position=e}},ellipsoid:{get:function(){return this._ellipsoid},set:function(e){this._ellipsoid!==e&&(this._ellipsoid=e,this._definitionChanged.raiseEvent(this))}}});const Ht=new Z.A,Wt=new Z.A,jt=new Dt.A;qt.prototype.getValue=function(e,t){const i=this._velocityVectorProperty._getValue(e,Wt,Ht);if((0,f.A)(i))return Lt.A.rotationMatrixFromPositionVelocity(Ht,i,this._ellipsoid,jt),ye.A.fromRotationMatrix(jt,t)},qt.prototype.equals=function(e){return this===e||e instanceof qt&&g.A.equals(this._velocityVectorProperty,e._velocityVectorProperty)&&(this._ellipsoid===e._ellipsoid||this._ellipsoid.equals(e._ellipsoid))};const Jt=qt;var Xt=i(685625);function $t(){}let Yt;function Zt(e,t){return"#"===t[0]&&(t=Yt+t),xt.A.fromString(e,t)}function Qt(e,t,i){if((0,f.A)(i.reference))return Zt(t,i.reference);if((0,f.A)(i.velocityReference)){const n=Zt(t,i.velocityReference);switch(e){case Z.A:case $t:return new Kt(n,e===$t);case ye.A:return new Jt(n)}}throw new xe.A(`${JSON.stringify(i)} is not valid CZML.`)}$t.packedLength=Z.A.packedLength,$t.unpack=Z.A.unpack,$t.pack=Z.A.pack;const ei=new Z.A,ti=new Te,ii=new Q.A,ni=new Pe.A,ri=new ye.A;function oi(e,t){const i=(0,p.A)(e.uri,e);return(0,f.A)(t)?t.getDerivedResource({url:i}):we.A.createIfNeeded(i)}function si(e){const t=e.cartesian;if((0,f.A)(t))return t;const i=e.cartesianVelocity;if((0,f.A)(i))return i;const n=e.unitCartesian;if((0,f.A)(n))return n;const r=e.unitSpherical;if((0,f.A)(r))return function(e){const t=e.length;if(ti.magnitude=1,2===t)return ti.clock=e[0],ti.cone=e[1],Z.A.fromSpherical(ti,ei),[ei.x,ei.y,ei.z];const i=new Array(t/3*4);for(let n=0,r=0;n<t;n+=3,r+=4)i[r]=e[n],ti.clock=e[n+1],ti.cone=e[n+2],Z.A.fromSpherical(ti,ei),i[r+1]=ei.x,i[r+2]=ei.y,i[r+3]=ei.z;return i}(r);const o=e.spherical;if((0,f.A)(o))return function(e){const t=e.length;if(3===t)return ti.clock=e[0],ti.cone=e[1],ti.magnitude=e[2],Z.A.fromSpherical(ti,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ti.clock=e[n+1],ti.cone=e[n+2],ti.magnitude=e[n+3],Z.A.fromSpherical(ti,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(o);const s=e.cartographicRadians;if((0,f.A)(s))return function(e){const t=e.length;if(3===t)return ii.longitude=e[0],ii.latitude=e[1],ii.height=e[2],oe.A.WGS84.cartographicToCartesian(ii,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ii.longitude=e[n+1],ii.latitude=e[n+2],ii.height=e[n+3],oe.A.WGS84.cartographicToCartesian(ii,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(s);const a=e.cartographicDegrees;if((0,f.A)(a))return function(e){const t=e.length;if(3===t)return ii.longitude=T.A.toRadians(e[0]),ii.latitude=T.A.toRadians(e[1]),ii.height=e[2],oe.A.WGS84.cartographicToCartesian(ii,ei),[ei.x,ei.y,ei.z];const i=new Array(t);for(let n=0;n<t;n+=4)i[n]=e[n],ii.longitude=T.A.toRadians(e[n+1]),ii.latitude=T.A.toRadians(e[n+2]),ii.height=e[n+3],oe.A.WGS84.cartographicToCartesian(ii,ei),i[n+1]=ei.x,i[n+2]=ei.y,i[n+3]=ei.z;return i}(a);throw new xe.A(`${JSON.stringify(e)} is not a valid CZML interval.`)}function ai(e,t){Z.A.unpack(e,t,ei),Z.A.normalize(ei,ei),Z.A.pack(ei,e,t)}function li(e,t){ye.A.unpack(e,t,ri),ye.A.normalize(ri,ri),ye.A.pack(ri,e,t)}function ci(e){return"boolean"==typeof e?Boolean:"number"==typeof e?Number:"string"==typeof e?String:e.hasOwnProperty("array")?Array:e.hasOwnProperty("boolean")?Boolean:e.hasOwnProperty("boundingRectangle")?Y.A:e.hasOwnProperty("cartesian2")?d.A:e.hasOwnProperty("cartesian")||e.hasOwnProperty("spherical")||e.hasOwnProperty("cartographicRadians")||e.hasOwnProperty("cartographicDegrees")?Z.A:e.hasOwnProperty("unitCartesian")||e.hasOwnProperty("unitSpherical")?$t:e.hasOwnProperty("rgba")||e.hasOwnProperty("rgbaf")?h.A:e.hasOwnProperty("arcType")?$.A:e.hasOwnProperty("classificationType")?Me.A:e.hasOwnProperty("colorBlendMode")?ke.A:e.hasOwnProperty("cornerType")?ie.A:e.hasOwnProperty("heightReference")?Ie.A:e.hasOwnProperty("horizontalOrigin")?Be.A:e.hasOwnProperty("date")?fe.A:e.hasOwnProperty("labelStyle")?Oe.A:e.hasOwnProperty("number")?Number:e.hasOwnProperty("nearFarScalar")?ge.A:e.hasOwnProperty("distanceDisplayCondition")?re.A:e.hasOwnProperty("object")||e.hasOwnProperty("value")?Object:e.hasOwnProperty("unitQuaternion")?ye.A:e.hasOwnProperty("shadowMode")?Re.A:e.hasOwnProperty("string")?String:e.hasOwnProperty("stripeOrientation")?Pt:e.hasOwnProperty("wsen")||e.hasOwnProperty("wsenDegrees")?ve.A:e.hasOwnProperty("uri")?De:e.hasOwnProperty("verticalOrigin")?Fe.A:Object}const ui={HERMITE:he,LAGRANGE:me,LINEAR:Ae.A};function di(e,t){const i=e.interpolationAlgorithm,n=e.interpolationDegree;((0,f.A)(i)||(0,f.A)(n))&&t.setInterpolationOptions({interpolationAlgorithm:ui[i],interpolationDegree:n});const r=e.forwardExtrapolationType;(0,f.A)(r)&&(t.forwardExtrapolationType=se.A[r]);const o=e.forwardExtrapolationDuration;(0,f.A)(o)&&(t.forwardExtrapolationDuration=o);const s=e.backwardExtrapolationType;(0,f.A)(s)&&(t.backwardExtrapolationType=se.A[s]);const a=e.backwardExtrapolationDuration;(0,f.A)(a)&&(t.backwardExtrapolationDuration=a)}const hi={iso8601:void 0};function pi(e){if((0,f.A)(e))return hi.iso8601=e,Pe.A.fromIso8601(hi)}function fi(e){const t=pe.A.MAXIMUM_INTERVAL.clone();return t.data=e,t}function mi(e){const t=new N.A;return t.intervals.addInterval(fi(e)),t}function Ai(e){const t=new z.A(e.referenceFrame);return t.intervals.addInterval(fi(e)),t}function gi(e,t,i,n,r,o,s){let a,l,c,u=pi(n.interval);(0,f.A)(r)&&(u=(0,f.A)(u)?Pe.A.intersect(u,r,ni):r);const m=!(0,f.A)(n.reference)&&!(0,f.A)(n.velocityReference),A=(0,f.A)(u)&&!u.equals(pe.A.MAXIMUM_INTERVAL);if(!0===n.delete)return A?_i(t[i],u):void(t[i]=void 0);let g=!1;if(m){if(l=function(e,t,i){switch(e){case $.A:return $.A[(0,p.A)(t.arcType,t)];case Array:return t.array;case Boolean:return(0,p.A)(t.boolean,t);case Y.A:return t.boundingRectangle;case d.A:return t.cartesian2;case Z.A:return si(t);case $t:return function(e){const t=si(e);if(3===t.length)return ai(t,0),t;for(let e=1;e<t.length;e+=4)ai(t,e);return t}(t);case h.A:return function(e){let t=e.rgbaf;if((0,f.A)(t))return t;const i=e.rgba;if(!(0,f.A)(i))return;const n=i.length;if(n===h.A.packedLength)return[h.A.byteToFloat(i[0]),h.A.byteToFloat(i[1]),h.A.byteToFloat(i[2]),h.A.byteToFloat(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=h.A.byteToFloat(i[e+1]),t[e+2]=h.A.byteToFloat(i[e+2]),t[e+3]=h.A.byteToFloat(i[e+3]),t[e+4]=h.A.byteToFloat(i[e+4]);return t}(t);case Me.A:return Me.A[(0,p.A)(t.classificationType,t)];case ke.A:return ke.A[(0,p.A)(t.colorBlendMode,t)];case ie.A:return ie.A[(0,p.A)(t.cornerType,t)];case Ie.A:return Ie.A[(0,p.A)(t.heightReference,t)];case Be.A:return Be.A[(0,p.A)(t.horizontalOrigin,t)];case Image:return oi(t,i);case fe.A:return fe.A.fromIso8601((0,p.A)(t.date,t));case Oe.A:return Oe.A[(0,p.A)(t.labelStyle,t)];case Number:return(0,p.A)(t.number,t);case ge.A:return t.nearFarScalar;case re.A:return t.distanceDisplayCondition;case Object:return(0,p.A)((0,p.A)(t.object,t.value),t);case ye.A:return function(e){const t=e.unitQuaternion;if((0,f.A)(t)){if(4===t.length)return li(t,0),t;for(let e=1;e<t.length;e+=5)li(t,e)}return t}(t);case Ct:return(0,p.A)(t.number,t);case Re.A:return Re.A[(0,p.A)((0,p.A)(t.shadowMode,t.shadows),t)];case String:return(0,p.A)(t.string,t);case Pt:return Pt[(0,p.A)(t.stripeOrientation,t)];case ve.A:return function(e){let t=e.wsen;if((0,f.A)(t))return t;const i=e.wsenDegrees;if(!(0,f.A)(i))return;const n=i.length;if(n===ve.A.packedLength)return[T.A.toRadians(i[0]),T.A.toRadians(i[1]),T.A.toRadians(i[2]),T.A.toRadians(i[3])];t=new Array(n);for(let e=0;e<n;e+=5)t[e]=i[e],t[e+1]=T.A.toRadians(i[e+1]),t[e+2]=T.A.toRadians(i[e+2]),t[e+3]=T.A.toRadians(i[e+3]),t[e+4]=T.A.toRadians(i[e+4]);return t}(t);case De:return oi(t,i);case Fe.A:return Fe.A[(0,p.A)(t.verticalOrigin,t)];default:throw new xe.A(e)}}(e,n,o),!(0,f.A)(l))return;a=(0,p.A)(e.packedLength,1),c=(0,p.A)(l.length,1),g=!(0,f.A)(n.array)&&"string"!=typeof l&&c>a&&e!==Object}const _="function"==typeof e.unpack&&e!==Ct;if(!g&&!A)return void(t[i]=m?new q.A(_?e.unpack(l,0):l):Qt(e,s,n));let y,v=t[i];const b=n.epoch;if((0,f.A)(b)&&(y=fe.A.fromIso8601(b)),g&&!A)return v instanceof Tt.A||(t[i]=v=new Tt.A(e)),v.addSamplesPackedArray(l,y),void di(n,v);let w;if(!g&&A)return u=u.clone(),u.data=m?_?e.unpack(l,0):l:Qt(e,s,n),(0,f.A)(v)||(t[i]=v=m?new Ft:new N.A),void(m&&v instanceof Ft?v.intervals.addInterval(u):v instanceof N.A?(m&&(u.data=new q.A(u.data)),v.intervals.addInterval(u)):(t[i]=v=mi(v),m&&(u.data=new q.A(u.data)),v.intervals.addInterval(u)));(0,f.A)(v)||(t[i]=v=new N.A),v instanceof N.A||(t[i]=v=mi(v));const x=v.intervals;w=x.findInterval(u),(0,f.A)(w)&&w.data instanceof Tt.A||(w=u.clone(),w.data=new Tt.A(e),x.addInterval(w)),w.data.addSamplesPackedArray(l,y),di(n,w.data)}function _i(e,t){if(e instanceof Tt.A)e.removeSamples(t);else if(e instanceof Ft)e.intervals.removeInterval(t);else if(e instanceof N.A){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Pe.A.intersect(i.get(e),t,ni);n.isEmpty||_i(n.data,t)}i.removeInterval(t)}}function yi(e,t,i,n,r,o,s){if((0,f.A)(n))if(Array.isArray(n))for(let a=0,l=n.length;a<l;++a)gi(e,t,i,n[a],r,o,s);else gi(e,t,i,n,r,o,s)}function vi(e,t,i,n,r,o){let s=pi(i.interval);(0,f.A)(n)&&(s=(0,f.A)(s)?Pe.A.intersect(s,n,ni):n);const a=(0,f.A)(i.cartesianVelocity)?1:0,l=Z.A.packedLength*(a+1);let c,u;const d=!(0,f.A)(i.reference),h=(0,f.A)(s)&&!s.equals(pe.A.MAXIMUM_INTERVAL);if(!0===i.delete)return h?bi(e[t],s):void(e[t]=void 0);let m,A=!1;if(d&&((0,f.A)(i.referenceFrame)&&(m=be.A[i.referenceFrame]),m=(0,p.A)(m,be.A.FIXED),c=si(i),u=(0,p.A)(c.length,1),A=u>l),!A&&!h)return void(e[t]=d?new K.A(Z.A.unpack(c),m):Zt(o,i.reference));let g,_=e[t];const y=i.epoch;if((0,f.A)(y)&&(g=fe.A.fromIso8601(y)),A&&!h)return _ instanceof St.A&&(!(0,f.A)(m)||_.referenceFrame===m)||(e[t]=_=new St.A(m,a)),_.addSamplesPackedArray(c,g),void di(i,_);let v;if(!A&&h)return s=s.clone(),s.data=d?Z.A.unpack(c):Zt(o,i.reference),(0,f.A)(_)||(_=d?new Ot.A(m):new z.A(m),e[t]=_),void(d&&_ instanceof Ot.A&&(0,f.A)(m)&&_.referenceFrame===m?_.intervals.addInterval(s):_ instanceof z.A?(d&&(s.data=new K.A(s.data,m)),_.intervals.addInterval(s)):(e[t]=_=Ai(_),d&&(s.data=new K.A(s.data,m)),_.intervals.addInterval(s)));(0,f.A)(_)?_ instanceof z.A||(e[t]=_=Ai(_)):e[t]=_=new z.A(m);const b=_.intervals;v=b.findInterval(s),(0,f.A)(v)&&v.data instanceof St.A&&(!(0,f.A)(m)||v.data.referenceFrame===m)||(v=s.clone(),v.data=new St.A(m,a),b.addInterval(v)),v.data.addSamplesPackedArray(c,g),di(i,v.data)}function bi(e,t){if(e instanceof St.A)e.removeSamples(t);else if(e instanceof Ot.A)e.intervals.removeInterval(t);else if(e instanceof z.A){const i=e.intervals;for(let e=0;e<i.length;++e){const n=Pe.A.intersect(i.get(e),t,ni);n.isEmpty||bi(n.data,t)}i.removeInterval(t)}}function wi(e,t,i,n,r,o){if((0,f.A)(i))if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r)vi(e,t,i[r],n,0,o);else vi(e,t,i,n,0,o)}function xi(e,t,i,n){(0,f.A)(i.references)?Ti(e,t,i.references,i.interval,n,vt,N.A):((0,f.A)(i.cartesian2)?i.array=d.A.unpackArray(i.cartesian2):(0,f.A)(i.cartesian)&&(i.array=d.A.unpackArray(i.cartesian)),(0,f.A)(i.array)&&yi(Array,e,t,i,void 0,void 0,n))}function Ci(e,t,i,n,r,o){let s=pi(i.interval);(0,f.A)(n)&&(s=(0,f.A)(s)?Pe.A.intersect(s,n,ni):n);let a,l,c,u=e[t];if((0,f.A)(s)){u instanceof G||(u=new G,e[t]=u);const i=u.intervals;l=i.findInterval({start:s.start,stop:s.stop}),(0,f.A)(l)?a=l.data:(l=s.clone(),i.addInterval(l))}else a=u;(0,f.A)(i.solidColor)?(a instanceof x.A||(a=new x.A),c=i.solidColor,yi(h.A,a,"color",c.color,void 0,void 0,o)):(0,f.A)(i.grid)?(a instanceof $e||(a=new $e),c=i.grid,yi(h.A,a,"color",c.color,void 0,r,o),yi(Number,a,"cellAlpha",c.cellAlpha,void 0,r,o),yi(d.A,a,"lineCount",c.lineCount,void 0,r,o),yi(d.A,a,"lineThickness",c.lineThickness,void 0,r,o),yi(d.A,a,"lineOffset",c.lineOffset,void 0,r,o)):(0,f.A)(i.image)?(a instanceof Ye.A||(a=new Ye.A),c=i.image,yi(Image,a,"image",c.image,void 0,r,o),yi(d.A,a,"repeat",c.repeat,void 0,r,o),yi(h.A,a,"color",c.color,void 0,r,o),yi(Boolean,a,"transparent",c.transparent,void 0,r,o)):(0,f.A)(i.stripe)?(a instanceof Bt||(a=new Bt),c=i.stripe,yi(Pt,a,"orientation",c.orientation,void 0,r,o),yi(h.A,a,"evenColor",c.evenColor,void 0,r,o),yi(h.A,a,"oddColor",c.oddColor,void 0,r,o),yi(Number,a,"offset",c.offset,void 0,r,o),yi(Number,a,"repeat",c.repeat,void 0,r,o)):(0,f.A)(i.polylineOutline)?(a instanceof ft||(a=new ft),c=i.polylineOutline,yi(h.A,a,"color",c.color,void 0,r,o),yi(h.A,a,"outlineColor",c.outlineColor,void 0,r,o),yi(Number,a,"outlineWidth",c.outlineWidth,void 0,r,o)):(0,f.A)(i.polylineGlow)?(a instanceof ct||(a=new ct),c=i.polylineGlow,yi(h.A,a,"color",c.color,void 0,r,o),yi(Number,a,"glowPower",c.glowPower,void 0,r,o),yi(Number,a,"taperPower",c.taperPower,void 0,r,o)):(0,f.A)(i.polylineArrow)?(a instanceof ot||(a=new ot),c=i.polylineArrow,yi(h.A,a,"color",c.color,void 0,void 0,o)):(0,f.A)(i.polylineDash)?(a instanceof st.A||(a=new st.A),c=i.polylineDash,yi(h.A,a,"color",c.color,void 0,void 0,o),yi(h.A,a,"gapColor",c.gapColor,void 0,void 0,o),yi(Number,a,"dashLength",c.dashLength,void 0,r,o),yi(Number,a,"dashPattern",c.dashPattern,void 0,r,o)):(0,f.A)(i.checkerboard)&&(a instanceof w||(a=new w),c=i.checkerboard,yi(h.A,a,"evenColor",c.evenColor,void 0,r,o),yi(h.A,a,"oddColor",c.oddColor,void 0,r,o),yi(d.A,a,"repeat",c.repeat,void 0,r,o)),(0,f.A)(l)?l.data=a:e[t]=a}function Si(e,t,i,n,r,o){if((0,f.A)(i))if(Array.isArray(i))for(let s=0,a=i.length;s<a;++s)Ci(e,t,i[s],n,r,o);else Ci(e,t,i,n,r,o)}function Ti(e,t,i,n,r,o,s){const a=i.map((function(e){return Zt(r,e)}));if((0,f.A)(n)){n=pi(n);let i=e[t];if(!(i instanceof s)){const n=new s;n.intervals.addInterval(fi(i)),e[t]=i=n}n.data=new o(a),i.intervals.addInterval(n)}else e[t]=new o(a)}function Pi(e,t,i,n){const r=i.references;(0,f.A)(r)?Ti(e,t,r,i.interval,n,vt,N.A):yi(Array,e,t,i,void 0,void 0,n)}function Ei(e,t,i,n){if((0,f.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Pi(e,t,i[r],n);else Pi(e,t,i,n)}function Mi(e,t,i,n){const r=i.references;(0,f.A)(r)?Ti(e,t,r,i.interval,n,_t,z.A):((0,f.A)(i.cartesian)?i.array=Z.A.unpackArray(i.cartesian):(0,f.A)(i.cartographicRadians)?i.array=Z.A.fromRadiansArrayHeights(i.cartographicRadians):(0,f.A)(i.cartographicDegrees)&&(i.array=Z.A.fromDegreesArrayHeights(i.cartographicDegrees)),(0,f.A)(i.array)&&yi(Array,e,t,i,void 0,void 0,n))}function ki(e,t,i,n){if((0,f.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Mi(e,t,i[r],n);else Mi(e,t,i,n)}function Ii(e){return Z.A.unpackArray(e)}function Bi(e){return Z.A.fromRadiansArrayHeights(e)}function Oi(e){return Z.A.fromDegreesArrayHeights(e)}function Ri(e,t,i,n){const r=i.references;if((0,f.A)(r)){const o=r.map((function(e){const t={};return Ti(t,"positions",e,i.interval,n,_t,z.A),t.positions}));e[t]=new _t(o)}else(0,f.A)(i.cartesian)?i.array=i.cartesian.map(Ii):(0,f.A)(i.cartographicRadians)?i.array=i.cartographicRadians.map(Bi):(0,f.A)(i.cartographicDegrees)&&(i.array=i.cartographicDegrees.map(Oi)),(0,f.A)(i.array)&&yi(Array,e,t,i,void 0,void 0,n)}function Fi(e,t,i,n,r){let o=pi(t.interval);(0,f.A)(i)&&(o=(0,f.A)(o)?Pe.A.intersect(o,i,ni):i);let s=e.nodeTransformations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];if(!(0,f.A)(c))continue;(0,f.A)(s)||(e.nodeTransformations=s=new bt.A),s.hasProperty(l)||s.addProperty(l);let u=s[l];(0,f.A)(u)||(s[l]=u=new et.A),yi(Z.A,u,"translation",c.translation,o,n,r),yi(ye.A,u,"rotation",c.rotation,o,n,r),yi(Z.A,u,"scale",c.scale,o,n,r)}}function Di(e,t,i,n,r){let o=pi(t.interval);(0,f.A)(i)&&(o=(0,f.A)(o)?Pe.A.intersect(o,i,ni):i);let s=e.articulations;const a=Object.keys(t);for(let i=0,l=a.length;i<l;++i){const l=a[i];if("interval"===l)continue;const c=t[l];(0,f.A)(c)&&((0,f.A)(s)||(e.articulations=s=new bt.A),s.hasProperty(l)||s.addProperty(l),yi(Number,s,l,c,o,n,r))}}function Li(e){this.polygon=e,this._definitionChanged=new m.A}function Vi(e){return e?$.A.GEODESIC:$.A.NONE}function Ni(e,t,i,n,r){let o=e.id;if((0,f.A)(o)||(o=(0,C.A)()),Yt=o,!(0,f.A)(r._version)&&"document"!==o)throw new xe.A("The first CZML packet is required to be the document object.");if(!0===e.delete)t.removeById(o);else if("document"===o)!function(e,t){const i=e.version;if((0,f.A)(i)&&"string"==typeof i){const e=i.split(".");if(2===e.length){if("1"!==e[0])throw new xe.A("Cesium only supports CZML version 1.");t._version=i}}if(!(0,f.A)(t._version))throw new xe.A("CZML version information invalid.  It is expected to be a property on the document object in the <Major>.<Minor> version format.");const n=t._documentPacket;(0,f.A)(e.name)&&(n.name=e.name);const r=e.clock;if((0,f.A)(r)){const e=n.clock;(0,f.A)(e)?(e.interval=(0,p.A)(r.interval,e.interval),e.currentTime=(0,p.A)(r.currentTime,e.currentTime),e.range=(0,p.A)(r.range,e.range),e.step=(0,p.A)(r.step,e.step),e.multiplier=(0,p.A)(r.multiplier,e.multiplier)):n.clock={interval:r.interval,currentTime:r.currentTime,range:r.range,step:r.step,multiplier:r.multiplier}}}(e,r);else{const r=t.getOrCreateEntity(o),s=e.parent;(0,f.A)(s)&&(r.parent=t.getOrCreateEntity(s));for(let o=i.length-1;o>-1;o--)i[o](r,e,t,n)}Yt=void 0}function Ui(e,t,i,n){if(!(0,f.A)(t))throw new S.A("czml is required.");let r=t,o=(i=(0,p.A)(i,p.A.EMPTY_OBJECT)).sourceUri,s=i.credit;if("string"==typeof s&&(s=new ne.A(s)),e._credit=s,"string"==typeof t||t instanceof we.A){r=(t=we.A.createIfNeeded(t)).fetchJson(),o=(0,p.A)(o,t.clone());const i=e._resourceCredits,n=t.credits;if((0,f.A)(n)){const e=n.length;for(let t=0;t<e;t++)i.push(n[t])}}return o=we.A.createIfNeeded(o),Le.A.setLoading(e,!0),Promise.resolve(r).then((function(t){return function(e,t,i,n){Le.A.setLoading(e,!0);const r=e._entityCollection;n&&(e._version=void 0,e._documentPacket=new Gi,r.removeAll()),zi._processCzml(t,r,i,void 0,e);let o=function(e){let t;const i=e._documentPacket.clock;if(!(0,f.A)(i)){if(!(0,f.A)(e._clock)){const i=e._entityCollection.computeAvailability();if(!i.start.equals(pe.A.MINIMUM_VALUE)){const n=i.start,r=i.stop,o=fe.A.secondsDifference(r,n),s=Math.round(o/120);return t=new Ge,t.startTime=fe.A.clone(n),t.stopTime=fe.A.clone(r),t.clockRange=ee.A.LOOP_STOP,t.multiplier=s,t.currentTime=fe.A.clone(n),t.clockStep=te.A.SYSTEM_CLOCK_MULTIPLIER,e._clock=t,!0}}return!1}(0,f.A)(e._clock)?t=e._clock.clone():(t=new Ge,t.startTime=pe.A.MINIMUM_VALUE.clone(),t.stopTime=pe.A.MAXIMUM_VALUE.clone(),t.currentTime=pe.A.MINIMUM_VALUE.clone(),t.clockRange=ee.A.LOOP_STOP,t.clockStep=te.A.SYSTEM_CLOCK_MULTIPLIER,t.multiplier=1);const n=pi(i.interval);return(0,f.A)(n)&&(t.startTime=n.start,t.stopTime=n.stop),(0,f.A)(i.currentTime)&&(t.currentTime=fe.A.fromIso8601(i.currentTime)),(0,f.A)(i.range)&&(t.clockRange=(0,p.A)(ee.A[i.range],ee.A.LOOP_STOP)),(0,f.A)(i.step)&&(t.clockStep=(0,p.A)(te.A[i.step],te.A.SYSTEM_CLOCK_MULTIPLIER)),(0,f.A)(i.multiplier)&&(t.multiplier=i.multiplier),!t.equals(e._clock)&&(e._clock=t.clone(e._clock),!0)}(e);const s=e._documentPacket;return(0,f.A)(s.name)&&e._name!==s.name?(e._name=s.name,o=!0):!(0,f.A)(e._name)&&(0,f.A)(i)&&(e._name=(0,ae.A)(i.getUrlComponent()),o=!0),Le.A.setLoading(e,!1),o&&e._changed.raiseEvent(e),e}(e,t,o,n)})).catch((function(t){return Le.A.setLoading(e,!1),e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)}))}function Gi(){this.name=void 0,this.clock=void 0}function zi(e){this._name=e,this._changed=new m.A,this._error=new m.A,this._isLoading=!1,this._loading=new m.A,this._clock=void 0,this._documentPacket=new Gi,this._version=void 0,this._entityCollection=new E.A(this),this._entityCluster=new qe.A,this._credit=void 0,this._resourceCredits=[]}Object.defineProperties(Li.prototype,{isConstant:{get:function(){const e=this.polygon._positions,t=this.polygon._holes;return(!(0,f.A)(e)||e.isConstant)&&(!(0,f.A)(t)||t.isConstant)}},definitionChanged:{get:function(){return this._definitionChanged}}}),Li.prototype.getValue=function(e,t){let i,n;return(0,f.A)(this.polygon._positions)&&(i=this.polygon._positions.getValue(e)),(0,f.A)(this.polygon._holes)&&(n=this.polygon._holes.getValue(e),(0,f.A)(n)&&(n=n.map((function(e){return new _e.A(e)})))),(0,f.A)(t)?(t.positions=i,t.holes=n,t):new _e.A(i,n)},Li.prototype.equals=function(e){return this===e||e instanceof Li&&g.A.equals(this.polygon._positions,e.polygon._positions)&&g.A.equals(this.polygon._holes,e.polygon._holes)},zi.load=function(e,t){return(new zi).load(e,t)},Object.defineProperties(zi.prototype,{name:{get:function(){return this._name}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}}}),zi.updaters=[function(e,t,i,r){const o=t.billboard;if(!(0,f.A)(o))return;const s=pi(o.interval);let a=e.billboard;(0,f.A)(a)||(e.billboard=a=new n.A),yi(Boolean,a,"show",o.show,s,r,i),yi(Image,a,"image",o.image,s,r,i),yi(Number,a,"scale",o.scale,s,r,i),yi(d.A,a,"pixelOffset",o.pixelOffset,s,r,i),yi(Z.A,a,"eyeOffset",o.eyeOffset,s,r,i),yi(Be.A,a,"horizontalOrigin",o.horizontalOrigin,s,r,i),yi(Fe.A,a,"verticalOrigin",o.verticalOrigin,s,r,i),yi(Ie.A,a,"heightReference",o.heightReference,s,r,i),yi(h.A,a,"color",o.color,s,r,i),yi(Ct,a,"rotation",o.rotation,s,r,i),function(e,t,i,n,r){(0,f.A)(t)&&yi($t,e,"alignedAxis",t,i,n,r)}(a,o.alignedAxis,s,r,i),yi(Boolean,a,"sizeInMeters",o.sizeInMeters,s,r,i),yi(Number,a,"width",o.width,s,r,i),yi(Number,a,"height",o.height,s,r,i),yi(ge.A,a,"scaleByDistance",o.scaleByDistance,s,r,i),yi(ge.A,a,"translucencyByDistance",o.translucencyByDistance,s,r,i),yi(ge.A,a,"pixelOffsetScaleByDistance",o.pixelOffsetScaleByDistance,s,r,i),yi(Y.A,a,"imageSubRegion",o.imageSubRegion,s,r,i),yi(re.A,a,"distanceDisplayCondition",o.distanceDisplayCondition,s,r,i),yi(Number,a,"disableDepthTestDistance",o.disableDepthTestDistance,s,r,i)},function(e,t,i,n){const r=t.box;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.box;(0,f.A)(s)||(e.box=s=new a.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Z.A,s,"dimensions",r.dimensions,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.corridor;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.corridor;(0,f.A)(s)||(e.corridor=s=new W.A),yi(Boolean,s,"show",r.show,o,n,i),ki(s,"positions",r.positions,i),yi(Number,s,"width",r.width,o,n,i),yi(Number,s,"height",r.height,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),yi(Ie.A,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),yi(ie.A,s,"cornerType",r.cornerType,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Me.A,s,"classificationType",r.classificationType,o,n,i),yi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.cylinder;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.cylinder;(0,f.A)(s)||(e.cylinder=s=new X.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Number,s,"length",r.length,o,n,i),yi(Number,s,"topRadius",r.topRadius,o,n,i),yi(Number,s,"bottomRadius",r.bottomRadius,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),yi(Number,s,"slices",r.slices,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.ellipse;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.ellipse;(0,f.A)(s)||(e.ellipse=s=new ze.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Number,s,"semiMajorAxis",r.semiMajorAxis,o,n,i),yi(Number,s,"semiMinorAxis",r.semiMinorAxis,o,n,i),yi(Number,s,"height",r.height,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),yi(Ie.A,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),yi(Ct,s,"rotation",r.rotation,o,n,i),yi(Ct,s,"stRotation",r.stRotation,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Number,s,"numberOfVerticalLines",r.numberOfVerticalLines,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Me.A,s,"classificationType",r.classificationType,o,n,i),yi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.ellipsoid;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.ellipsoid;(0,f.A)(s)||(e.ellipsoid=s=new Ke.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Z.A,s,"radii",r.radii,o,n,i),yi(Z.A,s,"innerRadii",r.innerRadii,o,n,i),yi(Number,s,"minimumClock",r.minimumClock,o,n,i),yi(Number,s,"maximumClock",r.maximumClock,o,n,i),yi(Number,s,"minimumCone",r.minimumCone,o,n,i),yi(Number,s,"maximumCone",r.maximumCone,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Number,s,"stackPartitions",r.stackPartitions,o,n,i),yi(Number,s,"slicePartitions",r.slicePartitions,o,n,i),yi(Number,s,"subdivisions",r.subdivisions,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.label;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.label;(0,f.A)(s)||(e.label=s=new Ze.A),yi(Boolean,s,"show",r.show,o,n,i),yi(String,s,"text",r.text,o,n,i),yi(String,s,"font",r.font,o,n,i),yi(Oe.A,s,"style",r.style,o,n,i),yi(Number,s,"scale",r.scale,o,n,i),yi(Boolean,s,"showBackground",r.showBackground,o,n,i),yi(h.A,s,"backgroundColor",r.backgroundColor,o,n,i),yi(d.A,s,"backgroundPadding",r.backgroundPadding,o,n,i),yi(d.A,s,"pixelOffset",r.pixelOffset,o,n,i),yi(Z.A,s,"eyeOffset",r.eyeOffset,o,n,i),yi(Be.A,s,"horizontalOrigin",r.horizontalOrigin,o,n,i),yi(Fe.A,s,"verticalOrigin",r.verticalOrigin,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(h.A,s,"fillColor",r.fillColor,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(ge.A,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),yi(ge.A,s,"pixelOffsetScaleByDistance",r.pixelOffsetScaleByDistance,o,n,i),yi(ge.A,s,"scaleByDistance",r.scaleByDistance,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.model;if(!(0,f.A)(r))return;const o=pi(r.interval);let s,a,l=e.model;(0,f.A)(l)||(e.model=l=new Qe.A),yi(Boolean,l,"show",r.show,o,n,i),yi(De,l,"uri",r.gltf,o,n,i),yi(Number,l,"scale",r.scale,o,n,i),yi(Number,l,"minimumPixelSize",r.minimumPixelSize,o,n,i),yi(Number,l,"maximumScale",r.maximumScale,o,n,i),yi(Boolean,l,"incrementallyLoadTextures",r.incrementallyLoadTextures,o,n,i),yi(Boolean,l,"runAnimations",r.runAnimations,o,n,i),yi(Boolean,l,"clampAnimations",r.clampAnimations,o,n,i),yi(Re.A,l,"shadows",r.shadows,o,n,i),yi(Ie.A,l,"heightReference",r.heightReference,o,n,i),yi(h.A,l,"silhouetteColor",r.silhouetteColor,o,n,i),yi(Number,l,"silhouetteSize",r.silhouetteSize,o,n,i),yi(h.A,l,"color",r.color,o,n,i),yi(ke.A,l,"colorBlendMode",r.colorBlendMode,o,n,i),yi(Number,l,"colorBlendAmount",r.colorBlendAmount,o,n,i),yi(re.A,l,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i);const c=r.nodeTransformations;if((0,f.A)(c))if(Array.isArray(c))for(s=0,a=c.length;s<a;++s)Fi(l,c[s],o,n,i);else Fi(l,c,o,n,i);const u=r.articulations;if((0,f.A)(u))if(Array.isArray(u))for(s=0,a=u.length;s<a;++s)Di(l,u[s],o,n,i);else Di(l,u,o,n,i)},function(e,t,i,n){const r=t.name;(0,f.A)(r)&&(e.name=t.name)},function(e,t,i,n){const r=t.description;(0,f.A)(r)&&yi(String,e,"description",r,void 0,n,i)},function(e,t,i,n){const r=t.path;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.path;(0,f.A)(s)||(e.path=s=new tt.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Number,s,"leadTime",r.leadTime,o,n,i),yi(Number,s,"trailTime",r.trailTime,o,n,i),yi(Number,s,"width",r.width,o,n,i),yi(Number,s,"resolution",r.resolution,o,n,i),Si(s,"material",r.material,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.point;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.point;(0,f.A)(s)||(e.point=s=new it.A),yi(Boolean,s,"show",r.show,o,n,i),yi(Number,s,"pixelSize",r.pixelSize,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(h.A,s,"color",r.color,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(ge.A,s,"scaleByDistance",r.scaleByDistance,o,n,i),yi(ge.A,s,"translucencyByDistance",r.translucencyByDistance,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Number,s,"disableDepthTestDistance",r.disableDepthTestDistance,o,n,i)},function(e,t,i,n){const r=t.polygon;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.polygon;(0,f.A)(s)||(e.polygon=s=new nt.A),yi(Boolean,s,"show",r.show,o,n,i),ki(s,"_positions",r.positions,i),function(e,t,i,n){if((0,f.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r)Ri(e,t,i[r],n);else Ri(e,t,i,n)}(s,"_holes",r.holes,i),((0,f.A)(s._positions)||(0,f.A)(s._holes))&&(s.hierarchy=new Li(s)),yi(Number,s,"height",r.height,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),yi(Ie.A,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),yi(Ct,s,"stRotation",r.stRotation,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Boolean,s,"perPositionHeight",r.perPositionHeight,o,n,i),yi(Boolean,s,"closeTop",r.closeTop,o,n,i),yi(Boolean,s,"closeBottom",r.closeBottom,o,n,i),yi($.A,s,"arcType",r.arcType,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Me.A,s,"classificationType",r.classificationType,o,n,i),yi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.polyline;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.polyline;if((0,f.A)(s)||(e.polyline=s=new ut.A),yi(Boolean,s,"show",r.show,o,n,i),ki(s,"positions",r.positions,i),yi(Number,s,"width",r.width,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),Si(s,"material",r.material,o,n,i),Si(s,"depthFailMaterial",r.depthFailMaterial,o,n,i),yi($.A,s,"arcType",r.arcType,o,n,i),yi(Boolean,s,"clampToGround",r.clampToGround,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Me.A,s,"classificationType",r.classificationType,o,n,i),yi(Number,s,"zIndex",r.zIndex,o,n,i),(0,f.A)(r.followSurface)&&!(0,f.A)(r.arcType)){const e={};yi(Boolean,e,"followSurface",r.followSurface,o,n,i),s.arcType=(a=e.followSurface,c=Vi,new l.A((function(e,t){return c(a.getValue(e,t))}),a.isConstant))}var a,c},function(e,t,i,n){const r=t.polylineVolume;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.polylineVolume;(0,f.A)(s)||(e.polylineVolume=s=new mt.A),ki(s,"positions",r.positions,i),function(e,t,i,n){if((0,f.A)(i))if(Array.isArray(i))for(let r=0,o=i.length;r<o;r++)xi(e,t,i[r],n);else xi(e,t,i,n)}(s,"shape",r.shape,i),yi(Boolean,s,"show",r.show,o,n,i),yi(ie.A,s,"cornerType",r.cornerType,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.properties;if((0,f.A)(r)){(0,f.A)(e.properties)||(e.properties=new bt.A);for(const t in r)if(r.hasOwnProperty(t)){e.properties.hasProperty(t)||e.properties.addProperty(t);const o=r[t];if(Array.isArray(o))for(let r=0,s=o.length;r<s;++r)gi(ci(o[r]),e.properties,t,o[r],void 0,n,i);else gi(ci(o),e.properties,t,o,void 0,n,i)}}},function(e,t,i,n){const r=t.rectangle;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.rectangle;(0,f.A)(s)||(e.rectangle=s=new wt.A),yi(Boolean,s,"show",r.show,o,n,i),yi(ve.A,s,"coordinates",r.coordinates,o,n,i),yi(Number,s,"height",r.height,o,n,i),yi(Ie.A,s,"heightReference",r.heightReference,o,n,i),yi(Number,s,"extrudedHeight",r.extrudedHeight,o,n,i),yi(Ie.A,s,"extrudedHeightReference",r.extrudedHeightReference,o,n,i),yi(Ct,s,"rotation",r.rotation,o,n,i),yi(Ct,s,"stRotation",r.stRotation,o,n,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i),yi(Me.A,s,"classificationType",r.classificationType,o,n,i),yi(Number,s,"zIndex",r.zIndex,o,n,i)},function(e,t,i,n){const r=t.position;(0,f.A)(r)&&wi(e,"position",r,void 0,0,i)},function(e,t,i,n){const r=t.tileset;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.tileset;(0,f.A)(s)||(e.tileset=s=new c.A),yi(Boolean,s,"show",r.show,o,n,i),yi(De,s,"uri",r.uri,o,n,i),yi(Number,s,"maximumScreenSpaceError",r.maximumScreenSpaceError,o,n,i)},function(e,t,i,n){const r=t.viewFrom;(0,f.A)(r)&&yi(Z.A,e,"viewFrom",r,void 0,n,i)},function(e,t,i,n){const r=t.wall;if(!(0,f.A)(r))return;const o=pi(r.interval);let s=e.wall;(0,f.A)(s)||(e.wall=s=new Xt.A),yi(Boolean,s,"show",r.show,o,n,i),ki(s,"positions",r.positions,i),Ei(s,"minimumHeights",r.minimumHeights,i),Ei(s,"maximumHeights",r.maximumHeights,i),yi(Number,s,"granularity",r.granularity,o,n,i),yi(Boolean,s,"fill",r.fill,o,n,i),Si(s,"material",r.material,o,n,i),yi(Boolean,s,"outline",r.outline,o,n,i),yi(h.A,s,"outlineColor",r.outlineColor,o,n,i),yi(Number,s,"outlineWidth",r.outlineWidth,o,n,i),yi(Re.A,s,"shadows",r.shadows,o,n,i),yi(re.A,s,"distanceDisplayCondition",r.distanceDisplayCondition,o,n,i)},function(e,t,i,n){const r=t.orientation;(0,f.A)(r)&&yi(ye.A,e,"orientation",r,void 0,n,i)},function(e,t,i,n){const r=t.availability;if(!(0,f.A)(r))return;let o;if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)(0,f.A)(o)||(o=new Ee.A),o.addInterval(pi(r[e]));else o=new Ee.A,o.addInterval(pi(r));e.availability=o}],zi.prototype.process=function(e,t){return Ui(this,e,t,!1)},zi.prototype.load=function(e,t){return Ui(this,e,t,!0)},zi.prototype.update=function(e){return!0},zi.processPacketData=yi,zi.processPositionPacketData=wi,zi.processMaterialPacketData=Si,zi._processCzml=function(e,t,i,n,r){if(n=(0,p.A)(n,zi.updaters),Array.isArray(e))for(let o=0,s=e.length;o<s;++o)Ni(e[o],t,n,i,r);else Ni(e,t,n,i,r)};const Ki=zi;var qi=i(335557),Hi=i(720567),Wi=i(345747),ji=i(799086),Ji=i(584295),Xi=i(754462),$i=i(226698),Yi=i(668696),Zi=i(286299),Qi=i(253560),en=i(335385);function tn(e){return"boolean"==typeof e}function nn(e,t){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)}function rn(e,t){for(var i=e.length-1;i>=0;i--)!0===t(e[i])&&e.splice(i,1)}function on(e){throw new Error("Unhandled case for value: '".concat(e,"'"))}var sn=/[A-Za-z]/,an=/[\d]/,ln=/\s/,cn=/['"]/,un=/[\x00-\x1F\x7F]/,dn=/A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,hn=dn+/\u2700-\u27bf\udde6-\uddff\ud800-\udbff\udc00-\udfff\ufe0e\ufe0f\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ud83c\udffb-\udfff\u200d\u3299\u3297\u303d\u3030\u24c2\ud83c\udd70-\udd71\udd7e-\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01-\ude02\ude1a\ude2f\ude32-\ude3a\ude50-\ude51\u203c\u2049\u25aa-\u25ab\u25b6\u25c0\u25fb-\u25fe\u00a9\u00ae\u2122\u2139\udc04\u2600-\u26FF\u2b05\u2b06\u2b07\u2b1b\u2b1c\u2b50\u2b55\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\udccf\u2935\u2934\u2190-\u21ff/.source+/\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D4-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F/.source,pn=/0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19/.source,fn=(new RegExp("[".concat(dn+pn,"]")),hn+pn),mn=new RegExp("[".concat(fn,"]")),An=function(){function e(e){void 0===e&&(e={}),this.tagName="",this.attrs={},this.innerHTML="",this.tagName=e.tagName||"",this.attrs=e.attrs||{},this.innerHTML=e.innerHtml||e.innerHTML||""}return e.prototype.setTagName=function(e){return this.tagName=e,this},e.prototype.getTagName=function(){return this.tagName||""},e.prototype.setAttr=function(e,t){return this.getAttrs()[e]=t,this},e.prototype.getAttr=function(e){return this.getAttrs()[e]},e.prototype.setAttrs=function(e){return Object.assign(this.getAttrs(),e),this},e.prototype.getAttrs=function(){return this.attrs||(this.attrs={})},e.prototype.setClass=function(e){return this.setAttr("class",e)},e.prototype.addClass=function(e){for(var t,i=this.getClass(),n=i?i.split(ln):[],r=e.split(ln);t=r.shift();)-1===n.indexOf(t)&&n.push(t);return this.getAttrs().class=n.join(" "),this},e.prototype.removeClass=function(e){for(var t,i=this.getClass(),n=i?i.split(ln):[],r=e.split(ln);n.length&&(t=r.shift());){var o=n.indexOf(t);-1!==o&&n.splice(o,1)}return this.getAttrs().class=n.join(" "),this},e.prototype.getClass=function(){return this.getAttrs().class||""},e.prototype.hasClass=function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},e.prototype.setInnerHTML=function(e){return this.innerHTML=e,this},e.prototype.setInnerHtml=function(e){return this.setInnerHTML(e)},e.prototype.getInnerHTML=function(){return this.innerHTML||""},e.prototype.getInnerHtml=function(){return this.getInnerHTML()},e.prototype.toAnchorString=function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},e.prototype.buildAttrsStr=function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")},e}(),gn=function(){function e(e){void 0===e&&(e={}),this.newWindow=!1,this.truncate={},this.className="",this.newWindow=e.newWindow||!1,this.truncate=e.truncate||{},this.className=e.className||""}return e.prototype.build=function(e){return new An({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},e.prototype.createAttrs=function(e){var t={href:e.getAnchorHref()},i=this.createCssClass(e);return i&&(t.class=i),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},e.prototype.createCssClass=function(e){var t=this.className;if(t){for(var i=[t],n=e.getCssClassSuffixes(),r=0,o=n.length;r<o;r++)i.push(t+"-"+n[r]);return i.join(" ")}return""},e.prototype.processAnchorText=function(e){return this.doTruncate(e)},e.prototype.doTruncate=function(e){var t=this.truncate;if(!t||!t.length)return e;var i=t.length,n=t.location;return"smart"===n?function(e,t,i){var n,r;null==i?(i="&hellip;",r=3,n=8):(r=i.length,n=i.length);var o=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var n=t/2,r=Math.ceil(n),o=-1*Math.floor(n),s="";return o<0&&(s=e.substr(o)),e.substr(0,r)+i+s};if(e.length<=t)return e;var a=t-r,l=function(e){var t={},i=e,n=i.match(/^([a-z]+):\/\//i);return n&&(t.scheme=n[1],i=i.substr(n[0].length)),(n=i.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=n[1],i=i.substr(n[0].length)),(n=i.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=n[1],i=i.substr(n[0].length)),(n=i.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=n[1],i=i.substr(n[0].length)),(n=i.match(/^#(.*?)$/i))&&(t.fragment=n[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=o(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=o(l)),e.length<=t)return e;var u="";if(l.host&&(u+=l.host),u.length>=a)return l.host.length==t?(l.host.substr(0,t-r)+i).substr(0,a+n):s(u,a).substr(0,a+n);var d="";if(l.path&&(d+="/"+l.path),l.query&&(d+="?"+l.query),d){if((u+d).length>=a)return(u+d).length==t?(u+d).substr(0,t):(u+s(d,a-u.length)).substr(0,a+n);u+=d}if(l.fragment){var h="#"+l.fragment;if((u+h).length>=a)return(u+h).length==t?(u+h).substr(0,t):(u+s(h,a-u.length)).substr(0,a+n);u+=h}if(l.scheme&&l.host){var p=l.scheme+"://";if((u+p).length<a)return(p+u).substr(0,t)}if(u.length<=t)return u;var f="";return a>0&&(f=u.substr(-1*Math.floor(a/2))),(u.substr(0,Math.ceil(a/2))+i+f).substr(0,a+n)}(e,i):"middle"===n?function(e,t,i){if(e.length<=t)return e;var n,r;null==i?(i="&hellip;",n=8,r=3):(n=i.length,r=i.length);var o=t-r,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+i+s).substr(0,o+n)}(e,i):function(e,t){return function(e,t,i){var n;return e.length>t&&(null==i?(i="&hellip;",n=3):n=i.length,e=e.substring(0,t-n)+i),e}(e,t,void 0)}(e,i)},e}(),_n=function(e,t){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},_n(e,t)};function yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}_n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var vn=function(){return vn=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vn.apply(this,arguments)};Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var bn=function(){function e(e){this._=null,this.matchedText="",this.offset=0,this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset}return e.prototype.getMatchedText=function(){return this.matchedText},e.prototype.setOffset=function(e){this.offset=e},e.prototype.getOffset=function(){return this.offset},e.prototype.getCssClassSuffixes=function(){return[this.type]},e.prototype.buildTag=function(){return this.tagBuilder.build(this)},e}(),wn=new RegExp("^(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|travelersinsurance|vermgensberatung|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbah1a3hjkrd|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermgensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--mgbcpq6gpa1a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|americanfamily|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--h2breg3eve|xn--jlq480n2rg|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|xn--rvc1e0am3e|international|lifeinsurance|wolterskluwer|xn--cckwcxetd|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--h2brj9c8c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|scholarships|versicherung|xn--3e0b707e|xn--45br5cyl|xn--4dbrk0ce|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbgu82a|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--3bst00m|xn--3ds443g|xn--3hcrj9c|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--mgbbh1a|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--otu796d|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b||accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nextdirect|properties|protection|prudential|realestate|republican|restaurant|schaeffler|tatamotors|technology|university|vlaanderen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--q7ce6a|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|pramerica|richardli|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--ngbrx|xn--nqv7f|xn--p1acf|xn--qxa6a|xn--tckwe|xn--vhquv|yodobashi||abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|builders|business|capetown|catering|catholic|cipriani|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama||abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|banamex|bauhaus|bentley|bestbuy|booking|brother|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|yamaxun|youtube|zuerich||||||||abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kindle|kosher|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|nagoya|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|walter|webcam|xihuan|yachts|yandex|zappos|||||||||||||actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|lipsy|loans|locus|lotte|lotto|mango|media|miami|money|movie|music|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo||||||||||||||aarp|able|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|dvag|erni|fage|fail|fans|farm|fast|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kids|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|read|reit|rent|rest|rich|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone||||||||||||||||||||||||||aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|ceo|cfa|cfd|com|cpa|crs|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|scb|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|||||||||||||||||||||||||||||||ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||)$"),xn=/[\/?#]/,Cn=/[-+&@#/%=~_()|'$*\[\]{}\u2713]/,Sn=/[?!:,.;^]/,Tn=/https?:\/\//i,Pn=new RegExp("^"+Tn.source,"i"),En=new RegExp(Sn.source+"$"),Mn=/^(javascript|vbscript):/i,kn=/^[A-Za-z][-.+A-Za-z0-9]*:(\/\/)?([^:/]*)/,In=/^(?:\/\/)?([^/#?:]+)/;function Bn(e){return sn.test(e)}function On(e){return sn.test(e)||an.test(e)||"+"===e||"-"===e||"."===e}function Rn(e){return mn.test(e)}function Fn(e){return"_"===e||Rn(e)}function Dn(e){return mn.test(e)||Cn.test(e)||Sn.test(e)}function Ln(e){return xn.test(e)}function Vn(e){return wn.test(e.toLowerCase())}var Nn=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Un=/[:/?#]/,Gn=/^(https?:\/\/)?(www\.)?/i,zn=/^\/\//,Kn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="url",i.url="",i.urlMatchType="scheme",i.protocolRelativeMatch=!1,i.stripPrefix={scheme:!0,www:!0},i.stripTrailingSlash=!0,i.decodePercentEncoding=!0,i.protocolPrepended=!1,i.urlMatchType=t.urlMatchType,i.url=t.url,i.protocolRelativeMatch=t.protocolRelativeMatch,i.stripPrefix=t.stripPrefix,i.stripTrailingSlash=t.stripTrailingSlash,i.decodePercentEncoding=t.decodePercentEncoding,i}return yn(t,e),t.prototype.getType=function(){return"url"},t.prototype.getUrlMatchType=function(){return this.urlMatchType},t.prototype.getUrl=function(){var e=this.url;return this.protocolRelativeMatch||"scheme"===this.urlMatchType||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},t.prototype.getAnchorHref=function(){return this.getUrl().replace(/&amp;/g,"&")},t.prototype.getAnchorText=function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=e.replace(zn,"")),this.stripPrefix.scheme&&(e=function(e){return e.replace(Pn,"")}(e)),this.stripPrefix.www&&(e=function(e){return e.replace(Gn,"$1")}(e)),this.stripTrailingSlash&&(e=function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}(e)),this.decodePercentEncoding&&(e=function(e){var t=e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;");try{return decodeURIComponent(t)}catch(e){return t}}(e)),e},t}(bn),qn=/^mailto:/i,Hn=new RegExp("[".concat(fn,"!#$%&'*+/=?^_`{|}~-]"));function Wn(e){return Hn.test(e)}var jn=function(e){function t(t){var i=e.call(this,t)||this;return i.type="email",i.email="",i.email=t.email,i}return yn(t,e),t.prototype.getType=function(){return"email"},t.prototype.getEmail=function(){return this.email},t.prototype.getAnchorHref=function(){return"mailto:"+this.email},t.prototype.getAnchorText=function(){return this.email},t}(bn);function Jn(e){return"_"===e||mn.test(e)}var Xn=["twitter","facebook","instagram","tiktok","youtube"],$n=function(e){function t(t){var i=e.call(this,t)||this;return i.type="hashtag",i.serviceName="twitter",i.hashtag="",i.serviceName=t.serviceName,i.hashtag=t.hashtag,i}return yn(t,e),t.prototype.getType=function(){return"hashtag"},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getHashtag=function(){return this.hashtag},t.prototype.getAnchorHref=function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;case"tiktok":return"https://www.tiktok.com/tag/"+t;case"youtube":return"https://youtube.com/hashtag/"+t;default:throw on(e),new Error("Invalid hashtag service: ".concat(e))}},t.prototype.getAnchorText=function(){return"#"+this.hashtag},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(bn),Yn={twitter:/^@\w{1,15}$/,instagram:/^@[_\w]{1,30}$/,soundcloud:/^@[-a-z0-9_]{3,25}$/,tiktok:/^@[.\w]{1,23}[\w]$/,youtube:/^@[-.\w]{3,30}$/},Zn=/[-\w.]/;function Qn(e){return Zn.test(e)}var er=["twitter","instagram","soundcloud","tiktok","youtube"],tr=function(e){function t(t){var i=e.call(this,t)||this;return i.type="mention",i.serviceName="twitter",i.mention="",i.mention=t.mention,i.serviceName=t.serviceName,i}return yn(t,e),t.prototype.getType=function(){return"mention"},t.prototype.getMention=function(){return this.mention},t.prototype.getServiceName=function(){return this.serviceName},t.prototype.getAnchorHref=function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;case"soundcloud":return"https://soundcloud.com/"+this.mention;case"tiktok":return"https://www.tiktok.com/@"+this.mention;case"youtube":return"https://youtube.com/@"+this.mention;default:throw on(this.serviceName),new Error("Unknown service name to point mention to: "+this.serviceName)}},t.prototype.getAnchorText=function(){return"@"+this.mention},t.prototype.getCssClassSuffixes=function(){var t=e.prototype.getCssClassSuffixes.call(this),i=this.getServiceName();return i&&t.push(i),t},t}(bn),ir=/[-. ]/,nr=/[-. ()]/,rr=/[,;]/,or=new RegExp("^".concat(/(?:(?:(?:(\+)?\d{1,3}[-. ]?)?\(?\d{3}\)?[-. ]?\d{3}[-. ]?\d{4})|(?:(\+)(?:9[976]\d|8[987530]\d|6[987]\d|5[90]\d|42\d|3[875]\d|2[98654321]\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)[-. ]?(?:\d[-. ]?){6,12}\d+))([,;]+[0-9]+#?)*/.source,"|").concat(/(0([1-9]-?[1-9]\d{3}|[1-9]{2}-?\d{3}|[1-9]{2}\d{1}-?\d{2}|[1-9]{2}\d{2}-?\d{1})-?\d{4}|0[789]0-?\d{4}-?\d{4}|050-?\d{4}-?\d{4})/.source,"$"));function sr(e){return ir.test(e)}function ar(e){return rr.test(e)}var lr=function(e){function t(t){var i=e.call(this,t)||this;return i.type="phone",i.number="",i.plusSign=!1,i.number=t.number,i.plusSign=t.plusSign,i}return yn(t,e),t.prototype.getType=function(){return"phone"},t.prototype.getPhoneNumber=function(){return this.number},t.prototype.getNumber=function(){return this.getPhoneNumber()},t.prototype.getAnchorHref=function(){return"tel:"+(this.plusSign?"+":"")+this.number},t.prototype.getAnchorText=function(){return this.matchedText},t}(bn);var cr=/[\(\{\[]/,ur=/[\)\}\]]/,dr={")":"(","}":"{","]":"["};function hr(e,t){return{type:"url",startIdx:e,state:t,acceptStateReached:!1,matchType:"scheme"}}function pr(e,t){return{type:"url",startIdx:e,state:t,acceptStateReached:!1,matchType:"tld"}}function fr(e,t){return{type:"phone",startIdx:e,state:t,acceptStateReached:!1}}function mr(e){return"url"===e.type&&"scheme"===e.matchType}var Ar=function(e){void 0===e&&(e={}),this.idx=void 0!==e.idx?e.idx:-1,this.type=e.type||"tag",this.name=e.name||"",this.isOpening=!!e.isOpening,this.isClosing=!!e.isClosing};const gr=function(){function e(t){var i,n;void 0===t&&(t={}),this.version=e.version,this.urls={},this.email=!0,this.phone=!0,this.hashtag=!1,this.mention=!1,this.newWindow=!0,this.stripPrefix={scheme:!0,www:!0},this.stripTrailingSlash=!0,this.decodePercentEncoding=!0,this.truncate={length:0,location:"end"},this.className="",this.replaceFn=null,this.context=void 0,this.sanitizeHtml=!1,this.tagBuilder=null,this.urls=(null==(n=t.urls)&&(n=!0),tn(n)?{schemeMatches:n,tldMatches:n,ipV4Matches:n}:{schemeMatches:!tn(n.schemeMatches)||n.schemeMatches,tldMatches:!tn(n.tldMatches)||n.tldMatches,ipV4Matches:!tn(n.ipV4Matches)||n.ipV4Matches}),this.email=tn(t.email)?t.email:this.email,this.phone=tn(t.phone)?t.phone:this.phone,this.hashtag=t.hashtag||this.hashtag,this.mention=t.mention||this.mention,this.newWindow=tn(t.newWindow)?t.newWindow:this.newWindow,this.stripPrefix=(null==(i=t.stripPrefix)&&(i=!0),tn(i)?{scheme:i,www:i}:{scheme:!tn(i.scheme)||i.scheme,www:!tn(i.www)||i.www}),this.stripTrailingSlash=tn(t.stripTrailingSlash)?t.stripTrailingSlash:this.stripTrailingSlash,this.decodePercentEncoding=tn(t.decodePercentEncoding)?t.decodePercentEncoding:this.decodePercentEncoding,this.sanitizeHtml=t.sanitizeHtml||!1;var r=this.mention;if(!1!==r&&-1===er.indexOf(r))throw new Error("invalid `mention` cfg '".concat(r,"' - see docs"));var o,s=this.hashtag;if(!1!==s&&-1===Xn.indexOf(s))throw new Error("invalid `hashtag` cfg '".concat(s,"' - see docs"));this.truncate="number"==typeof(o=t.truncate)?{length:o,location:"end"}:function(e,t){for(var i in t)t.hasOwnProperty(i)&&void 0===e[i]&&(e[i]=t[i]);return e}(o||{},{length:Number.POSITIVE_INFINITY,location:"end"}),this.className=t.className||this.className,this.replaceFn=t.replaceFn||this.replaceFn,this.context=t.context||this}return e.link=function(t,i){return new e(i).link(t)},e.parse=function(t,i){return new e(i).parse(t)},e.prototype.parse=function(e){var t=this,i=["a","style","script"],n=0,r=[];return function(e,t){for(var i,n=t.onOpenTag,r=t.onCloseTag,o=t.onText,s=t.onComment,a=t.onDoctype,l=new Ar,c=0,u=e.length,d=0,h=0,p=l;c<u;){var f=e.charAt(c);switch(d){case 0:m(f);break;case 1:A(f);break;case 2:_(f);break;case 3:g(f);break;case 4:y(f);break;case 5:v(f);break;case 6:b(f);break;case 7:w(f);break;case 8:x(f);break;case 9:C(f);break;case 10:S(f);break;case 11:T(f);break;case 12:P(f);break;case 13:"--"===e.substr(c,2)?(c+=2,p=new Ar(vn(vn({},p),{type:"comment"})),d=14):"DOCTYPE"===e.substr(c,7).toUpperCase()?(c+=7,p=new Ar(vn(vn({},p),{type:"doctype"})),d=20):F();break;case 14:E(f);break;case 15:M(f);break;case 16:k(f);break;case 17:I(f);break;case 18:B(f);break;case 19:O(f);break;case 20:R(f);break;default:on(d)}c++}function m(e){"<"===e&&D()}function A(e){"!"===e?d=13:"/"===e?(d=2,p=new Ar(vn(vn({},p),{isClosing:!0}))):"<"===e?D():sn.test(e)?(d=3,p=new Ar(vn(vn({},p),{isOpening:!0}))):(d=0,p=l)}function g(e){ln.test(e)?(p=new Ar(vn(vn({},p),{name:V()})),d=4):"<"===e?D():"/"===e?(p=new Ar(vn(vn({},p),{name:V()})),d=12):">"===e?(p=new Ar(vn(vn({},p),{name:V()})),L()):sn.test(e)||an.test(e)||":"===e||F()}function _(e){">"===e?F():sn.test(e)?d=3:F()}function y(e){ln.test(e)||("/"===e?d=12:">"===e?L():"<"===e?D():"="===e||cn.test(e)||un.test(e)?F():d=5)}function v(e){ln.test(e)?d=6:"/"===e?d=12:"="===e?d=7:">"===e?L():"<"===e?D():cn.test(e)&&F()}function b(e){ln.test(e)||("/"===e?d=12:"="===e?d=7:">"===e?L():"<"===e?D():cn.test(e)?F():d=5)}function w(e){ln.test(e)||('"'===e?d=8:"'"===e?d=9:/[>=`]/.test(e)?F():"<"===e?D():d=10)}function x(e){'"'===e&&(d=11)}function C(e){"'"===e&&(d=11)}function S(e){ln.test(e)?d=4:">"===e?L():"<"===e&&D()}function T(e){ln.test(e)?d=4:"/"===e?d=12:">"===e?L():"<"===e?D():(d=4,c--)}function P(e){">"===e?(p=new Ar(vn(vn({},p),{isClosing:!0})),L()):d=4}function E(e){"-"===e?d=15:">"===e?F():d=16}function M(e){"-"===e?d=18:">"===e?F():d=16}function k(e){"-"===e&&(d=17)}function I(e){d="-"===e?18:16}function B(e){">"===e?L():"!"===e?d=19:"-"===e||(d=16)}function O(e){"-"===e?d=17:">"===e?L():d=16}function R(e){">"===e?L():"<"===e&&D()}function F(){d=0,p=l}function D(){d=1,p=new Ar({idx:c})}function L(){var t=e.slice(h,p.idx);t&&o(t,h),"comment"===p.type?s(p.idx):"doctype"===p.type?a(p.idx):(p.isOpening&&n(p.name,p.idx),p.isClosing&&r(p.name,p.idx)),F(),h=c+1}function V(){var t=p.idx+(p.isClosing?2:1);return e.slice(t,c).toLowerCase()}h<c&&(i=e.slice(h,c),o(i,h),h=c+1)}(e,{onOpenTag:function(e){i.indexOf(e)>=0&&n++},onText:function(e,i){if(0===n){var o=e.split(/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi),s=i;o.forEach((function(e,i){if(i%2==0){var n=t.parseText(e,s);r.push.apply(r,n)}s+=e.length}))}},onCloseTag:function(e){i.indexOf(e)>=0&&(n=Math.max(n-1,0))},onComment:function(e){},onDoctype:function(e){}}),r=this.compactMatches(r),r=this.removeUnwantedMatches(r)},e.prototype.compactMatches=function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;){var i=e[t],n=i.getOffset(),r=i.getMatchedText().length,o=n+r;if(t+1<e.length){if(e[t+1].getOffset()===n){var s=e[t+1].getMatchedText().length>r?t:t+1;e.splice(s,1);continue}if(e[t+1].getOffset()<o){e.splice(t+1,1);continue}}t++}return e},e.prototype.removeUnwantedMatches=function(e){return this.hashtag||rn(e,(function(e){return"hashtag"===e.getType()})),this.email||rn(e,(function(e){return"email"===e.getType()})),this.phone||rn(e,(function(e){return"phone"===e.getType()})),this.mention||rn(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||rn(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.tldMatches||rn(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),this.urls.ipV4Matches||rn(e,(function(e){return"url"===e.getType()&&"ipV4"===e.getUrlMatchType()})),e},e.prototype.parseText=function(e,t){void 0===t&&(t=0),t=t||0;for(var i=function(e,t){for(var i=t.tagBuilder,n=t.stripPrefix,r=t.stripTrailingSlash,o=t.decodePercentEncoding,s=t.hashtagServiceName,a=t.mentionServiceName,l=[],c=e.length,u=[],d=0;d<c;d++){var h=e.charAt(d);if(0===u.length)A(h);else{for(var p=u.length-1;p>=0;p--){var f=u[p];switch(f.state){case 11:w(f,h);break;case 12:x(f,h);break;case 0:g(f,h);break;case 1:_(f,h);break;case 2:y(f,h);break;case 3:v(f,h);break;case 4:b(f,h);break;case 5:C(f,h);break;case 6:S(f,h);break;case 7:T(f,h);break;case 13:P(f,h);break;case 14:E(f,h);break;case 8:M(f,h);break;case 9:k(f,h);break;case 10:I(f,h);break;case 15:B(f,h);break;case 16:O(f,h);break;case 17:R(f,h);break;case 18:F(f,h);break;case 19:D(f,h);break;case 20:L(f,h);break;case 21:V(f,h);break;case 22:N(f,h);break;case 23:U(f,h);break;case 24:G(f,h);break;case 25:z(f,h);break;case 26:K(f,h);break;case 27:q(f,h);break;case 28:H(f,h);break;case 29:W(f,h);break;case 30:j(f,h);break;case 31:J(f,h);break;case 32:$(f,h);break;case 33:Y(f,h);break;case 34:Z(f,h);break;case 35:Q(f,h);break;case 36:ee(f,h);break;case 37:X(f,h);break;case 38:te(f,h);break;case 39:ie(f,h);break;case 40:ne(f,h);break;case 41:re(f,h);break;default:on(f.state)}}d>0&&Bn(h)&&(Bn(e.charAt(d-1))||u.some(mr)||u.push(hr(d,0)))}}for(var m=u.length-1;m>=0;m--)u.forEach((function(e){return oe(e)}));return l;function A(e){if("#"===e)u.push({type:"hashtag",startIdx:d,state:28,acceptStateReached:!1});else if("@"===e)u.push({type:"mention",startIdx:d,state:30,acceptStateReached:!1});else if("/"===e)u.push(pr(d,11));else if("+"===e)u.push(fr(d,37));else if("("===e)u.push(fr(d,32));else{if(an.test(e)&&(u.push(fr(d,38)),u.push({type:"url",startIdx:d,state:13,acceptStateReached:!1,matchType:"ipV4",octetsEncountered:1})),function(e){return mn.test(e)}(e)){var t="m"===e.toLowerCase()?15:22;u.push(function(e,t){return{type:"email",startIdx:e,state:t,acceptStateReached:!1}}(d,t))}Bn(e)&&u.push(hr(d,0)),mn.test(e)&&u.push(pr(d,5))}}function g(e,t){":"===t?e.state=2:"-"===t?e.state=1:On(t)||nn(u,e)}function _(e,t){"-"===t||("/"===t?(nn(u,e),u.push(pr(d,11))):On(t)?e.state=0:nn(u,e))}function y(e,t){"/"===t?e.state=3:"."===t?nn(u,e):Rn(t)?(e.state=5,Bn(t)&&u.push(hr(d,0))):nn(u,e)}function v(e,t){"/"===t?e.state=4:Dn(t)?(e.state=10,e.acceptStateReached=!0):oe(e)}function b(e,t){"/"===t?e.state=10:Rn(t)?(e.state=5,e.acceptStateReached=!0):nn(u,e)}function w(e,t){"/"===t?e.state=12:nn(u,e)}function x(e,t){Rn(t)?e.state=5:nn(u,e)}function C(e,t){"."===t?e.state=7:"-"===t?e.state=6:":"===t?e.state=8:Ln(t)?e.state=10:Fn(t)||oe(e)}function S(e,t){"-"===t||("."===t?oe(e):Rn(t)?e.state=5:oe(e))}function T(e,t){"."===t?oe(e):Rn(t)?(e.state=5,e.acceptStateReached=!0):oe(e)}function P(e,t){"."===t?e.state=14:":"===t?e.state=8:an.test(t)||(Ln(t)?e.state=10:mn.test(t)?nn(u,e):oe(e))}function E(e,t){an.test(t)?(e.octetsEncountered++,4===e.octetsEncountered&&(e.acceptStateReached=!0),e.state=13):oe(e)}function M(e,t){an.test(t)?e.state=9:oe(e)}function k(e,t){an.test(t)||(Ln(t)?e.state=10:oe(e))}function I(e,t){Dn(t)||oe(e)}function B(e,t){"a"===t.toLowerCase()?e.state=16:N(e,t)}function O(e,t){"i"===t.toLowerCase()?e.state=17:N(e,t)}function R(e,t){"l"===t.toLowerCase()?e.state=18:N(e,t)}function F(e,t){"t"===t.toLowerCase()?e.state=19:N(e,t)}function D(e,t){"o"===t.toLowerCase()?e.state=20:N(e,t)}function L(e,t){":"===t.toLowerCase()?e.state=21:N(e,t)}function V(e,t){Wn(t)?e.state=22:nn(u,e)}function N(e,t){"."===t?e.state=23:"@"===t?e.state=24:Wn(t)?e.state=22:nn(u,e)}function U(e,t){"."===t||"@"===t?nn(u,e):Wn(t)?e.state=22:nn(u,e)}function G(e,t){Rn(t)?e.state=25:nn(u,e)}function z(e,t){"."===t?e.state=27:"-"===t?e.state=26:Fn(t)||oe(e)}function K(e,t){"-"===t||"."===t?oe(e):Fn(t)?e.state=25:oe(e)}function q(e,t){"."===t||"-"===t?oe(e):Rn(t)?(e.state=25,e.acceptStateReached=!0):oe(e)}function H(e,t){Jn(t)?(e.state=29,e.acceptStateReached=!0):nn(u,e)}function W(e,t){Jn(t)||oe(e)}function j(e,t){Qn(t)?(e.state=31,e.acceptStateReached=!0):nn(u,e)}function J(e,t){Qn(t)||(mn.test(t)?nn(u,e):oe(e))}function X(e,t){an.test(t)?e.state=38:(nn(u,e),A(t))}function $(e,t){an.test(t)?e.state=33:nn(u,e),A(t)}function Y(e,t){an.test(t)?e.state=34:nn(u,e)}function Z(e,t){an.test(t)?e.state=35:nn(u,e)}function Q(e,t){")"===t?e.state=36:nn(u,e)}function ee(e,t){an.test(t)?e.state=38:sr(t)?e.state=39:nn(u,e)}function te(e,t){e.acceptStateReached=!0,ar(t)?e.state=40:"#"===t?e.state=41:an.test(t)||("("===t?e.state=32:sr(t)?e.state=39:(oe(e),Bn(t)&&u.push(hr(d,0))))}function ie(e,t){an.test(t)?e.state=38:"("===t?e.state=32:(oe(e),A(t))}function ne(e,t){ar(t)||("#"===t?e.state=41:an.test(t)?e.state=38:oe(e))}function re(e,t){ar(t)?e.state=40:an.test(t)?nn(u,e):oe(e)}function oe(t){if(nn(u,t),t.acceptStateReached){var c,h,p=t.startIdx,f=e.slice(t.startIdx,d);if(f=function(e){for(var t={"(":0,"{":0,"[":0},i=0;i<e.length;i++){var n=e.charAt(i);cr.test(n)?t[n]++:ur.test(n)&&t[dr[n]]--}for(var r,o=e.length-1;o>=0;)if(r=e.charAt(o),ur.test(r)){var s=dr[r];if(!(t[s]<0))break;t[s]++,o--}else{if(!En.test(r))break;o--}return e.slice(0,o+1)}(f),"url"===t.type){if("@"===e.charAt(t.startIdx-1))return;var m=t.matchType;if("scheme"===m){var A=Tn.exec(f);if(A&&(p+=A.index,f=f.slice(A.index)),!function(e){if(Mn.test(e))return!1;var t=e.match(kn);if(!t)return!1;var i=!!t[1],n=t[2];return!!i||!(-1===n.indexOf(".")||!sn.test(n))}(f))return}else if("tld"===m){if(!function(e){var t=e.match(In);if(!t)return!1;var i=t[0].split(".");return!(i.length<2||!Vn(i[i.length-1]))}(f))return}else if("ipV4"===m){if(!function(e){var t=e.split(Un,1)[0];return Nn.test(t)}(f))return}else on(m);l.push(new Kn({tagBuilder:i,matchedText:f,offset:p,urlMatchType:m,url:f,protocolRelativeMatch:"//"===f.slice(0,2),stripPrefix:n,stripTrailingSlash:r,decodePercentEncoding:o}))}else if("email"===t.type)Vn(f.split(".").pop()||"")&&l.push(new jn({tagBuilder:i,matchedText:f,offset:p,email:f.replace(qn,"")}));else if("hashtag"===t.type)f.length<=140&&l.push(new $n({tagBuilder:i,matchedText:f,offset:p,serviceName:s,hashtag:f.slice(1)}));else if("mention"===t.type)h=f,Yn[a].test(h)&&l.push(new tr({tagBuilder:i,matchedText:f,offset:p,serviceName:a,mention:f.slice(1)}));else if("phone"===t.type){if(("+"===(c=f=f.replace(/ +$/g,"")).charAt(0)||nr.test(c))&&or.test(c)){var g=f.replace(/[^0-9,;#]/g,"");l.push(new lr({tagBuilder:i,matchedText:f,offset:p,number:g,plusSign:"+"===f.charAt(0)}))}}else on(t)}}}(e,{tagBuilder:this.getTagBuilder(),stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding,hashtagServiceName:this.hashtag,mentionServiceName:this.mention||"twitter"}),n=0,r=i.length;n<r;n++)i[n].setOffset(t+i[n].getOffset());return i},e.prototype.link=function(e){if(!e)return"";this.sanitizeHtml&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"));for(var t=this.parse(e),i=[],n=0,r=0,o=t.length;r<o;r++){var s=t[r];i.push(e.substring(n,s.getOffset())),i.push(this.createMatchReturnVal(s)),n=s.getOffset()+s.getMatchedText().length}return i.push(e.substring(n)),i.join("")},e.prototype.createMatchReturnVal=function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof An?t.toAnchorString():e.buildTag().toAnchorString()},e.prototype.getTagBuilder=function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new gn({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e},e.version="4.1.0",e}();let _r;"undefined"!=typeof DOMParser&&(_r=new DOMParser);const yr=new gr({stripPrefix:!1,email:!1,replaceFn:function(e,t){return"scheme"===t.urlMatchType||"www"===t.urlMatchType}}),vr=2414016,br=16093e3,wr={gpx:[null,void 0,"http://www.topografix.com/GPX/1/1"]};function xr(e,t){let i=Tr(e,"id");return i=(0,f.A)(i)?i:(0,C.A)(),t.getOrCreateEntity(i)}function Cr(e){const t=Sr(e,"lon"),i=Sr(e,"lat"),n=Mr(e,"ele",wr.gpx);return Z.A.fromDegrees(t,i,n)}function Sr(e,t){if(!(0,f.A)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Tr(e,t){if(!(0,f.A)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Pr(e,t,i){if(!(0,f.A)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function Er(e,t,i){if(!(0,f.A)(e))return;const n=[],r=e.getElementsByTagName(t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function Mr(e,t,i){const n=Pr(e,t,i);if((0,f.A)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function kr(e,t,i){const n=Pr(e,t,i);if((0,f.A)(n))return n.textContent.trim()}function Ir(e){const t=new n.A;return t.width=32,t.height=32,t.scaleByDistance=new ge.A(vr,1,br,.1),t.pixelOffsetScaleByDistance=new ge.A(vr,1,br,.1),t.verticalOrigin=new q.A(Fe.A.BOTTOM),t.image=e,t}function Br(e){const t=new ut.A;return t.width=4,t.material=new ft,t.material.color=(0,f.A)(e)?e:h.A.RED,t.material.outlineWidth=2,t.material.outlineColor=h.A.BLACK,t}const Or={time:{text:"Time",tag:"time"},comment:{text:"Comment",tag:"cmt"},description:{text:"Description",tag:"desc"},source:{text:"Source",tag:"src"},number:{text:"GPS track/route number",tag:"number"},type:{text:"Type",tag:"type"}};let Rr;function Fr(e,t){let i,n="";const r=Object.keys(Or),o=r.length;for(i=0;i<o;i++){const t=r[i],o=Or[t];o.value=(0,p.A)(kr(e,o.tag,wr.gpx),""),(0,f.A)(o.value)&&""!==o.value&&(n=`${n}<p>${o.text}: ${o.value}</p>`)}if(!(0,f.A)(n)||""===n)return;n=yr.link(n),Rr.innerHTML=n;const s=Rr.querySelectorAll("a");for(i=0;i<s.length;i++)s[i].setAttribute("target","_blank");const a=h.A.WHITE,l=h.A.BLACK;let c='<div class="cesium-infoBox-description-lighter" style="';return c+="overflow:auto;",c+="word-wrap:break-word;",c+=`background-color:${a.toCssColorString()};`,c+=`color:${l.toCssColorString()};`,c+='">',c+=`${Rr.innerHTML}</div>`,Rr.innerHTML="",c}function Dr(e,t,i,n){const r=Cr(t),o=xr(t,i);o.position=r;const s=(0,f.A)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",h.A.RED,32);o.billboard=Ir(s);const a=kr(t,"name",wr.gpx);o.name=a,o.label=function(){const e=new Ze.A;return e.translucencyByDistance=new ge.A(3e6,1,5e6,0),e.pixelOffset=new d.A(17,0),e.horizontalOrigin=Be.A.LEFT,e.font="16px sans-serif",e.style=Oe.A.FILL_AND_OUTLINE,e}(),o.label.text=a,o.description=Fr(t),n.clampToGround&&(o.billboard.heightReference=Ie.A.CLAMP_TO_GROUND,o.label.heightReference=Ie.A.CLAMP_TO_GROUND)}function Lr(e){const t={positions:[],times:[]},i=Er(e,"trkpt",wr.gpx);let n;for(let e=0;e<i.length;e++){const r=Cr(i[e]);t.positions.push(r),n=kr(i[e],"time",wr.gpx),(0,f.A)(n)&&t.times.push(fe.A.fromIso8601(n))}return t}function Vr(e){const t=Pr(e,"author",wr.gpx);if((0,f.A)(t)){const e={name:kr(t,"name",wr.gpx),email:Nr(t),link:Ur(t)};if((0,f.A)(e.name)||(0,f.A)(e.email)||(0,f.A)(e.link))return e}}function Nr(e){const t=Pr(e,"email",wr.gpx);if((0,f.A)(t))return`${kr(t,"id",wr.gpx)}@${kr(t,"domain",wr.gpx)}`}function Ur(e){const t=Pr(e,"link",wr.gpx);if((0,f.A)(t)){const e={href:Tr(t,"href"),text:kr(t,"text",wr.gpx),mimeType:kr(t,"type",wr.gpx)};if((0,f.A)(e.href)||(0,f.A)(e.text)||(0,f.A)(e.mimeType))return e}}function Gr(e){const t=Pr(e,"copyright",wr.gpx);if((0,f.A)(t)){const e={author:Tr(t,"author"),year:kr(t,"year",wr.gpx),license:kr(t,"license",wr.gpx)};if((0,f.A)(e.author)||(0,f.A)(e.year)||(0,f.A)(e.license))return e}}function zr(e){const t=Pr(e,"bounds",wr.gpx);if((0,f.A)(t)){const e={minLat:Mr(t,"minlat",wr.gpx),maxLat:Mr(t,"maxlat",wr.gpx),minLon:Mr(t,"minlon",wr.gpx),maxLon:Mr(t,"maxlon",wr.gpx)};if((0,f.A)(e.minLat)||(0,f.A)(e.maxLat)||(0,f.A)(e.minLon)||(0,f.A)(e.maxLon))return e}}"undefined"!=typeof document&&(Rr=document.createElement("div"));const Kr={wpt:Dr,rte:function(e,t,i,n){const r=xr(t,i);r.description=Fr(t);const o=Er(t,"rtept",wr.gpx),s=new Array(o.length);for(let t=0;t<o.length;t++)Dr(e,o[t],i,n),s[t]=Cr(o[t]);r.polyline=Br(n.routeColor),n.clampToGround&&(r.polyline.clampToGround=!0),r.polyline.positions=s},trk:function(e,t,i,n){const r=xr(t,i);r.description=Fr(t);const o=Er(t,"trkseg",wr.gpx);let s,a=[],l=[],c=!0;const u=new St.A;for(let e=0;e<o.length;e++)s=Lr(o[e]),a=a.concat(s.positions),s.times.length>0?(l=l.concat(s.times),u.addSamples(l,a),c=c&&!0):c=!1;if(c){const t=(0,f.A)(n.waypointImage)?n.waypointImage:e._pinBuilder.fromMakiIconId("marker",h.A.RED,32);r.billboard=Ir(t),r.position=u,n.clampToGround&&(r.billboard.heightReference=Ie.A.CLAMP_TO_GROUND),r.availability=new Ee.A,r.availability.addInterval(new Pe.A({start:l[0],stop:l[l.length-1]}))}r.polyline=Br(n.trackColor),r.polyline.positions=a,n.clampToGround&&(r.polyline.clampToGround=!0)}};function qr(e,t,i){const n=e._entityCollection;n.removeAll();const r=t.documentElement,o=Tr(r,"version"),s=Tr(r,"creator");let a;const l=function(e){const t=Pr(e,"metadata",wr.gpx);if((0,f.A)(t)){const e={name:kr(t,"name",wr.gpx),desc:kr(t,"desc",wr.gpx),author:Vr(t),copyright:Gr(t),link:Ur(t),time:kr(t,"time",wr.gpx),keywords:kr(t,"keywords",wr.gpx),bounds:zr(t)};if((0,f.A)(e.name)||(0,f.A)(e.desc)||(0,f.A)(e.author)||(0,f.A)(e.copyright)||(0,f.A)(e.link)||(0,f.A)(e.time)||(0,f.A)(e.keywords)||(0,f.A)(e.bounds))return e}}(r);let c;(0,f.A)(l)&&(a=l.name),"gpx"===r.localName?function(e,t,i,n){const r=Object.keys(Kr),o=r.length;for(let s=0;s<o;s++){const o=r[s],a=Kr[o],l=t.childNodes,c=l.length;for(let t=0;t<c;t++){const r=l[t];r.localName===o&&-1!==wr.gpx.indexOf(r.namespaceURI)&&a(e,r,i,n)}}}(e,r,n,i):console.log(`GPX - Unsupported node: ${r.localName}`);const u=n.computeAvailability();let d=u.start,h=u.stop;const p=fe.A.equals(d,pe.A.MINIMUM_VALUE),m=fe.A.equals(h,pe.A.MAXIMUM_VALUE);if(!p||!m){let e;p&&(e=new Date,e.setHours(0,0,0,0),d=fe.A.fromDate(e)),m&&(e=new Date,e.setHours(24,0,0,0),h=fe.A.fromDate(e)),c=new Ge,c.startTime=d,c.stopTime=h,c.currentTime=fe.A.clone(d),c.clockRange=ee.A.LOOP_STOP,c.clockStep=te.A.SYSTEM_CLOCK_MULTIPLIER,c.multiplier=Math.round(Math.min(Math.max(fe.A.secondsDifference(h,d)/60,1),31556900))}let A=!1;return e._name!==a&&(e._name=a,A=!0),e._creator!==s&&(e._creator=s,A=!0),g=e._metadata,_=l,!(!(0,f.A)(g)&&!(0,f.A)(_)||(0,f.A)(g)&&(0,f.A)(_)&&g.name===_.name&&g.dec===_.desc&&g.src===_.src&&g.author===_.author&&g.copyright===_.copyright&&g.link===_.link&&g.time===_.time&&g.bounds===_.bounds)&&(e._metadata=l,A=!0),e._version!==o&&(e._version=o,A=!0),c!==e._clock&&(A=!0,e._clock=c),A&&e._changed.raiseEvent(e),Le.A.setLoading(e,!1),e;var g,_}function Hr(){this._changed=new m.A,this._error=new m.A,this._loading=new m.A,this._clock=void 0,this._entityCollection=new E.A(this),this._entityCluster=new qe.A,this._name=void 0,this._version=void 0,this._creator=void 0,this._metadata=void 0,this._isLoading=!1,this._pinBuilder=new en.A}Hr.load=function(e,t){return(new Hr).load(e,t)},Object.defineProperties(Hr.prototype,{name:{get:function(){return this._name}},version:{get:function(){return this._version}},creator:{get:function(){return this._creator}},metadata:{get:function(){return this._metadata}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}}}),Hr.prototype.update=function(e){return!0},Hr.prototype.load=function(e,t){if(!(0,f.A)(e))throw new S.A("data is required.");t=(0,p.A)(t,p.A.EMPTY_OBJECT),Le.A.setLoading(this,!0);const i=this._name,n=this;return function(e,t,i,n){n=(0,p.A)(n,p.A.EMPTY_OBJECT);let r=i;if("string"==typeof i||i instanceof we.A){r=(i=we.A.createIfNeeded(i)).fetchBlob();const t=e._resourceCredits,n=i.credits;if((0,f.A)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}return Promise.resolve(r).then((function(t){return t instanceof Blob?(i=t,new Promise(((e,t)=>{const n=new FileReader;n.addEventListener("load",(function(){e(n.result)})),n.addEventListener("error",(function(){t(n.error)})),n.readAsText(i)}))).then((function(t){let i,r;try{i=_r.parseFromString(t,"application/xml")}catch(e){r=e.toString()}if((0,f.A)(r)||i.body||"parsererror"===i.documentElement.tagName){let e=(0,f.A)(r)?r:i.documentElement.firstChild.nodeValue;throw e||(e=i.body.innerText),new xe.A(e)}return qr(e,i,n)})):qr(e,t,n);var i})).catch((function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)}))}(this,this._entityCollection,e,t).then((function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=fe.A.equals(r,pe.A.MINIMUM_VALUE),a=fe.A.equals(o,pe.A.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=fe.A.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=fe.A.fromDate(t)),e=new Ge,e.startTime=r,e.stopTime=o,e.currentTime=fe.A.clone(r),e.clockRange=ee.A.LOOP_STOP,e.clockStep=te.A.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(fe.A.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Le.A.setLoading(n,!1),n})).catch((function(e){return Le.A.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)}))};const Wr=Hr;var jr=i(817634);const Jr=function(e,t){this.position=e,this.headingPitchRoll=t};var Xr=i(288787),$r=i(303578),Yr=i(376758),Zr=i(345563),Qr=i(510986),eo=i(230259),to=i(805746),io=i(953612),no=i(548249),ro=i(983884),oo=i(612933),so=i(62467);const ao=-2;function lo(e){return co(e.map((([e,t])=>new Array(e).fill(t,0,e))))}function co(e){return e.reduce(((e,t)=>e.concat(Array.isArray(t)?co(t):t)),[])}const uo=[0,1,2,3].concat(...lo([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function ho(){const e=this;function t(e,t){let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}e.build_tree=function(i){const n=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.elems;let s,a,l,c=-1;for(i.heap_len=0,i.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(i.heap[++i.heap_len]=c=s,i.depth[s]=0):n[2*s+1]=0;for(;i.heap_len<2;)l=i.heap[++i.heap_len]=c<2?++c:0,n[2*l]=1,i.depth[l]=0,i.opt_len--,r&&(i.static_len-=r[2*l+1]);for(e.max_code=c,s=Math.floor(i.heap_len/2);s>=1;s--)i.pqdownheap(n,s);l=o;do{s=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(n,1),a=i.heap[1],i.heap[--i.heap_max]=s,i.heap[--i.heap_max]=a,n[2*l]=n[2*s]+n[2*a],i.depth[l]=Math.max(i.depth[s],i.depth[a])+1,n[2*s+1]=n[2*a+1]=l,i.heap[1]=l++,i.pqdownheap(n,1)}while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],function(t){const i=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,s=e.stat_desc.max_length;let a,l,c,u,d,h,p=0;for(u=0;u<=15;u++)t.bl_count[u]=0;for(i[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)l=t.heap[a],u=i[2*i[2*l+1]+1]+1,u>s&&(u=s,p++),i[2*l+1]=u,l>e.max_code||(t.bl_count[u]++,d=0,l>=o&&(d=r[l-o]),h=i[2*l],t.opt_len+=h*(u+d),n&&(t.static_len+=h*(n[2*l+1]+d)));if(0!==p){do{for(u=s-1;0===t.bl_count[u];)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[s]--,p-=2}while(p>0);for(u=s;0!==u;u--)for(l=t.bl_count[u];0!==l;)c=t.heap[--a],c>e.max_code||(i[2*c+1]!=u&&(t.opt_len+=(u-i[2*c+1])*i[2*c],i[2*c+1]=u),l--)}}(i),function(e,i,n){const r=[];let o,s,a,l=0;for(o=1;o<=15;o++)r[o]=l=l+n[o-1]<<1;for(s=0;s<=i;s++)a=e[2*s+1],0!==a&&(e[2*s]=t(r[a]++,a))}(n,e.max_code,i.bl_count)}}function po(e,t,i,n,r){const o=this;o.static_tree=e,o.extra_bits=t,o.extra_base=i,o.elems=n,o.max_length=r}ho._length_code=[0,1,2,3,4,5,6,7].concat(...lo([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),ho.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],ho.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],ho.d_code=function(e){return e<256?uo[e]:uo[256+(e>>>7)]},ho.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ho.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ho.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ho.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const fo=lo([[144,8],[112,9],[24,7],[8,8]]);po.static_ltree=co([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,fo[t]])));const mo=lo([[30,5]]);function Ao(e,t,i,n,r){const o=this;o.good_length=e,o.max_lazy=t,o.nice_length=i,o.max_chain=n,o.func=r}po.static_dtree=co([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,mo[t]]))),po.static_l_desc=new po(po.static_ltree,ho.extra_lbits,257,286,15),po.static_d_desc=new po(po.static_dtree,ho.extra_dbits,0,30,15),po.static_bl_desc=new po(null,ho.extra_blbits,0,19,7);const go=[new Ao(0,0,0,0,0),new Ao(4,4,8,4,1),new Ao(4,5,16,8,1),new Ao(4,6,32,32,1),new Ao(4,4,16,16,2),new Ao(8,16,32,32,2),new Ao(8,16,128,128,2),new Ao(8,32,128,256,2),new Ao(32,128,258,1024,2),new Ao(32,258,258,4096,2)],_o=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],yo=113,vo=666,bo=262;function wo(e,t,i,n){const r=e[2*t],o=e[2*i];return r<o||r==o&&n[t]<=n[i]}function xo(){const e=this;let t,i,n,r,o,s,a,l,c,u,d,h,p,f,m,A,g,_,y,v,b,w,x,C,S,T,P,E,M,k,I,B,O;const R=new ho,F=new ho,D=new ho;let L,V,N,U,G,z;function K(){let t;for(t=0;t<286;t++)I[2*t]=0;for(t=0;t<30;t++)B[2*t]=0;for(t=0;t<19;t++)O[2*t]=0;I[512]=1,e.opt_len=e.static_len=0,V=N=0}function q(e,t){let i,n=-1,r=e[1],o=0,s=7,a=4;0===r&&(s=138,a=3),e[2*(t+1)+1]=65535;for(let l=0;l<=t;l++)i=r,r=e[2*(l+1)+1],++o<s&&i==r||(o<a?O[2*i]+=o:0!==i?(i!=n&&O[2*i]++,O[32]++):o<=10?O[34]++:O[36]++,o=0,n=i,0===r?(s=138,a=3):i==r?(s=6,a=3):(s=7,a=4))}function H(t){e.pending_buf[e.pending++]=t}function W(e){H(255&e),H(e>>>8&255)}function j(e,t){let i;const n=t;z>16-n?(i=e,G|=i<<z&65535,W(G),G=i>>>16-z,z+=n-16):(G|=e<<z&65535,z+=n)}function J(e,t){const i=2*e;j(65535&t[i],65535&t[i+1])}function X(e,t){let i,n,r=-1,o=e[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),i=0;i<=t;i++)if(n=o,o=e[2*(i+1)+1],!(++s<a&&n==o)){if(s<l)do{J(n,O)}while(0!=--s);else 0!==n?(n!=r&&(J(n,O),s--),J(16,O),j(s-3,2)):s<=10?(J(17,O),j(s-3,3)):(J(18,O),j(s-11,7));s=0,r=n,0===o?(a=138,l=3):n==o?(a=6,l=3):(a=7,l=4)}}function $(){16==z?(W(G),G=0,z=0):z>=8&&(H(255&G),G>>>=8,z-=8)}function Y(t,i){let n,r,o;if(e.dist_buf[V]=t,e.lc_buf[V]=255&i,V++,0===t?I[2*i]++:(N++,t--,I[2*(ho._length_code[i]+256+1)]++,B[2*ho.d_code(t)]++),!(8191&V)&&P>2){for(n=8*V,r=b-g,o=0;o<30;o++)n+=B[2*o]*(5+ho.extra_dbits[o]);if(n>>>=3,N<Math.floor(V/2)&&n<Math.floor(r/2))return!0}return V==L-1}function Z(t,i){let n,r,o,s,a=0;if(0!==V)do{n=e.dist_buf[a],r=e.lc_buf[a],a++,0===n?J(r,t):(o=ho._length_code[r],J(o+256+1,t),s=ho.extra_lbits[o],0!==s&&(r-=ho.base_length[o],j(r,s)),n--,o=ho.d_code(n),J(o,i),s=ho.extra_dbits[o],0!==s&&(n-=ho.base_dist[o],j(n,s)))}while(a<V);J(256,t),U=t[513]}function Q(){z>8?W(G):z>0&&H(255&G),G=0,z=0}function ee(t,i,n){j(0+(n?1:0),3),function(t,i){Q(),U=8,W(i),W(~i),e.pending_buf.set(l.subarray(t,t+i),e.pending),e.pending+=i}(t,i)}function te(i){(function(t,i,n){let r,o,s=0;P>0?(R.build_tree(e),F.build_tree(e),s=function(){let t;for(q(I,R.max_code),q(B,F.max_code),D.build_tree(e),t=18;t>=3&&0===O[2*ho.bl_order[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!=t?ee(t,i,n):o==r?(j(2+(n?1:0),3),Z(po.static_ltree,po.static_dtree)):(j(4+(n?1:0),3),function(e,t,i){let n;for(j(e-257,5),j(t-1,5),j(i-4,4),n=0;n<i;n++)j(O[2*ho.bl_order[n]+1],3);X(I,e-1),X(B,t-1)}(R.max_code+1,F.max_code+1,s+1),Z(I,B)),K(),n&&Q()})(g>=0?g:-1,b-g,i),g=b,t.flush_pending()}function ie(){let e,i,n,r;do{if(r=c-x-b,0===r&&0===b&&0===x)r=o;else if(-1==r)r--;else if(b>=o+o-bo){l.set(l.subarray(o,o+o),0),w-=o,b-=o,g-=o,e=p,n=e;do{i=65535&d[--n],d[n]=i>=o?i-o:0}while(0!=--e);e=o,n=e;do{i=65535&u[--n],u[n]=i>=o?i-o:0}while(0!=--e);r+=o}if(0===t.avail_in)return;e=t.read_buf(l,b+x,r),x+=e,x>=3&&(h=255&l[b],h=(h<<A^255&l[b+1])&m)}while(x<bo&&0!==t.avail_in)}function ne(e){let t,i,n=S,r=b,s=C;const c=b>o-bo?b-(o-bo):0;let d=k;const h=a,p=b+258;let f=l[r+s-1],m=l[r+s];C>=M&&(n>>=2),d>x&&(d=x);do{if(t=e,l[t+s]==m&&l[t+s-1]==f&&l[t]==l[r]&&l[++t]==l[r+1]){r+=2,t++;do{}while(l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&l[++r]==l[++t]&&r<p);if(i=258-(p-r),r=p-258,i>s){if(w=e,s=i,i>=d)break;f=l[r+s-1],m=l[r+s]}}}while((e=65535&u[e&h])>c&&0!=--n);return s<=x?s:x}e.depth=[],e.bl_count=[],e.heap=[],I=[],B=[],O=[],e.pqdownheap=function(t,i){const n=e.heap,r=n[i];let o=i<<1;for(;o<=e.heap_len&&(o<e.heap_len&&wo(t,n[o+1],n[o],e.depth)&&o++,!wo(t,r,n[o],e.depth));)n[i]=n[o],i=o,o<<=1;n[i]=r},e.deflateInit=function(t,y,w,V,N,q){return V||(V=8),N||(N=8),q||(q=0),t.msg=null,-1==y&&(y=6),N<1||N>9||8!=V||w<9||w>15||y<0||y>9||q<0||q>2?ao:(t.dstate=e,s=w,o=1<<s,a=o-1,f=N+7,p=1<<f,m=p-1,A=Math.floor((f+3-1)/3),l=new Uint8Array(2*o),u=[],d=[],L=1<<N+6,e.pending_buf=new Uint8Array(4*L),n=4*L,e.dist_buf=new Uint16Array(L),e.lc_buf=new Uint8Array(L),P=y,E=q,function(t){return t.total_in=t.total_out=0,t.msg=null,e.pending=0,e.pending_out=0,i=yo,r=0,R.dyn_tree=I,R.stat_desc=po.static_l_desc,F.dyn_tree=B,F.stat_desc=po.static_d_desc,D.dyn_tree=O,D.stat_desc=po.static_bl_desc,G=0,z=0,U=8,K(),function(){c=2*o,d[p-1]=0;for(let e=0;e<p-1;e++)d[e]=0;T=go[P].max_lazy,M=go[P].good_length,k=go[P].nice_length,S=go[P].max_chain,b=0,g=0,x=0,_=C=2,v=0,h=0}(),0}(t))},e.deflateEnd=function(){return 42!=i&&i!=yo&&i!=vo?ao:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,d=null,u=null,l=null,e.dstate=null,i==yo?-3:0)},e.deflateParams=function(e,t,i){let n=0;return-1==t&&(t=6),t<0||t>9||i<0||i>2?ao:(go[P].func!=go[t].func&&0!==e.total_in&&(n=e.deflate(1)),P!=t&&(P=t,T=go[P].max_lazy,M=go[P].good_length,k=go[P].nice_length,S=go[P].max_chain),E=i,n)},e.deflateSetDictionary=function(e,t,n){let r,s=n,c=0;if(!t||42!=i)return ao;if(s<3)return 0;for(s>o-bo&&(s=o-bo,c=n-s),l.set(t.subarray(c,c+s),0),b=s,g=s,h=255&l[0],h=(h<<A^255&l[1])&m,r=0;r<=s-3;r++)h=(h<<A^255&l[r+2])&m,u[r&a]=d[h],d[h]=r;return 0},e.deflate=function(c,f){let S,M,k,I,B;if(f>4||f<0)return ao;if(!c.next_out||!c.next_in&&0!==c.avail_in||i==vo&&4!=f)return c.msg=_o[4],ao;if(0===c.avail_out)return c.msg=_o[7],-5;var O;if(t=c,I=r,r=f,42==i&&(M=8+(s-8<<4)<<8,k=(P-1&255)>>1,k>3&&(k=3),M|=k<<6,0!==b&&(M|=32),M+=31-M%31,i=yo,H((O=M)>>8&255),H(255&O)),0!==e.pending){if(t.flush_pending(),0===t.avail_out)return r=-1,0}else if(0===t.avail_in&&f<=I&&4!=f)return t.msg=_o[7],-5;if(i==vo&&0!==t.avail_in)return c.msg=_o[7],-5;if(0!==t.avail_in||0!==x||0!=f&&i!=vo){switch(B=-1,go[P].func){case 0:B=function(e){let i,r=65535;for(r>n-5&&(r=n-5);;){if(x<=1){if(ie(),0===x&&0==e)return 0;if(0===x)break}if(b+=x,x=0,i=g+r,(0===b||b>=i)&&(x=b-i,b=i,te(!1),0===t.avail_out))return 0;if(b-g>=o-bo&&(te(!1),0===t.avail_out))return 0}return te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f);break;case 1:B=function(e){let i,n=0;for(;;){if(x<bo){if(ie(),x<bo&&0==e)return 0;if(0===x)break}if(x>=3&&(h=(h<<A^255&l[b+2])&m,n=65535&d[h],u[b&a]=d[h],d[h]=b),0!==n&&(b-n&65535)<=o-bo&&2!=E&&(_=ne(n)),_>=3)if(i=Y(b-w,_-3),x-=_,_<=T&&x>=3){_--;do{b++,h=(h<<A^255&l[b+2])&m,n=65535&d[h],u[b&a]=d[h],d[h]=b}while(0!=--_);b++}else b+=_,_=0,h=255&l[b],h=(h<<A^255&l[b+1])&m;else i=Y(0,255&l[b]),x--,b++;if(i&&(te(!1),0===t.avail_out))return 0}return te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f);break;case 2:B=function(e){let i,n,r=0;for(;;){if(x<bo){if(ie(),x<bo&&0==e)return 0;if(0===x)break}if(x>=3&&(h=(h<<A^255&l[b+2])&m,r=65535&d[h],u[b&a]=d[h],d[h]=b),C=_,y=w,_=2,0!==r&&C<T&&(b-r&65535)<=o-bo&&(2!=E&&(_=ne(r)),_<=5&&(1==E||3==_&&b-w>4096)&&(_=2)),C>=3&&_<=C){n=b+x-3,i=Y(b-1-y,C-3),x-=C-1,C-=2;do{++b<=n&&(h=(h<<A^255&l[b+2])&m,r=65535&d[h],u[b&a]=d[h],d[h]=b)}while(0!=--C);if(v=0,_=2,b++,i&&(te(!1),0===t.avail_out))return 0}else if(0!==v){if(i=Y(0,255&l[b-1]),i&&te(!1),b++,x--,0===t.avail_out)return 0}else v=1,b++,x--}return 0!==v&&(i=Y(0,255&l[b-1]),v=0),te(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(f)}if(2!=B&&3!=B||(i=vo),0==B||2==B)return 0===t.avail_out&&(r=-1),0;if(1==B){if(1==f)j(2,3),J(256,po.static_ltree),$(),1+U+10-z<9&&(j(2,3),J(256,po.static_ltree),$()),U=7;else if(ee(0,0,!1),3==f)for(S=0;S<p;S++)d[S]=0;if(t.flush_pending(),0===t.avail_out)return r=-1,0}}return 4!=f?0:1}}function Co(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}Co.prototype={deflateInit:function(e,t){const i=this;return i.dstate=new xo,t||(t=15),i.dstate.deflateInit(i,e,t)},deflate:function(e){const t=this;return t.dstate?t.dstate.deflate(t,e):ao},deflateEnd:function(){const e=this;if(!e.dstate)return ao;const t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams:function(e,t){const i=this;return i.dstate?i.dstate.deflateParams(i,e,t):ao},deflateSetDictionary:function(e,t){const i=this;return i.dstate?i.dstate.deflateSetDictionary(i,e,t):ao},read_buf:function(e,t,i){const n=this;let r=n.avail_in;return r>i&&(r=i),0===r?0:(n.avail_in-=r,e.set(n.next_in.subarray(n.next_in_index,n.next_in_index+r),t),n.next_in_index+=r,n.total_in+=r,r)},flush_pending:function(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),0!==t&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,0===e.dstate.pending&&(e.dstate.pending_out=0))}};const So=-2,To=-3,Po=-5,Eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Mo=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ko=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],Io=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Bo=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],Oo=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Ro=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function Fo(){let e,t,i,n,r,o;function s(e,t,s,a,l,c,u,d,h,p,f){let m,A,g,_,y,v,b,w,x,C,S,T,P,E,M;C=0,y=s;do{i[e[t+C]]++,C++,y--}while(0!==y);if(i[0]==s)return u[0]=-1,d[0]=0,0;for(w=d[0],v=1;v<=15&&0===i[v];v++);for(b=v,w<v&&(w=v),y=15;0!==y&&0===i[y];y--);for(g=y,w>y&&(w=y),d[0]=w,E=1<<v;v<y;v++,E<<=1)if((E-=i[v])<0)return To;if((E-=i[y])<0)return To;for(i[y]+=E,o[1]=v=0,C=1,P=2;0!=--y;)o[P]=v+=i[C],P++,C++;y=0,C=0;do{0!==(v=e[t+C])&&(f[o[v]++]=y),C++}while(++y<s);for(s=o[g],o[0]=y=0,C=0,_=-1,T=-w,r[0]=0,S=0,M=0;b<=g;b++)for(m=i[b];0!=m--;){for(;b>T+w;){if(_++,T+=w,M=g-T,M=M>w?w:M,(A=1<<(v=b-T))>m+1&&(A-=m+1,P=b,v<M))for(;++v<M&&!((A<<=1)<=i[++P]);)A-=i[P];if(M=1<<v,p[0]+M>1440)return To;r[_]=S=p[0],p[0]+=M,0!==_?(o[_]=y,n[0]=v,n[1]=w,v=y>>>T-w,n[2]=S-r[_-1]-v,h.set(n,3*(r[_-1]+v))):u[0]=S}for(n[1]=b-T,C>=s?n[0]=192:f[C]<a?(n[0]=f[C]<256?0:96,n[2]=f[C++]):(n[0]=c[f[C]-a]+16+64,n[2]=l[f[C++]-a]),A=1<<b-T,v=y>>>T;v<M;v+=A)h.set(n,3*(S+v));for(v=1<<b-1;y&v;v>>>=1)y^=v;for(y^=v,x=(1<<T)-1;(y&x)!=o[_];)_--,T-=w,x=(1<<T)-1}return 0!==E&&1!=g?Po:0}function a(s){let a;for(e||(e=[],t=[],i=new Int32Array(16),n=[],r=new Int32Array(15),o=new Int32Array(16)),t.length<s&&(t=[]),a=0;a<s;a++)t[a]=0;for(a=0;a<16;a++)i[a]=0;for(a=0;a<3;a++)n[a]=0;r.set(i.subarray(0,15),0),o.set(i.subarray(0,16),0)}this.inflate_trees_bits=function(i,n,r,o,l){let c;return a(19),e[0]=0,c=s(i,0,19,19,null,null,r,n,o,e,t),c==To?l.msg="oversubscribed dynamic bit lengths tree":c!=Po&&0!==n[0]||(l.msg="incomplete dynamic bit lengths tree",c=To),c},this.inflate_trees_dynamic=function(i,n,r,o,l,c,u,d,h){let p;return a(288),e[0]=0,p=s(r,0,i,257,Io,Bo,c,o,d,e,t),0!=p||0===o[0]?(p==To?h.msg="oversubscribed literal/length tree":-4!=p&&(h.msg="incomplete literal/length tree",p=To),p):(a(288),p=s(r,i,n,0,Oo,Ro,u,l,d,e,t),0!=p||0===l[0]&&i>257?(p==To?h.msg="oversubscribed distance tree":p==Po?(h.msg="incomplete distance tree",p=To):-4!=p&&(h.msg="empty distance tree with lengths",p=To),p):0)}}function Do(){const e=this;let t,i,n,r,o=0,s=0,a=0,l=0,c=0,u=0,d=0,h=0,p=0,f=0;function m(e,t,i,n,r,o,s,a){let l,c,u,d,h,p,f,m,A,g,_,y,v,b,w,x;f=a.next_in_index,m=a.avail_in,h=s.bitb,p=s.bitk,A=s.write,g=A<s.read?s.read-A-1:s.end-A,_=Eo[e],y=Eo[t];do{for(;p<20;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;if(l=h&_,c=i,u=n,x=3*(u+l),0!==(d=c[x]))for(;;){if(h>>=c[x+1],p-=c[x+1],16&d){for(d&=15,v=c[x+2]+(h&Eo[d]),h>>=d,p-=d;p<15;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;for(l=h&y,c=r,u=o,x=3*(u+l),d=c[x];;){if(h>>=c[x+1],p-=c[x+1],16&d){for(d&=15;p<d;)m--,h|=(255&a.read_byte(f++))<<p,p+=8;if(b=c[x+2]+(h&Eo[d]),h>>=d,p-=d,g-=v,A>=b)w=A-b,A-w>0&&2>A-w?(s.win[A++]=s.win[w++],s.win[A++]=s.win[w++],v-=2):(s.win.set(s.win.subarray(w,w+2),A),A+=2,w+=2,v-=2);else{w=A-b;do{w+=s.end}while(w<0);if(d=s.end-w,v>d){if(v-=d,A-w>0&&d>A-w)do{s.win[A++]=s.win[w++]}while(0!=--d);else s.win.set(s.win.subarray(w,w+d),A),A+=d,w+=d,d=0;w=0}}if(A-w>0&&v>A-w)do{s.win[A++]=s.win[w++]}while(0!=--v);else s.win.set(s.win.subarray(w,w+v),A),A+=v,w+=v,v=0;break}if(64&d)return a.msg="invalid distance code",v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=A,To;l+=c[x+2],l+=h&Eo[d],x=3*(u+l),d=c[x]}break}if(64&d)return 32&d?(v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=A,1):(a.msg="invalid literal/length code",v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=A,To);if(l+=c[x+2],l+=h&Eo[d],x=3*(u+l),0===(d=c[x])){h>>=c[x+1],p-=c[x+1],s.win[A++]=c[x+2],g--;break}}else h>>=c[x+1],p-=c[x+1],s.win[A++]=c[x+2],g--}while(g>=258&&m>=10);return v=a.avail_in-m,v=p>>3<v?p>>3:v,m+=v,f-=v,p-=v<<3,s.bitb=h,s.bitk=p,a.avail_in=m,a.total_in+=f-a.next_in_index,a.next_in_index=f,s.write=A,0}e.init=function(e,o,s,a,l,c){t=0,d=e,h=o,n=s,p=a,r=l,f=c,i=null},e.proc=function(e,A,g){let _,y,v,b,w,x,C,S=0,T=0,P=0;for(P=A.next_in_index,b=A.avail_in,S=e.bitb,T=e.bitk,w=e.write,x=w<e.read?e.read-w-1:e.end-w;;)switch(t){case 0:if(x>=258&&b>=10&&(e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,g=m(d,h,n,p,r,f,e,A),P=A.next_in_index,b=A.avail_in,S=e.bitb,T=e.bitk,w=e.write,x=w<e.read?e.read-w-1:e.end-w,0!=g)){t=1==g?7:9;break}a=d,i=n,s=p,t=1;case 1:for(_=a;T<_;){if(0===b)return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);g=0,b--,S|=(255&A.read_byte(P++))<<T,T+=8}if(y=3*(s+(S&Eo[_])),S>>>=i[y+1],T-=i[y+1],v=i[y],0===v){l=i[y+2],t=6;break}if(16&v){c=15&v,o=i[y+2],t=2;break}if(!(64&v)){a=v,s=y/3+i[y+2];break}if(32&v){t=7;break}return t=9,A.msg="invalid literal/length code",g=To,e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);case 2:for(_=c;T<_;){if(0===b)return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);g=0,b--,S|=(255&A.read_byte(P++))<<T,T+=8}o+=S&Eo[_],S>>=_,T-=_,a=h,i=r,s=f,t=3;case 3:for(_=a;T<_;){if(0===b)return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);g=0,b--,S|=(255&A.read_byte(P++))<<T,T+=8}if(y=3*(s+(S&Eo[_])),S>>=i[y+1],T-=i[y+1],v=i[y],16&v){c=15&v,u=i[y+2],t=4;break}if(!(64&v)){a=v,s=y/3+i[y+2];break}return t=9,A.msg="invalid distance code",g=To,e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);case 4:for(_=c;T<_;){if(0===b)return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);g=0,b--,S|=(255&A.read_byte(P++))<<T,T+=8}u+=S&Eo[_],S>>=_,T-=_,t=5;case 5:for(C=w-u;C<0;)C+=e.end;for(;0!==o;){if(0===x&&(w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x&&(e.write=w,g=e.inflate_flush(A,g),w=e.write,x=w<e.read?e.read-w-1:e.end-w,w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x)))return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);e.win[w++]=e.win[C++],x--,C==e.end&&(C=0),o--}t=0;break;case 6:if(0===x&&(w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x&&(e.write=w,g=e.inflate_flush(A,g),w=e.write,x=w<e.read?e.read-w-1:e.end-w,w==e.end&&0!==e.read&&(w=0,x=w<e.read?e.read-w-1:e.end-w),0===x)))return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);g=0,e.win[w++]=l,x--,t=0;break;case 7:if(T>7&&(T-=8,b++,P--),e.write=w,g=e.inflate_flush(A,g),w=e.write,x=w<e.read?e.read-w-1:e.end-w,e.read!=e.write)return e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);t=8;case 8:return g=1,e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);case 9:return g=To,e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g);default:return g=So,e.bitb=S,e.bitk=T,A.avail_in=b,A.total_in+=P-A.next_in_index,A.next_in_index=P,e.write=w,e.inflate_flush(A,g)}},e.free=function(){}}Fo.inflate_trees_fixed=function(e,t,i,n){return e[0]=9,t[0]=5,i[0]=Mo,n[0]=ko,0};const Lo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function Vo(e,t){const i=this;let n,r=0,o=0,s=0,a=0;const l=[0],c=[0],u=new Do;let d=0,h=new Int32Array(4320);const p=new Fo;i.bitk=0,i.bitb=0,i.win=new Uint8Array(t),i.end=t,i.read=0,i.write=0,i.reset=function(e,t){t&&(t[0]=0),6==r&&u.free(e),r=0,i.bitk=0,i.bitb=0,i.read=i.write=0},i.reset(e,null),i.inflate_flush=function(e,t){let n,r,o;return r=e.next_out_index,o=i.read,n=(o<=i.write?i.write:i.end)-o,n>e.avail_out&&(n=e.avail_out),0!==n&&t==Po&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.win.subarray(o,o+n),r),r+=n,o+=n,o==i.end&&(o=0,i.write==i.end&&(i.write=0),n=i.write-o,n>e.avail_out&&(n=e.avail_out),0!==n&&t==Po&&(t=0),e.avail_out-=n,e.total_out+=n,e.next_out.set(i.win.subarray(o,o+n),r),r+=n,o+=n),e.next_out_index=r,i.read=o,t},i.proc=function(e,t){let f,m,A,g,_,y,v,b;for(g=e.next_in_index,_=e.avail_in,m=i.bitb,A=i.bitk,y=i.write,v=y<i.read?i.read-y-1:i.end-y;;){let w,x,C,S,T,P,E,M;switch(r){case 0:for(;A<3;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}switch(f=7&m,d=1&f,f>>>1){case 0:m>>>=3,A-=3,f=7&A,m>>>=f,A-=f,r=1;break;case 1:w=[],x=[],C=[[]],S=[[]],Fo.inflate_trees_fixed(w,x,C,S),u.init(w[0],x[0],C[0],0,S[0],0),m>>>=3,A-=3,r=6;break;case 2:m>>>=3,A-=3,r=3;break;case 3:return m>>>=3,A-=3,r=9,e.msg="invalid block type",t=To,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t)}break;case 1:for(;A<32;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}if((~m>>>16&65535)!=(65535&m))return r=9,e.msg="invalid stored block lengths",t=To,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);o=65535&m,m=A=0,r=0!==o?2:0!==d?7:0;break;case 2:if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);if(0===v&&(y==i.end&&0!==i.read&&(y=0,v=y<i.read?i.read-y-1:i.end-y),0===v&&(i.write=y,t=i.inflate_flush(e,t),y=i.write,v=y<i.read?i.read-y-1:i.end-y,y==i.end&&0!==i.read&&(y=0,v=y<i.read?i.read-y-1:i.end-y),0===v)))return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);if(t=0,f=o,f>_&&(f=_),f>v&&(f=v),i.win.set(e.read_buf(g,f),y),g+=f,_-=f,y+=f,v-=f,0!=(o-=f))break;r=0!==d?7:0;break;case 3:for(;A<14;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}if(s=f=16383&m,(31&f)>29||(f>>5&31)>29)return r=9,e.msg="too many length or distance symbols",t=To,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);if(f=258+(31&f)+(f>>5&31),!n||n.length<f)n=[];else for(b=0;b<f;b++)n[b]=0;m>>>=14,A-=14,a=0,r=4;case 4:for(;a<4+(s>>>10);){for(;A<3;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}n[Lo[a++]]=7&m,m>>>=3,A-=3}for(;a<19;)n[Lo[a++]]=0;if(l[0]=7,f=p.inflate_trees_bits(n,l,c,h,e),0!=f)return(t=f)==To&&(n=null,r=9),i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);a=0,r=5;case 5:for(;f=s,!(a>=258+(31&f)+(f>>5&31));){let o,u;for(f=l[0];A<f;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}if(f=h[3*(c[0]+(m&Eo[f]))+1],u=h[3*(c[0]+(m&Eo[f]))+2],u<16)m>>>=f,A-=f,n[a++]=u;else{for(b=18==u?7:u-14,o=18==u?11:3;A<f+b;){if(0===_)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);t=0,_--,m|=(255&e.read_byte(g++))<<A,A+=8}if(m>>>=f,A-=f,o+=m&Eo[b],m>>>=b,A-=b,b=a,f=s,b+o>258+(31&f)+(f>>5&31)||16==u&&b<1)return n=null,r=9,e.msg="invalid bit length repeat",t=To,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);u=16==u?n[b-1]:0;do{n[b++]=u}while(0!=--o);a=b}}if(c[0]=-1,T=[],P=[],E=[],M=[],T[0]=9,P[0]=6,f=s,f=p.inflate_trees_dynamic(257+(31&f),1+(f>>5&31),n,T,P,E,M,h,e),0!=f)return f==To&&(n=null,r=9),t=f,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);u.init(T[0],P[0],h,E[0],h,M[0]),r=6;case 6:if(i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,1!=(t=u.proc(i,e,t)))return i.inflate_flush(e,t);if(t=0,u.free(e),g=e.next_in_index,_=e.avail_in,m=i.bitb,A=i.bitk,y=i.write,v=y<i.read?i.read-y-1:i.end-y,0===d){r=0;break}r=7;case 7:if(i.write=y,t=i.inflate_flush(e,t),y=i.write,v=y<i.read?i.read-y-1:i.end-y,i.read!=i.write)return i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);r=8;case 8:return t=1,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);case 9:return t=To,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t);default:return t=So,i.bitb=m,i.bitk=A,e.avail_in=_,e.total_in+=g-e.next_in_index,e.next_in_index=g,i.write=y,i.inflate_flush(e,t)}}},i.free=function(e){i.reset(e,null),i.win=null,h=null},i.set_dictionary=function(e,t,n){i.win.set(e.subarray(t,t+n),0),i.read=i.write=n},i.sync_point=function(){return 1==r?1:0}}const No=13,Uo=[0,0,255,255];function Go(){const e=this;function t(e){return e&&e.istate?(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=7,e.istate.blocks.reset(e,null),0):So}e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0,e.inflateEnd=function(t){return e.blocks&&e.blocks.free(t),e.blocks=null,0},e.inflateInit=function(i,n){return i.msg=null,e.blocks=null,n<8||n>15?(e.inflateEnd(i),So):(e.wbits=n,i.istate.blocks=new Vo(i,1<<n),t(i),0)},e.inflate=function(e,t){let i,n;if(!e||!e.istate||!e.next_in)return So;const r=e.istate;for(t=4==t?Po:0,i=Po;;)switch(r.mode){case 0:if(0===e.avail_in)return i;if(i=t,e.avail_in--,e.total_in++,8!=(15&(r.method=e.read_byte(e.next_in_index++)))){r.mode=No,e.msg="unknown compression method",r.marker=5;break}if(8+(r.method>>4)>r.wbits){r.mode=No,e.msg="invalid win size",r.marker=5;break}r.mode=1;case 1:if(0===e.avail_in)return i;if(i=t,e.avail_in--,e.total_in++,n=255&e.read_byte(e.next_in_index++),((r.method<<8)+n)%31!=0){r.mode=No,e.msg="incorrect header check",r.marker=5;break}if(!(32&n)){r.mode=7;break}r.mode=2;case 2:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need=(255&e.read_byte(e.next_in_index++))<<24&4278190080,r.mode=3;case 3:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need+=(255&e.read_byte(e.next_in_index++))<<16&16711680,r.mode=4;case 4:if(0===e.avail_in)return i;i=t,e.avail_in--,e.total_in++,r.need+=(255&e.read_byte(e.next_in_index++))<<8&65280,r.mode=5;case 5:return 0===e.avail_in?i:(i=t,e.avail_in--,e.total_in++,r.need+=255&e.read_byte(e.next_in_index++),r.mode=6,2);case 6:return r.mode=No,e.msg="need dictionary",r.marker=0,So;case 7:if(i=r.blocks.proc(e,i),i==To){r.mode=No,r.marker=0;break}if(0==i&&(i=t),1!=i)return i;i=t,r.blocks.reset(e,r.was),r.mode=12;case 12:return e.avail_in=0,1;case No:return To;default:return So}},e.inflateSetDictionary=function(e,t,i){let n=0,r=i;if(!e||!e.istate||6!=e.istate.mode)return So;const o=e.istate;return r>=1<<o.wbits&&(r=(1<<o.wbits)-1,n=i-r),o.blocks.set_dictionary(t,n,r),o.mode=7,0},e.inflateSync=function(e){let i,n,r,o,s;if(!e||!e.istate)return So;const a=e.istate;if(a.mode!=No&&(a.mode=No,a.marker=0),0===(i=e.avail_in))return Po;for(n=e.next_in_index,r=a.marker;0!==i&&r<4;)e.read_byte(n)==Uo[r]?r++:r=0!==e.read_byte(n)?0:4-r,n++,i--;return e.total_in+=n-e.next_in_index,e.next_in_index=n,e.avail_in=i,a.marker=r,4!=r?To:(o=e.total_in,s=e.total_out,t(e),e.total_in=o,e.total_out=s,a.mode=7,0)},e.inflateSyncPoint=function(e){return e&&e.istate&&e.istate.blocks?e.istate.blocks.sync_point():So}}function zo(){}zo.prototype={inflateInit:function(e){const t=this;return t.istate=new Go,e||(e=15),t.istate.inflateInit(t,e)},inflate:function(e){const t=this;return t.istate?t.istate.inflate(t,e):So},inflateEnd:function(){const e=this;if(!e.istate)return So;const t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync:function(){const e=this;return e.istate?e.istate.inflateSync(e):So},inflateSetDictionary:function(e,t){const i=this;return i.istate?i.istate.inflateSetDictionary(i,e,t):So},read_byte:function(e){return this.next_in[e]},read_buf:function(e,t){return this.next_in.subarray(e,e+t)}};const Ko={chunkSize:524288,maxWorkers:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},qo=Object.assign({},Ko);function Ho(){return qo}function Wo(e){if(void 0!==e.baseURL&&(qo.baseURL=e.baseURL),void 0!==e.chunkSize&&(qo.chunkSize=e.chunkSize),void 0!==e.maxWorkers&&(qo.maxWorkers=e.maxWorkers),void 0!==e.terminateWorkerTimeout&&(qo.terminateWorkerTimeout=e.terminateWorkerTimeout),void 0!==e.useWebWorkers&&(qo.useWebWorkers=e.useWebWorkers),void 0!==e.Deflate&&(qo.Deflate=e.Deflate),void 0!==e.Inflate&&(qo.Inflate=e.Inflate),void 0!==e.workerScripts){if(e.workerScripts.deflate){if(!Array.isArray(e.workerScripts.deflate))throw new Error("workerScripts.deflate must be an array");qo.workerScripts||(qo.workerScripts={}),qo.workerScripts.deflate=e.workerScripts.deflate}if(e.workerScripts.inflate){if(!Array.isArray(e.workerScripts.inflate))throw new Error("workerScripts.inflate must be an array");qo.workerScripts||(qo.workerScripts={}),qo.workerScripts.inflate=e.workerScripts.inflate}}}const jo=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;jo[e]=t}const Jo=class{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let i=0,n=0|e.length;i<n;i++)t=t>>>8^jo[255&(t^e[i])];this.crc=t}get(){return~this.crc}},Xo=function(e){if("undefined"==typeof TextEncoder){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let i=0;i<t.length;i++)t[i]=e.charCodeAt(i);return t}return(new TextEncoder).encode(e)},$o={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const i=e[e.length-1],n=$o.getPartial(i);return 32===n?e.concat(t):$o._shiftRight(t,n,0|i,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(0===t)return 0;const i=e[t-1];return 32*(t-1)+$o.getPartial(i)},clamp(e,t){if(32*e.length<t)return e;const i=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,i>0&&t&&(e[i-1]=$o.partial(t,e[i-1]&2147483648>>t-1,1)),e},partial:(e,t,i)=>32===e?t:(i?0|t:t<<32-e)+1099511627776*e,getPartial:e=>Math.round(e/1099511627776)||32,_shiftRight(e,t,i,n){for(void 0===n&&(n=[]);t>=32;t-=32)n.push(i),i=0;if(0===t)return n.concat(e);for(let r=0;r<e.length;r++)n.push(i|e[r]>>>t),i=e[r]<<32-t;const r=e.length?e[e.length-1]:0,o=$o.getPartial(r);return n.push($o.partial(t+o&31,t+o>32?i:n.pop(),1)),n}},Yo={bytes:{fromBits(e){const t=$o.bitLength(e)/8,i=new Uint8Array(t);let n;for(let r=0;r<t;r++)3&r||(n=e[r/4]),i[r]=n>>>24,n<<=8;return i},toBits(e){const t=[];let i,n=0;for(i=0;i<e.length;i++)n=n<<8|e[i],3&~i||(t.push(n),n=0);return 3&i&&t.push($o.partial(8*(3&i),n)),t}}},Zo={sha1:function(e){e?(this._h=e._h.slice(0),this._buffer=e._buffer.slice(0),this._length=e._length):this.reset()}};Zo.sha1.prototype={blockSize:512,reset:function(){const e=this;return e._h=this._init.slice(0),e._buffer=[],e._length=0,e},update:function(e){const t=this;"string"==typeof e&&(e=Yo.utf8String.toBits(e));const i=t._buffer=$o.concat(t._buffer,e),n=t._length,r=t._length=n+$o.bitLength(e);if(r>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const o=new Uint32Array(i);let s=0;for(let e=t.blockSize+n-(t.blockSize+n&t.blockSize-1);e<=r;e+=t.blockSize)t._block(o.subarray(16*s,16*(s+1))),s+=1;return i.splice(0,16*s),t},finalize:function(){const e=this;let t=e._buffer;const i=e._h;t=$o.concat(t,[$o.partial(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(0|e._length);t.length;)e._block(t.splice(0,16));return e.reset(),i},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(e,t,i,n){return e<=19?t&i|~t&n:e<=39?t^i^n:e<=59?t&i|t&n|i&n:e<=79?t^i^n:void 0},_S:function(e,t){return t<<e|t>>>32-e},_block:function(e){const t=this,i=t._h,n=Array(80);for(let t=0;t<16;t++)n[t]=e[t];let r=i[0],o=i[1],s=i[2],a=i[3],l=i[4];for(let e=0;e<=79;e++){e>=16&&(n[e]=t._S(1,n[e-3]^n[e-8]^n[e-14]^n[e-16]));const i=t._S(5,r)+t._f(e,o,s,a)+l+n[e]+t._key[Math.floor(e/20)]|0;l=a,a=s,s=t._S(30,o),o=r,r=i}i[0]=i[0]+r|0,i[1]=i[1]+o|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0}};const Qo=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const i=t._tables[0][4],n=t._tables[1],r=e.length;let o,s,a,l=1;if(4!==r&&6!==r&&8!==r)throw new Error("invalid aes key size");for(t._key=[s=e.slice(0),a=[]],o=r;o<4*r+28;o++){let e=s[o-1];(o%r==0||8===r&&o%r==4)&&(e=i[e>>>24]<<24^i[e>>16&255]<<16^i[e>>8&255]<<8^i[255&e],o%r==0&&(e=e<<8^e>>>24^l<<24,l=l<<1^283*(l>>7))),s[o]=s[o-r]^e}for(let e=0;o;e++,o--){const t=s[3&e?o:o-4];a[e]=o<=4||e<4?t:n[0][i[t>>>24]]^n[1][i[t>>16&255]]^n[2][i[t>>8&255]]^n[3][i[255&t]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],i=e[4],n=t[4],r=[],o=[];let s,a,l,c;for(let e=0;e<256;e++)o[(r[e]=e<<1^283*(e>>7))^e]=e;for(let u=s=0;!i[u];u^=a||1,s=o[s]||1){let o=s^s<<1^s<<2^s<<3^s<<4;o=o>>8^255&o^99,i[u]=o,n[o]=u,c=r[l=r[a=r[u]]];let d=16843009*c^65537*l^257*a^16843008*u,h=257*r[o]^16843008*o;for(let i=0;i<4;i++)e[i][u]=h=h<<24^h>>>8,t[i][o]=d=d<<24^d>>>8}for(let i=0;i<5;i++)e[i]=e[i].slice(0),t[i]=t[i].slice(0)}_crypt(e,t){if(4!==e.length)throw new Error("invalid aes block size");const i=this._key[t],n=i.length/4-2,r=[0,0,0,0],o=this._tables[t],s=o[0],a=o[1],l=o[2],c=o[3],u=o[4];let d,h,p,f=e[0]^i[0],m=e[t?3:1]^i[1],A=e[2]^i[2],g=e[t?1:3]^i[3],_=4;for(let e=0;e<n;e++)d=s[f>>>24]^a[m>>16&255]^l[A>>8&255]^c[255&g]^i[_],h=s[m>>>24]^a[A>>16&255]^l[g>>8&255]^c[255&f]^i[_+1],p=s[A>>>24]^a[g>>16&255]^l[f>>8&255]^c[255&m]^i[_+2],g=s[g>>>24]^a[f>>16&255]^l[m>>8&255]^c[255&A]^i[_+3],_+=4,f=d,m=h,A=p;for(let e=0;e<4;e++)r[t?3&-e:e]=u[f>>>24]<<24^u[m>>16&255]<<16^u[A>>8&255]<<8^u[255&g]^i[_++],d=f,f=m,m=A,A=g,g=d;return r}},es={getRandomValues(e){const t=new Uint32Array(e.buffer),i=e=>{let t=987654321;const i=4294967295;return function(){return t=36969*(65535&t)+(t>>16)&i,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&i)&i)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let n,r=0;r<e.length;r+=4){const e=i(4294967296*(n||Math.random()));n=987654071*e(),t[r/4]=4294967296*e()|0}return e}},ts=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if(255&~(e>>24))e+=1<<24;else{let t=e>>16&255,i=e>>8&255,n=255&e;255===t?(t=0,255===i?(i=0,255===n?n=0:++n):++i):++t,e=0,e+=t<<16,e+=i<<8,e+=n}return e}incCounter(e){0===(e[0]=this.incWord(e[0]))&&(e[1]=this.incWord(e[1]))}calculate(e,t,i){let n;if(!(n=t.length))return[];const r=$o.bitLength(t);for(let r=0;r<n;r+=4){this.incCounter(i);const n=e.encrypt(i);t[r]^=n[0],t[r+1]^=n[1],t[r+2]^=n[2],t[r+3]^=n[3]}return $o.clamp(t,r)}},is={importKey:e=>new is.hmacSha1(Yo.bytes.toBits(e)),pbkdf2(e,t,i,n){if(i=i||1e4,n<0||i<0)throw new Error("invalid params to pbkdf2");const r=1+(n>>5)<<2;let o,s,a,l,c;const u=new ArrayBuffer(r),d=new DataView(u);let h=0;const p=$o;for(t=Yo.bytes.toBits(t),c=1;h<(r||1);c++){for(o=s=e.encrypt(p.concat(t,[c])),a=1;a<i;a++)for(s=e.encrypt(s),l=0;l<s.length;l++)o[l]^=s[l];for(a=0;h<(r||1)&&a<o.length;a++)d.setInt32(h,o[a]),h+=4}return u.slice(0,n/8)},hmacSha1:class{constructor(e){const t=this,i=t._hash=Zo.sha1,n=[[],[]],r=i.prototype.blockSize/32;t._baseHash=[new i,new i],e.length>r&&(e=i.hash(e));for(let t=0;t<r;t++)n[0][t]=909522486^e[t],n[1][t]=1549556828^e[t];t._baseHash[0].update(n[0]),t._baseHash[1].update(n[1]),t._resultHash=new i(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){this._updated=!0,this._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),i=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),i}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},ns="Invalid pasword",rs=16,os={name:"PBKDF2"},ss=Object.assign({hash:{name:"HMAC"}},os),as=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},os),ls=["deriveBits"],cs=[8,12,16],us=[16,24,32],ds=10,hs=[0,0,0,0],ps="undefined"!=typeof crypto,fs=ps&&void 0!==crypto.subtle,ms=Yo.bytes,As=Qo,gs=ts,_s=is.hmacSha1;class ys{constructor(e,t,i){Object.assign(this,{password:e,signed:t,strength:i-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;if(t.password){const i=Cs(e,0,cs[t.strength]+2);await async function(e,t,i){await ws(e,i,Cs(t,0,cs[e.strength]));const n=Cs(t,cs[e.strength]),r=e.keys.passwordVerification;if(r[0]!=n[0]||r[1]!=n[1])throw new Error(ns)}(t,i,t.password),t.password=null,t.aesCtrGladman=new gs(new As(t.keys.key),Array.from(hs)),t.hmac=new _s(t.keys.authentication),e=Cs(e,cs[t.strength]+2)}return bs(t,e,new Uint8Array(e.length-ds-(e.length-ds)%rs),0,ds,!0)}flush(){const e=this,t=e.pendingInput,i=Cs(t,0,t.length-ds),n=Cs(t,t.length-ds);let r=new Uint8Array(0);if(i.length){const t=ms.toBits(i);e.hmac.update(t);const n=e.aesCtrGladman.update(t);r=ms.fromBits(n)}let o=!0;if(e.signed){const t=Cs(ms.fromBits(e.hmac.digest()),0,ds);for(let e=0;e<ds;e++)t[e]!=n[e]&&(o=!1)}return{valid:o,data:r}}}class vs{constructor(e,t){Object.assign(this,{password:e,strength:t-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;let i=new Uint8Array(0);t.password&&(i=await async function(e,t){const i=(n=new Uint8Array(cs[e.strength]),ps&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(n):es.getRandomValues(n));var n;return await ws(e,t,i),xs(i,e.keys.passwordVerification)}(t,t.password),t.password=null,t.aesCtrGladman=new gs(new As(t.keys.key),Array.from(hs)),t.hmac=new _s(t.keys.authentication));const n=new Uint8Array(i.length+e.length-e.length%rs);return n.set(i,0),bs(t,e,n,i.length,0)}flush(){const e=this;let t=new Uint8Array(0);if(e.pendingInput.length){const i=e.aesCtrGladman.update(ms.toBits(e.pendingInput));e.hmac.update(i),t=ms.fromBits(i)}const i=Cs(ms.fromBits(e.hmac.digest()),0,ds);return{data:xs(t,i),signature:i}}}function bs(e,t,i,n,r,o){const s=t.length-r;let a;for(e.pendingInput.length&&(t=xs(e.pendingInput,t),i=function(e,t){if(t&&t>e.length){const i=e;(e=new Uint8Array(t)).set(i,0)}return e}(i,s-s%rs)),a=0;a<=s-rs;a+=rs){const r=ms.toBits(Cs(t,a,a+rs));o&&e.hmac.update(r);const s=e.aesCtrGladman.update(r);o||e.hmac.update(s),i.set(ms.fromBits(s),a+n)}return e.pendingInput=Cs(t,a),i}async function ws(e,t,i){const n=Xo(t),r=await function(e,t,i,n,r){return ps&&fs&&"function"==typeof crypto.subtle.importKey?crypto.subtle.importKey("raw",t,i,!1,r):is.importKey(t)}(0,n,ss,0,ls),o=await async function(e,t,i){return ps&&fs&&"function"==typeof crypto.subtle.deriveBits?await crypto.subtle.deriveBits(e,t,i):is.pbkdf2(t,e.salt,as.iterations,i)}(Object.assign({salt:i},as),r,8*(2*us[e.strength]+2)),s=new Uint8Array(o);e.keys={key:ms.toBits(Cs(s,0,us[e.strength])),authentication:ms.toBits(Cs(s,us[e.strength],2*us[e.strength])),passwordVerification:Cs(s,2*us[e.strength])}}function xs(e,t){let i=e;return e.length+t.length&&(i=new Uint8Array(e.length+t.length),i.set(e,0),i.set(t,e.length)),i}function Cs(e,t,i){return e.subarray(t,i)}class Ss{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ms(this,e)}append(e){const t=this;if(t.password){const i=Ps(t,e.subarray(0,12));if(t.password=null,i[11]!=t.passwordVerification)throw new Error(ns);e=e.subarray(12)}return Ps(t,e)}flush(){return{valid:!0,data:new Uint8Array(0)}}}class Ts{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ms(this,e)}append(e){const t=this;let i,n;if(t.password){t.password=null;const r=crypto.getRandomValues(new Uint8Array(12));r[11]=t.passwordVerification,i=new Uint8Array(e.length+r.length),i.set(Es(t,r),0),n=12}else i=new Uint8Array(e.length),n=0;return i.set(Es(t,e),n),i}flush(){return{data:new Uint8Array(0)}}}function Ps(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=Is(e)^t[n],ks(e,i[n]);return i}function Es(e,t){const i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=Is(e)^t[n],ks(e,t[n]);return i}function Ms(e,t){e.keys=[305419896,591751049,878082192],e.crcKey0=new Jo(e.keys[0]),e.crcKey2=new Jo(e.keys[2]);for(let i=0;i<t.length;i++)ks(e,t.charCodeAt(i))}function ks(e,t){e.crcKey0.append([t]),e.keys[0]=~e.crcKey0.get(),e.keys[1]=Os(e.keys[1]+Bs(e.keys[0])),e.keys[1]=Os(Math.imul(e.keys[1],134775813)+1),e.crcKey2.append([e.keys[1]>>>24]),e.keys[2]=~e.crcKey2.get()}function Is(e){const t=2|e.keys[2];return Bs(Math.imul(t,1^t)>>>8)}function Bs(e){return 255&e}function Os(e){return 4294967295&e}const Rs="deflate",Fs="inflate",Ds="Invalid signature";class Ls{constructor(e,{signature:t,password:i,signed:n,compressed:r,zipCrypto:o,passwordVerification:s,encryptionStrength:a},{chunkSize:l}){const c=Boolean(i);Object.assign(this,{signature:t,encrypted:c,signed:n,compressed:r,inflate:r&&new e({chunkSize:l}),crc32:n&&new Jo,zipCrypto:o,decrypt:c&&o?new Ss(i,s):new ys(i,n,a)})}async append(e){const t=this;return t.encrypted&&e.length&&(e=await t.decrypt.append(e)),t.compressed&&e.length&&(e=await t.inflate.append(e)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),e}async flush(){const e=this;let t,i=new Uint8Array(0);if(e.encrypted){const t=e.decrypt.flush();if(!t.valid)throw new Error(Ds);i=t.data}if((!e.encrypted||e.zipCrypto)&&e.signed){const i=new DataView(new Uint8Array(4).buffer);if(t=e.crc32.get(),i.setUint32(0,t),e.signature!=i.getUint32(0,!1))throw new Error(Ds)}return e.compressed&&(i=await e.inflate.append(i)||new Uint8Array(0),await e.inflate.flush()),{data:i,signature:t}}}class Vs{constructor(e,{encrypted:t,signed:i,compressed:n,level:r,zipCrypto:o,password:s,passwordVerification:a,encryptionStrength:l},{chunkSize:c}){Object.assign(this,{encrypted:t,signed:i,compressed:n,deflate:n&&new e({level:r||5,chunkSize:c}),crc32:i&&new Jo,zipCrypto:o,encrypt:t&&o?new Ts(s,a):new vs(s,l)})}async append(e){const t=this;let i=e;return t.compressed&&e.length&&(i=await t.deflate.append(e)),t.encrypted&&i.length&&(i=await t.encrypt.append(i)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),i}async flush(){const e=this;let t,i=new Uint8Array(0);if(e.compressed&&(i=await e.deflate.flush()||new Uint8Array(0)),e.encrypted){i=await e.encrypt.append(i);const n=e.encrypt.flush();t=n.signature;const r=new Uint8Array(i.length+n.data.length);r.set(i,0),r.set(n.data,i.length),i=r}return e.encrypted&&!e.zipCrypto||!e.signed||(t=e.crc32.get()),{data:i,signature:t}}}const Ns="init",Us="append",Gs="flush";let zs=!0;const Ks=(e,t,i,n,r,o,s)=>(Object.assign(e,{busy:!0,codecConstructor:t,options:Object.assign({},i),scripts:s,terminate(){e.worker&&!e.busy&&(e.worker.terminate(),e.interface=null)},onTaskFinished(){e.busy=!1,r(e)}}),o?function(e,t){let i;const n={type:"module"};if(!e.interface){if(zs)try{e.worker=r({},t.baseURL)}catch(i){zs=!1,e.worker=r(n,t.baseURL)}else e.worker=r(n,t.baseURL);e.worker.addEventListener("message",(function(t){const n=t.data;if(i){const t=n.error,r=n.type;if(t){const n=new Error(t.message);n.stack=t.stack,i.reject(n),i=null,e.onTaskFinished()}else if(r==Ns||r==Gs||r==Us){const t=n.data;r==Gs?(i.resolve({data:new Uint8Array(t),signature:n.signature}),i=null,e.onTaskFinished()):i.resolve(t&&new Uint8Array(t))}}}),!1),e.interface={append:e=>o({type:Us,data:e}),flush:()=>o({type:Gs}),abort(){e.onTaskFinished()}}}return e.interface;function r(t,i){let n,r;n=e.scripts[0],"function"==typeof n&&(n=n());try{r=new URL(n,i)}catch(e){r=n}return new Worker(r,t)}async function o(n){if(!i){const i=e.options,n=e.scripts.slice(1);await s({scripts:n,type:Ns,options:i,config:{chunkSize:t.chunkSize}})}return s(n)}function s(t){const n=e.worker,r=new Promise(((e,t)=>i={resolve:e,reject:t}));try{if(t.data)try{t.data=t.data.buffer,n.postMessage(t,[t.data])}catch(e){n.postMessage(t)}else n.postMessage(t)}catch(t){i.reject(t),i=null,e.onTaskFinished()}return r}}(e,n):function(e,t){const i=function(e,t,i){return t.codecType.startsWith(Rs)?new Vs(e,t,i):t.codecType.startsWith(Fs)?new Ls(e,t,i):void 0}(e.codecConstructor,e.options,t);return{async append(t){try{return await i.append(t)}catch(t){throw e.onTaskFinished(),t}},async flush(){try{return await i.flush()}finally{e.onTaskFinished()}},abort(){e.onTaskFinished()}}}(e,n));let qs=[];const Hs=[];function Ws(e,t,i){const n=!(!t.compressed&&!t.signed&&!t.encrypted)&&(t.useWebWorkers||void 0===t.useWebWorkers&&i.useWebWorkers),r=n&&i.workerScripts?i.workerScripts[t.codecType]:[];if(qs.length<i.maxWorkers){const s={};return qs.push(s),Ks(s,e,t,i,o,n,r)}{const s=qs.find((e=>!e.busy));return s?(js(s),Ks(s,e,t,i,o,n,r)):new Promise((i=>Hs.push({resolve:i,codecConstructor:e,options:t,webWorker:n,scripts:r})))}function o(e){if(Hs.length){const[{resolve:t,codecConstructor:n,options:r,webWorker:s,scripts:a}]=Hs.splice(0,1);t(Ks(e,n,r,i,o,s,a))}else e.worker?(js(e),Number.isFinite(i.terminateWorkerTimeout)&&i.terminateWorkerTimeout>=0&&(e.terminateTimeout=setTimeout((()=>{qs=qs.filter((t=>t!=e)),e.terminate()}),i.terminateWorkerTimeout))):qs=qs.filter((t=>t!=e))}}function js(e){e.terminateTimeout&&(clearTimeout(e.terminateTimeout),e.terminateTimeout=null)}const Js="text/plain";class Xs{constructor(){this.size=0}init(){this.initialized=!0}}class $s extends Xs{}class Ys extends Xs{writeUint8Array(e){this.size+=e.length}}class Zs extends $s{constructor(e){super(),this.blobReader=new ta(new Blob([e],{type:Js}))}init(){super.init(),this.blobReader.init(),this.size=this.blobReader.size}readUint8Array(e,t){return this.blobReader.readUint8Array(e,t)}}class Qs extends Ys{constructor(e){super(),this.encoding=e,this.blob=new Blob([],{type:Js})}writeUint8Array(e){super.writeUint8Array(e),this.blob=new Blob([this.blob,e.buffer],{type:Js})}getData(){if(this.blob.text)return this.blob.text();{const e=new FileReader;return new Promise(((t,i)=>{e.onload=e=>t(e.target.result),e.onerror=()=>i(e.error),e.readAsText(this.blob,this.encoding)}))}}}class ea extends Ys{constructor(e){super(),this.data="data:"+(e||"")+";base64,",this.pending=[]}writeUint8Array(e){super.writeUint8Array(e);let t=0,i=this.pending;const n=this.pending.length;for(this.pending="",t=0;t<3*Math.floor((n+e.length)/3)-n;t++)i+=String.fromCharCode(e[t]);for(;t<e.length;t++)this.pending+=String.fromCharCode(e[t]);i.length>2?this.data+=btoa(i):this.pending=i}getData(){return this.data+btoa(this.pending)}}class ta extends $s{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(e,t){if(this.blob.arrayBuffer)return new Uint8Array(await this.blob.slice(e,e+t).arrayBuffer());{const i=new FileReader;return new Promise(((n,r)=>{i.onload=e=>n(new Uint8Array(e.target.result)),i.onerror=()=>r(i.error),i.readAsArrayBuffer(this.blob.slice(e,e+t))}))}}}class ia extends Ys{constructor(e){super(),this.contentType=e,this.arrayBuffersMaxlength=8,na(this)}writeUint8Array(e){super.writeUint8Array(e),this.arrayBuffers.length==this.arrayBuffersMaxlength&&ra(this),this.arrayBuffers.push(e.buffer)}getData(){return this.blob||(this.arrayBuffers.length&&ra(this),this.blob=this.pendingBlob,na(this)),this.blob}}function na(e){e.pendingBlob=new Blob([],{type:e.contentType}),e.arrayBuffers=[]}function ra(e){e.pendingBlob=new Blob([e.pendingBlob,...e.arrayBuffers],{type:e.contentType}),e.arrayBuffers=[]}const oa=4294967295,sa=65535,aa=67324752,la=33639248,ca=101010256,ua=101075792,da=117853008,ha=21589,pa=2048,fa="/",ma=new Date(2107,11,31),Aa=new Date(1980,0,1),ga="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split(""),_a=function(e,t){if(t&&"cp437"==t.trim().toLowerCase())return(e=>{let t="";for(let i=0;i<e.length;i++)t+=ga[e[i]];return t})(e);if("undefined"==typeof TextDecoder){const t=new FileReader;return new Promise(((i,n)=>{t.onload=e=>i(e.target.result),t.onerror=()=>n(t.error),t.readAsText(new Blob([e]))}))}return new TextDecoder(t).decode(e)};async function ya(e,t,i,n,r,o,s){const a=Math.max(o.chunkSize,64);return async function o(l=0,c=0){const u=s.signal,d=r();if(l<d){va(u,e);const r=await t.readUint8Array(l+n,Math.min(a,d-l)),h=r.length;va(u,e);const p=await e.append(r);if(va(u,e),c+=await ba(i,p),s.onprogress)try{s.onprogress(l+h,d)}catch(e){}return o(l+a,c)}{const t=await e.flush();return c+=await ba(i,t.data),{signature:t.signature,length:c}}}()}function va(e,t){if(e&&e.aborted)throw t.abort(),new Error("Abort error")}async function ba(e,t){return t.length&&await e.writeUint8Array(t),t.length}const wa=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class xa{constructor(e){wa.forEach((t=>this[t]=e[t]))}}const Ca="File format is not recognized",Sa="Compression method not supported",Ta="utf-8",Pa="cp437",Ea=["uncompressedSize","compressedSize","offset"];class Ma{constructor(e,t={}){Object.assign(this,{reader:e,options:t,config:Ho()})}async*getEntriesGenerator(e={}){const t=this,i=t.reader;if(i.initialized||await i.init(),i.size<22)throw new Error(Ca);const n=await async function(e,t,i){const n=new Uint8Array(4);var r,o;r=Ga(n),o=t,r.setUint32(0,o,!0);return await s(22)||await s(Math.min(1048582,i));async function s(t){const r=i-t,o=await za(e,r,t);for(let e=o.length-22;e>=0;e--)if(o[e]==n[0]&&o[e+1]==n[1]&&o[e+2]==n[2]&&o[e+3]==n[3])return{offset:r+e,buffer:o.slice(e,e+22).buffer}}}(i,ca,i.size);if(!n)throw new Error("End of central directory not found");const r=Ga(n);let o=Na(r,12),s=Na(r,16),a=Va(r,8),l=0;if(s==oa||o==oa||a==sa){const e=Ga(await za(i,n.offset-20,20));if(Na(e,0)!=da)throw new Error("End of Zip64 central directory not found");s=Ua(e,8);let t=await za(i,s,56),r=Ga(t);const c=n.offset-20-56;if(Na(r,0)!=ua&&s!=c){const e=s;s=c,l=s-e,t=await za(i,s,56),r=Ga(t)}if(Na(r,0)!=ua)throw new Error("End of Zip64 central directory locator not found");a=Ua(r,32),o=Ua(r,40),s-=o}if(s<0||s>=i.size)throw new Error(Ca);let c=0,u=await za(i,s,o),d=Ga(u);if(o){const e=n.offset-o;if(Na(d,c)!=la&&s!=e){const t=s;s=e,l=s-t,u=await za(i,s,o),d=Ga(u)}}if(s<0||s>=i.size)throw new Error(Ca);for(let n=0;n<a;n++){const r=new ka(i,t.config,t.options);if(Na(d,c)!=la)throw new Error("Central directory header not found");Ia(r,d,c+6);const o=Boolean(r.bitFlag.languageEncodingFlag),s=c+46,h=s+r.filenameLength,p=h+r.extraFieldLength,f=Va(d,c+4),m=!0;Object.assign(r,{versionMadeBy:f,msDosCompatible:m,compressedSize:0,uncompressedSize:0,commentLength:Va(d,c+32),directory:m&&!(16&~La(d,c+38)),offset:Na(d,c+42)+l,internalFileAttribute:Na(d,c+34),externalFileAttribute:Na(d,c+38),rawFilename:u.subarray(s,h),filenameUTF8:o,commentUTF8:o,rawExtraField:u.subarray(h,p)});const A=p+r.commentLength;r.rawComment=u.subarray(p,A);const g=Ra(t,e,"filenameEncoding"),_=Ra(t,e,"commentEncoding"),[y,v]=await Promise.all([_a(r.rawFilename,r.filenameUTF8?Ta:g||Pa),_a(r.rawComment,r.commentUTF8?Ta:_||Pa)]);r.filename=y,r.comment=v,!r.directory&&r.filename.endsWith(fa)&&(r.directory=!0),await Ba(r,r,d,c+6);const b=new xa(r);if(b.getData=(e,t)=>r.getData(e,b,t),c=A,e.onprogress)try{e.onprogress(n+1,a,new xa(r))}catch(e){}yield b}return!0}async getEntries(e={}){const t=[],i=this.getEntriesGenerator(e);let n=i.next();for(;!(await n).done;)t.push((await n).value),n=i.next();return t}async close(){}}class ka{constructor(e,t,i){Object.assign(this,{reader:e,config:t,options:i})}async getData(e,t,i={}){const n=this,{reader:r,offset:o,extraFieldAES:s,compressionMethod:a,config:l,bitFlag:c,signature:u,rawLastModDate:d,compressedSize:h}=n,p=n.localDirectory={};r.initialized||await r.init();let f=await za(r,o,30);const m=Ga(f);let A=Ra(n,i,"password");if(A=A&&A.length&&A,s&&99!=s.originalCompressionMethod)throw new Error(Sa);if(0!=a&&8!=a)throw new Error(Sa);if(Na(m,0)!=aa)throw new Error("Local file header not found");Ia(p,m,4),f=await za(r,o,30+p.filenameLength+p.extraFieldLength),p.rawExtraField=f.subarray(30+p.filenameLength),await Ba(n,p,m,4),t.lastAccessDate=p.lastAccessDate,t.creationDate=p.creationDate;const g=n.encrypted&&p.encrypted,_=g&&!s;if(g){if(!_&&void 0===s.strength)throw new Error("Encryption method not supported");if(!A)throw new Error("File contains encrypted entry")}const y=await Ws(l.Inflate,{codecType:Fs,password:A,zipCrypto:_,encryptionStrength:s&&s.strength,signed:Ra(n,i,"checkSignature"),passwordVerification:_&&(c.dataDescriptor?d>>>8&255:u>>>24&255),signature:u,compressed:0!=a,encrypted:g,useWebWorkers:Ra(n,i,"useWebWorkers")},l);e.initialized||await e.init();const v=Ra(n,i,"signal"),b=o+30+p.filenameLength+p.extraFieldLength;return await ya(y,r,e,b,(()=>h),l,{onprogress:i.onprogress,signal:v}),e.getData()}}function Ia(e,t,i){const n=e.rawBitFlag=Va(t,i+2),r=!(1&~n),o=Na(t,i+6);Object.assign(e,{encrypted:r,version:Va(t,i),bitFlag:{level:(6&n)>>1,dataDescriptor:!(8&~n),languageEncodingFlag:(n&pa)==pa},rawLastModDate:o,lastModDate:Fa(o),filenameLength:Va(t,i+22),extraFieldLength:Va(t,i+24)})}async function Ba(e,t,i,n){const r=t.rawExtraField,o=t.extraField=new Map,s=Ga(new Uint8Array(r));let a=0;try{for(;a<r.length;){const e=Va(s,a),t=Va(s,a+2);o.set(e,{type:e,data:r.slice(a+4,a+4+t)}),a+=4+t}}catch(e){}const l=Va(i,n+4);t.signature=Na(i,n+10),t.uncompressedSize=Na(i,n+18),t.compressedSize=Na(i,n+14);const c=o.get(1);c&&(function(e,t){t.zip64=!0;const i=Ga(e.data);e.values=[];for(let t=0;t<Math.floor(e.data.length/8);t++)e.values.push(Ua(i,0+8*t));const n=Ea.filter((e=>t[e]==oa));for(let t=0;t<n.length;t++)e[n[t]]=e.values[t];Ea.forEach((i=>{if(t[i]==oa){if(void 0===e[i])throw new Error("Zip64 extra field not found");t[i]=e[i]}}))}(c,t),t.extraFieldZip64=c);const u=o.get(28789);u&&(await Oa(u,"filename","rawFilename",t,e),t.extraFieldUnicodePath=u);const d=o.get(25461);d&&(await Oa(d,"comment","rawComment",t,e),t.extraFieldUnicodeComment=d);const h=o.get(39169);h?(function(e,t,i){const n=Ga(e.data);e.vendorVersion=La(n,0),e.vendorId=La(n,2);const r=La(n,4);e.strength=r,e.originalCompressionMethod=i,t.compressionMethod=e.compressionMethod=Va(n,5)}(h,t,l),t.extraFieldAES=h):t.compressionMethod=l;const p=o.get(10);p&&(function(e,t){const i=Ga(e.data);let n,r=4;try{for(;r<e.data.length&&!n;){const t=Va(i,r),o=Va(i,r+2);1==t&&(n=e.data.slice(r+4,r+4+o)),r+=4+o}}catch(e){}try{if(n&&24==n.length){const i=Ga(n),r=i.getBigUint64(0,!0),o=i.getBigUint64(8,!0),s=i.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:r,rawLastAccessDate:o,rawCreationDate:s});const a=Da(r),l={lastModDate:a,lastAccessDate:Da(o),creationDate:Da(s)};Object.assign(e,l),Object.assign(t,l)}}catch(e){}}(p,t),t.extraFieldNTFS=p);const f=o.get(ha);f&&(function(e,t){const i=Ga(e.data),n=La(i,0),r=[],o=[];1&~n||(r.push("lastModDate"),o.push("rawLastModDate")),2&~n||(r.push("lastAccessDate"),o.push("rawLastAccessDate")),4&~n||(r.push("creationDate"),o.push("rawCreationDate"));let s=1;r.forEach(((n,r)=>{if(e.data.length>=s+4){const a=Na(i,s);t[n]=e[n]=new Date(1e3*a);const l=o[r];e[l]=a}s+=4}))}(f,t),t.extraFieldExtendedTimestamp=f)}async function Oa(e,t,i,n,r){const o=Ga(e.data);e.version=La(o,0),e.signature=Na(o,1);const s=new Jo;s.append(r[i]);const a=Ga(new Uint8Array(4));a.setUint32(0,s.get(),!0),e[t]=await _a(e.data.subarray(5)),e.valid=!r.bitFlag.languageEncodingFlag&&e.signature==Na(a,0),e.valid&&(n[t]=e[t],n[t+"UTF8"]=!0)}function Ra(e,t,i){return void 0===t[i]?e.options[i]:t[i]}function Fa(e){const t=(4294901760&e)>>16,i=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&i)>>11,(2016&i)>>5,2*(31&i),0)}catch(e){}}function Da(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function La(e,t){return e.getUint8(t)}function Va(e,t){return e.getUint16(t,!0)}function Na(e,t){return e.getUint32(t,!0)}function Ua(e,t){return Number(e.getBigUint64(t,!0))}function Ga(e){return new DataView(e.buffer)}function za(e,t,i){return e.readUint8Array(t,i)}const Ka="Version exceeds 65535",qa="Zip64 is not supported",Ha=new Uint8Array([7,0,2,0,65,69,3,0,0]);let Wa=0;class ja{constructor(e,t={}){Object.assign(this,{writer:e,options:t,config:Ho(),files:new Map,offset:e.size,pendingCompressedSize:0,pendingEntries:[],pendingAddFileCalls:new Set})}async add(e="",t,i={}){const n=this;if(!(Wa<n.config.maxWorkers))return new Promise(((r,o)=>n.pendingEntries.push({name:e,reader:t,options:i,resolve:r,reject:o})));{let r;Wa++;try{return r=async function(e,t,i,n){if(t=t.trim(),n.directory&&!t.endsWith(fa)?t+=fa:n.directory=t.endsWith(fa),e.files.has(t))throw new Error("File already exists");const r=Xo(t);if(r.length>sa)throw new Error("File entry name exceeds 64KB");const o=n.comment||"",s=Xo(o);if(s.length>sa)throw new Error("File entry comment exceeds 64KB");const a=e.options.version||n.version||0;if(a>sa)throw new Error(Ka);const l=e.options.versionMadeBy||n.versionMadeBy||20;if(l>sa)throw new Error(Ka);const c=$a(e,n,"lastModDate")||new Date,u=$a(e,n,"lastAccessDate"),d=$a(e,n,"creationDate"),h=$a(e,n,"password"),p=$a(e,n,"encryptionStrength")||3,f=$a(e,n,"zipCrypto");if(void 0!==h&&void 0!==p&&(p<1||p>3))throw new Error("The strength must equal 1, 2, or 3");let m=new Uint8Array(0);const A=n.extraField;if(A){let e=0,t=0;A.forEach((t=>e+=4+t.length)),m=new Uint8Array(e),A.forEach(((e,i)=>{if(i>sa)throw new Error("Extra field type exceeds 65535");if(e.length>sa)throw new Error("Extra field data exceeds 64KB");tl(m,new Uint16Array([i]),t),tl(m,new Uint16Array([e.length]),t+2),tl(m,e,t+4),t+=4+e.length}))}let g=$a(e,n,"extendedTimestamp");void 0===g&&(g=!0);let _=0,y=$a(e,n,"keepOrder");void 0===y&&(y=!0);let v=0,b=$a(e,n,"msDosCompatible");void 0===b&&(b=!0);const w=$a(e,n,"internalFileAttribute")||0,x=$a(e,n,"externalFileAttribute")||0;i&&(i.initialized||await i.init(),v=i.size,_=function(e){return e+5*(Math.floor(e/16383)+1)}(v));let C=n.zip64||e.options.zip64||!1;if(e.offset+e.pendingCompressedSize>=oa||v>=oa||_>=oa){if(!1===n.zip64||!1===e.options.zip64||!y)throw new Error(qa);C=!0}e.pendingCompressedSize+=_,await Promise.resolve();const S=$a(e,n,"level"),T=$a(e,n,"useWebWorkers"),P=$a(e,n,"bufferedWrite");let E=$a(e,n,"dataDescriptor"),M=$a(e,n,"dataDescriptorSignature");const k=$a(e,n,"signal");void 0===E&&(E=!0),E&&void 0===M&&(M=!1);const I=await async function(e,t,i,n){const r=e.files,o=e.writer,s=Array.from(r.values()).pop();let a,l,c,u={};r.set(t,u);try{let d,h,p;if(n.keepOrder&&(d=s&&s.lock),u.lock=p=new Promise((e=>c=e)),n.bufferedWrite||e.lockWrite||!n.dataDescriptor?(h=new ia,h.init(),a=!0):(e.lockWrite=new Promise((e=>l=e)),o.initialized||await o.init(),h=o),u=await async function(e,t,i,n){const{rawFilename:r,lastAccessDate:o,creationDate:s,password:a,level:l,zip64:c,zipCrypto:u,dataDescriptor:d,dataDescriptorSignature:h,directory:p,version:f,versionMadeBy:m,rawComment:A,rawExtraField:g,useWebWorkers:_,onprogress:y,signal:v,encryptionStrength:b,extendedTimestamp:w,msDosCompatible:x,internalFileAttribute:C,externalFileAttribute:S}=n,T=Boolean(a&&a.length),P=0!==l&&!p;let E,M,k;if(T&&!u){E=new Uint8Array(Ha.length+2);const e=il(E);Za(e,0,39169),tl(E,Ha,2),Ya(e,8,b)}else E=new Uint8Array(0);if(w){k=new Uint8Array(9+(o?4:0)+(s?4:0));const e=il(k);Za(e,0,ha),Za(e,2,k.length-4),Ya(e,4,1+(o?2:0)+(s?4:0)),Qa(e,5,Math.floor(n.lastModDate.getTime()/1e3)),o&&Qa(e,9,Math.floor(o.getTime()/1e3)),s&&Qa(e,13,Math.floor(s.getTime()/1e3));try{M=new Uint8Array(36);const e=il(M),t=Xa(n.lastModDate);Za(e,0,10),Za(e,2,32),Za(e,8,1),Za(e,10,24),el(e,12,t),el(e,20,Xa(o)||t),el(e,28,Xa(s)||t)}catch(e){M=new Uint8Array(0)}}else M=k=new Uint8Array(0);const I={version:f||20,versionMadeBy:m,zip64:c,directory:Boolean(p),filenameUTF8:!0,rawFilename:r,commentUTF8:!0,rawComment:A,rawExtraFieldZip64:c?new Uint8Array(28):new Uint8Array(0),rawExtraFieldExtendedTimestamp:k,rawExtraFieldNTFS:M,rawExtraFieldAES:E,rawExtraField:g,extendedTimestamp:w,msDosCompatible:x,internalFileAttribute:C,externalFileAttribute:S};let B=I.uncompressedSize=0,O=pa;d&&(O|=8);let R=0;P&&(R=8),c&&(I.version=I.version>45?I.version:45),T&&(O|=1,u||(I.version=I.version>51?I.version:51,R=99,P&&(I.rawExtraFieldAES[9]=8))),I.compressionMethod=R;const F=I.headerArray=new Uint8Array(26),D=il(F);Za(D,0,I.version),Za(D,2,O),Za(D,4,R);const L=new Uint32Array(1),V=il(L);let N;N=n.lastModDate<Aa?Aa:n.lastModDate>ma?ma:n.lastModDate,Za(V,0,(N.getHours()<<6|N.getMinutes())<<5|N.getSeconds()/2),Za(V,2,(N.getFullYear()-1980<<4|N.getMonth()+1)<<5|N.getDate());const U=L[0];Qa(D,6,U),Za(D,22,r.length);const G=E.length+k.length+M.length+I.rawExtraField.length;Za(D,24,G);const z=new Uint8Array(30+r.length+G);let K;Qa(il(z),0,aa),tl(z,F,4),tl(z,r,30),tl(z,E,30+r.length),tl(z,k,30+r.length+E.length),tl(z,M,30+r.length+E.length+k.length),tl(z,I.rawExtraField,30+r.length+E.length+k.length+M.length);let q=0;if(e){const n=await Ws(i.Deflate,{codecType:Rs,level:l,password:a,encryptionStrength:b,zipCrypto:T&&u,passwordVerification:T&&u&&U>>8&255,signed:!0,compressed:P,encrypted:T,useWebWorkers:_},i);await t.writeUint8Array(z),I.dataWritten=!0,K=await ya(n,e,t,0,(()=>e.size),i,{onprogress:y,signal:v}),B=I.uncompressedSize=e.size,q=K.length}else await t.writeUint8Array(z),I.dataWritten=!0;let H,W=new Uint8Array(0),j=0;if(d&&(W=new Uint8Array(c?h?24:20:h?16:12),H=il(W),h&&(j=4,Qa(H,0,134695760))),e){const e=K.signature;if(T&&!u||void 0===e||(Qa(D,10,e),I.signature=e,d&&Qa(H,j,e)),c){const e=il(I.rawExtraFieldZip64);Za(e,0,1),Za(e,2,24),Qa(D,14,oa),el(e,12,BigInt(q)),Qa(D,18,oa),el(e,4,BigInt(B)),d&&(el(H,j+4,BigInt(q)),el(H,j+12,BigInt(B)))}else Qa(D,14,q),Qa(D,18,B),d&&(Qa(H,j+4,q),Qa(H,j+8,B))}d&&await t.writeUint8Array(W);const J=z.length+q+W.length;return Object.assign(I,{compressedSize:q,lastModDate:N,rawLastModDate:U,creationDate:s,lastAccessDate:o,encrypted:T,length:J}),I}(i,h,e.config,n),u.lock=p,r.set(t,u),u.filename=t,a){let t=0;const i=h.getData();let s;await Promise.all([e.lockWrite,d]);do{s=Array.from(r.values()).find((e=>e.writingBufferedData)),s&&await s.lock}while(s&&s.lock);if(u.writingBufferedData=!0,!n.dataDescriptor){const e=26,r=await Ja(i,0,e),s=new DataView(r);u.encrypted&&!n.zipCrypto||Qa(s,14,u.signature),u.zip64?(Qa(s,18,oa),Qa(s,22,oa)):(Qa(s,18,u.compressedSize),Qa(s,22,u.uncompressedSize)),await o.writeUint8Array(new Uint8Array(r)),t=e}await async function(e,t,i=0){const n=536870912;await async function r(){if(i<t.size){const o=await Ja(t,i,i+n);await e.writeUint8Array(new Uint8Array(o)),i+=n,await r()}}()}(o,i,t),delete u.writingBufferedData}if(u.offset=e.offset,u.zip64)el(il(u.rawExtraFieldZip64),20,BigInt(u.offset));else if(u.offset>=oa)throw new Error(qa);return e.offset+=u.length,u}catch(i){throw(a&&u.writingBufferedData||!a&&u.dataWritten)&&(i.corruptedEntry=e.hasCorruptedEntries=!0,u.uncompressedSize&&(e.offset+=u.uncompressedSize)),r.delete(t),i}finally{c(),l&&l()}}(e,t,i,Object.assign({},n,{rawFilename:r,rawComment:s,version:a,versionMadeBy:l,lastModDate:c,lastAccessDate:u,creationDate:d,rawExtraField:m,zip64:C,password:h,level:S,useWebWorkers:T,encryptionStrength:p,extendedTimestamp:g,zipCrypto:f,bufferedWrite:P,keepOrder:y,dataDescriptor:E,dataDescriptorSignature:M,signal:k,msDosCompatible:b,internalFileAttribute:w,externalFileAttribute:x}));return _&&(e.pendingCompressedSize-=_),Object.assign(I,{name:t,comment:o,extraField:A}),new xa(I)}(n,e,t,i),this.pendingAddFileCalls.add(r),await r}finally{this.pendingAddFileCalls.delete(r),Wa--;const e=n.pendingEntries.shift();e&&n.add(e.name,e.reader,e.options).then(e.resolve).catch(e.reject)}}}async close(e=new Uint8Array(0),t={}){for(;this.pendingAddFileCalls.size;)await Promise.all(Array.from(this.pendingAddFileCalls));return await async function(e,t,i){const n=e.writer,r=e.files;let o=0,s=0,a=e.offset,l=r.size;for(const[,e]of r)s+=46+e.rawFilename.length+e.rawComment.length+e.rawExtraFieldZip64.length+e.rawExtraFieldAES.length+e.rawExtraFieldExtendedTimestamp.length+e.rawExtraFieldNTFS.length+e.rawExtraField.length;let c=i.zip64||e.options.zip64||!1;if(a>=oa||s>=oa||l>=sa){if(!1===i.zip64||!1===e.options.zip64)throw new Error(qa);c=!0}const u=new Uint8Array(s+(c?98:22)),d=il(u);if(t&&t.length){if(!(t.length<=sa))throw new Error("Zip file comment exceeds 64KB");Za(d,o+20,t.length)}for(const[e,t]of Array.from(r.values()).entries()){const{rawFilename:n,rawExtraFieldZip64:s,rawExtraFieldAES:a,rawExtraField:l,rawComment:c,versionMadeBy:h,headerArray:p,directory:f,zip64:m,msDosCompatible:A,internalFileAttribute:g,externalFileAttribute:_}=t;let y,v;if(t.extendedTimestamp){v=t.rawExtraFieldNTFS,y=new Uint8Array(9);const e=il(y);Za(e,0,ha),Za(e,2,y.length-4),Ya(e,4,1),Qa(e,5,Math.floor(t.lastModDate.getTime()/1e3))}else v=y=new Uint8Array(0);const b=s.length+a.length+y.length+v.length+l.length;if(Qa(d,o,la),Za(d,o+4,h),tl(u,p,o+6),Za(d,o+30,b),Za(d,o+32,c.length),Qa(d,o+34,g),_?Qa(d,o+38,_):f&&A&&Ya(d,o+38,16),Qa(d,o+42,m?oa:t.offset),tl(u,n,o+46),tl(u,s,o+46+n.length),tl(u,a,o+46+n.length+s.length),tl(u,y,o+46+n.length+s.length+a.length),tl(u,v,o+46+n.length+s.length+a.length+y.length),tl(u,l,o+46+n.length+s.length+a.length+y.length+v.length),tl(u,c,o+46+n.length+b),o+=46+n.length+b+c.length,i.onprogress)try{i.onprogress(e+1,r.size,new xa(t))}catch(e){}}c&&(Qa(d,o,ua),el(d,o+4,BigInt(44)),Za(d,o+12,45),Za(d,o+14,45),el(d,o+24,BigInt(l)),el(d,o+32,BigInt(l)),el(d,o+40,BigInt(s)),el(d,o+48,BigInt(a)),Qa(d,o+56,da),el(d,o+64,BigInt(a)+BigInt(s)),Qa(d,o+72,1),l=sa,a=oa,s=oa,o+=76),Qa(d,o,ca),Za(d,o+8,l),Za(d,o+10,l),Qa(d,o+12,s),Qa(d,o+16,a),await n.writeUint8Array(u),t&&t.length&&await n.writeUint8Array(t)}(this,e,t),this.writer.getData()}}function Ja(e,t,i){if(e.arrayBuffer)return t||i?e.slice(t,i).arrayBuffer():e.arrayBuffer();{const n=new FileReader;return new Promise(((r,o)=>{n.onload=e=>r(e.target.result),n.onerror=()=>o(n.error),n.readAsArrayBuffer(t||i?e.slice(t,i):e)}))}}function Xa(e){if(e)return(BigInt(e.getTime())+BigInt(116444736e5))*BigInt(1e4)}function $a(e,t,i){return void 0===t[i]?e.options[i]:t[i]}function Ya(e,t,i){e.setUint8(t,i)}function Za(e,t,i){e.setUint16(t,i,!0)}function Qa(e,t,i){e.setUint32(t,i,!0)}function el(e,t,i){e.setBigUint64(t,i,!0)}function tl(e,t,i){e.set(t,i)}function il(e){return new DataView(e.buffer)}Wo({Deflate:function(e){const t=new Co,i=(n=e&&e.chunkSize?e.chunkSize:65536)+5*(Math.floor(n/16383)+1);var n;const r=new Uint8Array(i);let o=e?e.level:-1;void 0===o&&(o=-1),t.deflateInit(o),t.next_out=r,this.append=function(e,n){let o,s,a=0,l=0,c=0;const u=[];if(e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=i,o=t.deflate(0),0!=o)throw new Error("deflating: "+t.msg);t.next_out_index&&(t.next_out_index==i?u.push(new Uint8Array(r)):u.push(r.slice(0,t.next_out_index))),c+=t.next_out_index,n&&t.next_in_index>0&&t.next_in_index!=a&&(n(t.next_in_index),a=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return u.length>1?(s=new Uint8Array(c),u.forEach((function(e){s.set(e,l),l+=e.length}))):s=u[0]||new Uint8Array(0),s}},this.flush=function(){let e,n,o=0,s=0;const a=[];do{if(t.next_out_index=0,t.avail_out=i,e=t.deflate(4),1!=e&&0!=e)throw new Error("deflating: "+t.msg);i-t.avail_out>0&&a.push(r.slice(0,t.next_out_index)),s+=t.next_out_index}while(t.avail_in>0||0===t.avail_out);return t.deflateEnd(),n=new Uint8Array(s),a.forEach((function(e){n.set(e,o),o+=e.length})),n}},Inflate:function(e){const t=new zo,i=e&&e.chunkSize?Math.floor(2*e.chunkSize):131072,n=new Uint8Array(i);let r=!1;t.inflateInit(),t.next_out=n,this.append=function(e,o){const s=[];let a,l,c=0,u=0,d=0;if(0!==e.length){t.next_in_index=0,t.next_in=e,t.avail_in=e.length;do{if(t.next_out_index=0,t.avail_out=i,0!==t.avail_in||r||(t.next_in_index=0,r=!0),a=t.inflate(0),r&&a===Po){if(0!==t.avail_in)throw new Error("inflating: bad input")}else if(0!==a&&1!==a)throw new Error("inflating: "+t.msg);if((r||1===a)&&t.avail_in===e.length)throw new Error("inflating: bad input");t.next_out_index&&(t.next_out_index===i?s.push(new Uint8Array(n)):s.push(n.slice(0,t.next_out_index))),d+=t.next_out_index,o&&t.next_in_index>0&&t.next_in_index!=c&&(o(t.next_in_index),c=t.next_in_index)}while(t.avail_in>0||0===t.avail_out);return s.length>1?(l=new Uint8Array(d),s.forEach((function(e){l.set(e,u),u+=e.length}))):l=s[0]||new Uint8Array(0),l}},this.flush=function(){t.inflateEnd()}}});var nl=i(116112);const rl=function(e,t){this.position=e,this.headingPitchRange=t};var ol=i(786101);function sl(e,t){this.id=t,this.name=e,this.playlistIndex=0,this.playlist=[],this.tourStart=new m.A,this.tourEnd=new m.A,this.entryStart=new m.A,this.entryEnd=new m.A,this._activeEntries=[]}function al(e){for(let t=e.pop();void 0!==t;t=e.pop())t.stop()}function ll(e,t,i){const n=this.playlist[this.playlistIndex];if(n){const r=cl.bind(this,e,t,i);if(this._activeEntries.push(n),this.entryStart.raiseEvent(n),n.blocking)n.play(r,e.scene.camera,t);else{const o=this;n.play((function(){o.entryEnd.raiseEvent(n);const e=o._activeEntries.indexOf(n);e>=0&&o._activeEntries.splice(e,1)})),r(e,t,i)}}else(0,f.A)(i)&&i(!1)}function cl(e,t,i,n){const r=this.playlist[this.playlistIndex];if(this.entryEnd.raiseEvent(r,n),n)i(n);else{const n=this._activeEntries.indexOf(r);n>=0&&this._activeEntries.splice(n,1),this.playlistIndex++,ll.call(this,e,t,i)}}sl.prototype.addPlaylistEntry=function(e){this.playlist.push(e)},sl.prototype.play=function(e,t){(0,f.A)(e.cesiumWidget)&&(0,ol.A)("viewer","The viewer parameter has been deprecated in Cesium 1.99. It will be removed in 1.100. Instead of a Viewer, pass a CesiumWidget instead."),this.tourStart.raiseEvent();const i=this;ll.call(this,e,t,(function(e){i.playlistIndex=0,e||al(i._activeEntries),i.tourEnd.raiseEvent(e)}))},sl.prototype.stop=function(){al(this._activeEntries)};const ul=sl;var dl=i(660662),hl=i(430346),pl=i(924290);function fl(e,t,i){this.type="KmlTourFlyTo",this.blocking=!0,this.activeCamera=null,this.activeCallback=null,this.duration=e,this.view=i,this.flyToMode=t}fl.prototype.play=function(e,t,i){if(this.activeCamera=t,(0,f.A)(e)&&null!==e){const t=this;this.activeCallback=function(i){delete t.activeCallback,delete t.activeCamera,e(!(0,f.A)(i)&&i)}}const n=this.getCameraOptions(i);if(this.view.headingPitchRoll)t.flyTo(n);else if(this.view.headingPitchRange){const e=new dl.A(this.view.position);t.flyToBoundingSphere(e,n)}},fl.prototype.stop=function(){(0,f.A)(this.activeCamera)&&this.activeCamera.cancelFlight(),(0,f.A)(this.activeCallback)&&this.activeCallback(!0)},fl.prototype.getCameraOptions=function(e){let t={duration:this.duration};return(0,f.A)(this.activeCallback)&&(t.complete=this.activeCallback),"smooth"===this.flyToMode&&(t.easingFunction=pl.A.LINEAR_NONE),this.view.headingPitchRoll?(t.destination=this.view.position,t.orientation=this.view.headingPitchRoll):this.view.headingPitchRange&&(t.offset=this.view.headingPitchRange),(0,f.A)(e)&&(t=(0,hl.A)(t,e)),t};const ml=fl;function Al(e){this.type="KmlTourWait",this.blocking=!0,this.duration=e,this.timeout=null}Al.prototype.play=function(e){const t=this;this.activeCallback=e,this.timeout=setTimeout((function(){delete t.activeCallback,e(!1)}),1e3*this.duration)},Al.prototype.stop=function(){clearTimeout(this.timeout),(0,f.A)(this.activeCallback)&&this.activeCallback(!0)};const gl=Al;var _l=i(347768);const yl={avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",chm:"application/vnd.ms-htmlhelp",css:"text/css",csv:"text/csv",doc:"application/msword",dvi:"application/x-dvi",eps:"application/postscript",flv:"video/x-flv",gif:"image/gif",gz:"application/x-gzip",htm:"text/html",html:"text/html",ico:"image/vnd.microsoft.icon",jnlp:"application/x-java-jnlp-file",jpeg:"image/jpeg",jpg:"image/jpeg",m3u:"audio/x-mpegurl",m4v:"video/mp4",mathml:"application/mathml+xml",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4v:"video/mp4",mpeg:"video/mpeg",mpg:"video/mpeg",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",ogg:"application/ogg",pdf:"application/pdf",png:"image/png",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",ps:"application/postscript",qt:"video/quicktime",rdf:"application/rdf+xml",rss:"application/rss+xml",rtf:"application/rtf",svg:"image/svg+xml",swf:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xml:"application/xml",zip:"application/zip",detectFromFilename:function(e){let t=e.toLowerCase();return t=(0,Qr.A)(t),yl[t]}};let vl;"undefined"!=typeof DOMParser&&(vl=new DOMParser);const bl=new gr({stripPrefix:!1,email:!1,replaceFn:function(e){return"scheme"===e.urlMatchType||"www"===e.urlMatchType}}),wl=32,xl=2414016,Cl=16093e3,Sl=[null,void 0,"http://www.opengis.net/kml/2.2","http://earth.google.com/kml/2.2","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.0"],Tl=["http://www.google.com/kml/ext/2.2"],Pl={kml:Sl,gx:Tl,atom:["http://www.w3.org/2005/Atom"],kmlgx:Sl.concat(Tl)},El={Document:mc,Folder:function(e,t,i,n){const r=fc(e,t,i),o=(0,Yr.A)(i);o.parentEntity=r.entity,mc(0,t,o,n)},Placemark:function(e,t,i,n){const r=fc(e,t,i),o=r.entity,s=r.styleEntity;let a=!1;const l=t.childNodes;for(let t=0,n=l.length;t<n&&!a;t++){const n=l.item(t),r=hc[n.localName];(0,f.A)(r)&&(r(e,i.entityCollection,n,o,s,o.id),a=!0)}a||(o.merge(s),lc(e,o,s))},NetworkLink:function(e,t,i,n){const r=fc(e,t,i).entity,o=i.sourceResource,s=i.uriResolver;let a=Gl(t,"Link",Pl.kml);if((0,f.A)(a)||(a=Gl(t,"Url",Pl.kml)),(0,f.A)(a)){let t,l,c=Hl(a,"href",Pl.kml);if((0,f.A)(c)){let u=c;if(c=jl(c,o,i.uriResolver),/^data:/.test(c.getUrlComponent()))/\.kmz/i.test(o.getUrlComponent())||(u=o.getDerivedResource({url:u}));else{if(u=c.clone(),t=Hl(a,"viewRefreshMode",Pl.kml),"onRegion"===t)return void(0,ro.A)("kml-refrehMode-onRegion","KML - Unsupported viewRefreshMode: onRegion");l=(0,p.A)(Hl(a,"viewBoundScale",Pl.kml),1);const i="onStop"===t?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",n=(0,p.A)(Hl(a,"viewFormat",Pl.kml),i),r=Hl(a,"httpQuery",Pl.kml);(0,f.A)(n)&&c.setQueryParameters((0,oo.A)(wc(n))),(0,f.A)(r)&&c.setQueryParameters((0,oo.A)(wc(r)));const o=e._ellipsoid;Pc(c,e.camera,e.canvas,l,e._lastCameraView.bbox,o)}const d={sourceUri:u,uriResolver:s,context:r.id,screenOverlayContainer:i.screenOverlayContainer},h=new E.A,m=Mc(e,h,c,d).then((function(i){const n=e._entityCollection,o=h.values;n.suspendEvents();for(let e=0;e<o.length;e++){const t=o[e];(0,f.A)(t.parent)||(t.parent=r,Ic(t)),n.add(t)}n.resumeEvents();const s=Hl(a,"refreshMode",Pl.kml);let u=(0,p.A)(ql(a,"refreshInterval",Pl.kml),0);if("onInterval"===s&&u>0||"onExpire"===s||"onStop"===t){const t=Gl(i,"NetworkLinkControl",Pl.kml),n=(0,f.A)(t),o=fe.A.now(),d={id:(0,C.A)(),href:c,cookie:{},lastUpdated:o,updating:!1,entity:r,viewBoundScale:l,needsUpdate:!1,cameraUpdateTime:o};let h=0;if(n&&(d.cookie=(0,oo.A)((0,p.A)(Hl(t,"cookie",Pl.kml),"")),h=(0,p.A)(ql(t,"minRefreshPeriod",Pl.kml),0)),"onInterval"===s)n&&(u=Math.max(h,u)),d.refreshMode=bc.INTERVAL,d.time=u;else if("onExpire"===s){let e;if(n&&(e=Hl(t,"expires",Pl.kml)),(0,f.A)(e))try{const t=fe.A.fromIso8601(e),i=fe.A.secondsDifference(t,o);i>0&&i<h&&fe.A.addSeconds(o,h,t),d.refreshMode=bc.EXPIRE,d.time=t}catch(e){(0,ro.A)("kml-refreshMode-onInterval-onExpire","KML - NetworkLinkControl expires is not a valid date")}else(0,ro.A)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element")}else(0,f.A)(e.camera)?(d.refreshMode=bc.STOP,d.time=(0,p.A)(ql(a,"viewRefreshTime",Pl.kml),0)):(0,ro.A)("kml-refrehMode-onStop-noCamera","A NetworkLink with viewRefreshMode=onStop requires the `camera` property to be defined.");(0,f.A)(d.refreshMode)&&e._networkLinks.set(d.id,d)}})).catch((function(t){(0,ro.A)(`An error occured during loading ${c.url}`),e._error.raiseEvent(e,t)}));n.addPromise(m)}}},GroundOverlay:function(e,t,i,n){const r=fc(e,t,i).entity;let o,s=!1;const a=e._ellipsoid,l=Vl(Gl(t,"LatLonQuad",Pl.gx),a),c=ql(t,"drawOrder",Pl.kml);if((0,f.A)(l))o=Zl(),o.hierarchy=new _e.A(l),o.zIndex=c,r.polygon=o,s=!0;else{o=new wt.A,o.zIndex=c,r.rectangle=o;const e=Gl(t,"LatLonBox",Pl.kml);if((0,f.A)(e)){let t=ql(e,"west",Pl.kml),i=ql(e,"south",Pl.kml),n=ql(e,"east",Pl.kml),r=ql(e,"north",Pl.kml);(0,f.A)(t)&&(t=T.A.negativePiToPi(T.A.toRadians(t))),(0,f.A)(i)&&(i=T.A.clampToLatitudeRange(T.A.toRadians(i))),(0,f.A)(n)&&(n=T.A.negativePiToPi(T.A.toRadians(n))),(0,f.A)(r)&&(r=T.A.clampToLatitudeRange(T.A.toRadians(r))),o.coordinates=new ve.A(t,i,n,r);const s=ql(e,"rotation",Pl.kml);if((0,f.A)(s)){const e=T.A.toRadians(s);o.rotation=e,o.stRotation=e}}}const u=Gl(t,"Icon",Pl.kml),d=ec(u,e,i.sourceResource,i.uriResolver,!0);if((0,f.A)(d)){s&&(0,ro.A)("kml-gx:LatLonQuad","KML - gx:LatLonQuad Icon does not support texture projection.");const e=ql(u,"x",Pl.gx),i=ql(u,"y",Pl.gx),n=ql(u,"w",Pl.gx),r=ql(u,"h",Pl.gx);((0,f.A)(e)||(0,f.A)(i)||(0,f.A)(n)||(0,f.A)(r))&&(0,ro.A)("kml-groundOverlay-xywh","KML - gx:x, gx:y, gx:w, gx:h aren't supported for GroundOverlays"),o.material=d,o.material.color=$l(t,"color",Pl.kml),o.material.transparent=!0}else o.material=$l(t,"color",Pl.kml);let h=Hl(t,"altitudeMode",Pl.kml);(0,f.A)(h)?"absolute"===h?(o.height=ql(t,"altitude",Pl.kml),o.zIndex=void 0):"clampToGround"!==h&&(0,ro.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`):(h=Hl(t,"altitudeMode",Pl.gx),"relativeToSeaFloor"===h?((0,ro.A)("kml-altitudeMode-relativeToSeaFloor","KML - altitudeMode relativeToSeaFloor is currently not supported, treating as absolute."),o.height=ql(t,"altitude",Pl.kml),o.zIndex=void 0):"clampToSeaFloor"===h?(0,ro.A)("kml-altitudeMode-clampToSeaFloor","KML - altitudeMode clampToSeaFloor is currently not supported, treating as clampToGround."):(0,f.A)(h)&&(0,ro.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${h}`))},PhotoOverlay:vc,ScreenOverlay:function(e,t,i,n){const r=i.screenOverlayContainer;if(!(0,f.A)(r))return;const o=i.sourceResource,s=i.uriResolver,a=ec(Gl(t,"Icon",Pl.kml),e,o,s,!1);if(!(0,f.A)(a))return;const l=document.createElement("img");e._screenOverlays.push(l),l.src=a.url,l.onload=function(){const e=["position: absolute"],i=Gl(t,"screenXY",Pl.kml),n=Gl(t,"overlayXY",Pl.kml),r=Gl(t,"size",Pl.kml);let o,s,a,c,u,d;(0,f.A)(r)&&(o=Nl(r,"x"),s=Nl(r,"y"),a=Ul(r,"xunits"),c=Ul(r,"yunits"),(0,f.A)(o)&&-1!==o&&0!==o&&("fraction"===a?u=`width: ${Math.floor(100*o)}%`:"pixels"===a&&(u=`width: ${o}px`),e.push(u)),(0,f.A)(s)&&-1!==s&&0!==s&&("fraction"===c?d=`height: ${Math.floor(100*s)}%`:"pixels"===c&&(d=`height: ${s}px`),e.push(d))),l.style=e.join(";");let h=0,p=l.height;(0,f.A)(n)&&(o=Nl(n,"x"),s=Nl(n,"y"),a=Ul(n,"xunits"),c=Ul(n,"yunits"),(0,f.A)(o)&&("fraction"===a?h=o*l.width:("pixels"===a||"insetPixels"===a)&&(h=o)),(0,f.A)(s)&&("fraction"===c?p=s*l.height:("pixels"===c||"insetPixels"===c)&&(p=s))),(0,f.A)(i)&&(o=Nl(i,"x"),s=Nl(i,"y"),a=Ul(i,"xunits"),c=Ul(i,"yunits"),(0,f.A)(o)&&("fraction"===a?u=`left: calc(${Math.floor(100*o)}% - ${h}px)`:"pixels"===a?u=`left: ${o-h}px`:"insetPixels"===a&&(u=`right: ${o-h}px`),e.push(u)),(0,f.A)(s)&&("fraction"===c?d=`bottom: calc(${Math.floor(100*s)}% - ${p}px)`:"pixels"===c?d=`bottom: ${s-p}px`:"insetPixels"===c&&(d=`top: ${s-p}px`),e.push(d))),l.style=e.join(";")},r.appendChild(l)},Tour:function(e,t,i,n){const r=Hl(t,"name",Pl.kml),o=Ul(t,"id"),s=new ul(r,o),a=Gl(t,"Playlist",Pl.gx);if(a){const t=e._ellipsoid,i=a.childNodes;for(let e=0;e<i.length;e++){const n=i[e];if(n.localName){const e=Ac[n.localName];e?e(s,n,t):console.log(`Unknown KML Tour playlist entry type ${n.localName}`)}}}e._kmlTours.push(s)}};function Ml(e){this._dataSource=e,this._deferred=(0,Zr.A)(),this._stack=[],this._promises=[],this._timeoutSet=!1,this._used=!1,this._started=0,this._timeThreshold=1e3}function kl(e){const t={xsi:"http://www.w3.org/2001/XMLSchema-instance"};let i,n,r,o;for(const s in t)t.hasOwnProperty(s)&&(r=RegExp(`[< ]${s}:`),o=`xmlns:${s}=`,r.test(e)&&-1===e.indexOf(o)&&((0,f.A)(i)||(i=e.substr(0,e.indexOf("<kml")+4),n=e.substr(i.length)),i+=` ${o}"${t[s]}"`));return(0,f.A)(i)&&(e=i+n),e}function Il(e){let t=e.indexOf("xmlns:");const i=e.indexOf(">",t);let n,r,o;for(;-1!==t&&t<i;)n=e.slice(t,e.indexOf('"',t)),r=t,t=e.indexOf(n,t+1),-1!==t?(o=e.indexOf('"',e.indexOf('"',t)+1),t=(e=e.slice(0,t-1)+e.slice(o+1,e.length)).indexOf("xmlns:",r-1)):t=e.indexOf("xmlns:",r+1);return e}function Bl(e,t){const i=(0,p.A)(yl.detectFromFilename(e.filename),"application/octet-stream");return Promise.resolve(e.getData(new ea(i))).then((function(i){t[e.filename]=i}))}function Ol(e,t,i,n){const r=n.keys,o=new De("."),s=e.querySelectorAll(t);for(let e=0;e<s.length;e++){const a=s[e],l=a.getAttribute(i);if((0,f.A)(l)){const e=new De(l).absoluteTo(o).toString(),s=r.indexOf(e);if(-1!==s){const e=r[s];a.setAttribute(i,n[e]),"a"===t&&null===a.getAttribute("download")&&a.setAttribute("download",e)}}}}function Rl(e,t,i,n){const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++){const t=r[e],o=jl(t.getAttribute(i),n);(0,f.A)(o)&&t.setAttribute(i,o.url)}}function Fl(e,t,i){let n=Ul(e,"id");n=(0,f.A)(n)&&0!==n.length?n:(0,C.A)(),(0,f.A)(i)&&(n=i+n);let r=t.getById(n);return(0,f.A)(r)&&(n=(0,C.A)(),(0,f.A)(i)&&(n=i+n)),r=t.add(new P.A({id:n})),(0,f.A)(r.kml)||(r.addProperty("kml"),r.kml=new Oc),r}function Dl(e,t){return"absolute"===e||"relativeToGround"===e||"relativeToSeaFloor"===t}function Ll(e,t){if(!(0,f.A)(e))return Z.A.fromDegrees(0,0,0,t);const i=e.match(/[^\s,\n]+/g);if(!(0,f.A)(i))return Z.A.fromDegrees(0,0,0,t);let n=parseFloat(i[0]),r=parseFloat(i[1]),o=parseFloat(i[2]);return n=isNaN(n)?0:n,r=isNaN(r)?0:r,o=isNaN(o)?0:o,Z.A.fromDegrees(n,r,o,t)}function Vl(e,t){if(!(0,f.A)(e))return;const i=e.textContent.match(/[^\s\n]+/g);if(!(0,f.A)(i))return;const n=i.length,r=new Array(n);let o=0;for(let e=0;e<n;e++)r[o++]=Ll(i[e],t);return r}function Nl(e,t){if(!(0,f.A)(e))return;const i=e.getAttribute(t);if(null!==i){const e=parseFloat(i);return isNaN(e)?void 0:e}}function Ul(e,t){if(!(0,f.A)(e))return;const i=e.getAttribute(t);return null!==i?i:void 0}function Gl(e,t,i){if(!(0,f.A)(e))return;const n=e.childNodes,r=n.length;for(let e=0;e<r;e++){const r=n[e];if(r.localName===t&&-1!==i.indexOf(r.namespaceURI))return r}}function zl(e,t,i){if(!(0,f.A)(e))return;const n=[],r=e.getElementsByTagNameNS("*",t),o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function Kl(e,t,i){if(!(0,f.A)(e))return[];const n=[],r=e.childNodes,o=r.length;for(let e=0;e<o;e++){const o=r[e];o.localName===t&&-1!==i.indexOf(o.namespaceURI)&&n.push(o)}return n}function ql(e,t,i){const n=Gl(e,t,i);if((0,f.A)(n)){const e=parseFloat(n.textContent);return isNaN(e)?void 0:e}}function Hl(e,t,i){const n=Gl(e,t,i);if((0,f.A)(n))return n.textContent.trim()}function Wl(e,t,i){const n=Gl(e,t,i);if((0,f.A)(n)){const e=n.textContent.trim();return"1"===e||/^true$/i.test(e)}}function jl(e,t,i){if(!(0,f.A)(e))return;let n;if((0,f.A)(i)){let r=i[e=e.replace(/\\/g,"/")];if((0,f.A)(r))n=new we.A({url:r});else{const o=new De(t.getUrlComponent());r=i[new De(e).absoluteTo(o)],(0,f.A)(r)&&(n=new we.A({url:r}))}}return(0,f.A)(n)||(n=t.getDerivedResource({url:e})),n}Object.defineProperties(Ml.prototype,{dataSource:{get:function(){return this._dataSource}}}),Ml.prototype.addNodes=function(e,t){this._stack.push({nodes:e,index:0,processingData:t}),this._used=!0},Ml.prototype.addPromise=function(e){this._promises.push(e)},Ml.prototype.wait=function(){const e=this._deferred;return this._used||e.resolve(),Promise.all([e.promise,Promise.all(this._promises)])},Ml.prototype.process=function(){const e=1===this._stack.length;return e&&(this._started=kc._getTimestamp()),this._process(e)},Ml.prototype._giveUpTime=function(){if(this._timeoutSet)return;this._timeoutSet=!0,this._timeThreshold=50;const e=this;setTimeout((function(){e._timeoutSet=!1,e._started=kc._getTimestamp(),e._process(!0)}),0)},Ml.prototype._nextNode=function(){const e=this._stack,t=e[e.length-1],i=t.index,n=t.nodes;if(i!==n.length)return++t.index,n[i]},Ml.prototype._pop=function(){const e=this._stack;return e.pop(),0!==e.length||(this._deferred.resolve(),!1)},Ml.prototype._process=function(e){const t=this.dataSource,i=this._stack[this._stack.length-1].processingData;let n=this._nextNode();for(;(0,f.A)(n);){const e=El[n.localName];if((0,f.A)(e)&&(-1!==Pl.kml.indexOf(n.namespaceURI)||-1!==Pl.gx.indexOf(n.namespaceURI))&&(e(t,n,i,this),this._timeoutSet||kc._getTimestamp()>this._started+this._timeThreshold))return void this._giveUpTime();n=this._nextNode()}this._pop()&&e&&this._process(!0)};const Jl={maximumRed:void 0,red:void 0,maximumGreen:void 0,green:void 0,maximumBlue:void 0,blue:void 0};function Xl(e,t){if(!(0,f.A)(e)||/^\s*$/gm.test(e))return;"#"===e[0]&&(e=e.substring(1));const i=parseInt(e.substring(0,2),16)/255,n=parseInt(e.substring(2,4),16)/255,r=parseInt(e.substring(4,6),16)/255,o=parseInt(e.substring(6,8),16)/255;return t?(o>0?(Jl.maximumRed=o,Jl.red=void 0):(Jl.maximumRed=void 0,Jl.red=0),r>0?(Jl.maximumGreen=r,Jl.green=void 0):(Jl.maximumGreen=void 0,Jl.green=0),n>0?(Jl.maximumBlue=n,Jl.blue=void 0):(Jl.maximumBlue=void 0,Jl.blue=0),Jl.alpha=i,h.A.fromRandom(Jl)):new h.A(o,r,n,i)}function $l(e,t,i){const n=Hl(e,t,i);if((0,f.A)(n))return Xl(n,"random"===Hl(e,"colorMode",i))}function Yl(){const e=new n.A;return e.width=wl,e.height=wl,e.scaleByDistance=new ge.A(xl,1,Cl,.1),e.pixelOffsetScaleByDistance=new ge.A(xl,1,Cl,.1),e}function Zl(){const e=new nt.A;return e.outline=!0,e.outlineColor=h.A.WHITE,e}function Ql(){const e=new Ze.A;return e.translucencyByDistance=new ge.A(3e6,1,5e6,0),e.pixelOffset=new d.A(17,0),e.horizontalOrigin=Be.A.LEFT,e.font="16px sans-serif",e.style=Oe.A.FILL_AND_OUTLINE,e}function ec(e,t,i,n,r){let o=Hl(e,"href",Pl.kml);if(!(0,f.A)(o)||0===o.length)return;if(0===o.indexOf("root://icons/palette-")){const t=o.charAt(21);let i=(0,p.A)(ql(e,"x",Pl.gx),0),n=(0,p.A)(ql(e,"y",Pl.gx),0);i=Math.min(i/32,7),n=7-Math.min(n/32,7),o=`https://maps.google.com/mapfiles/kml/pal${t}/icon${8*n+i}.png`}const s=jl(o,i,n);if(r){const i=Hl(e,"refreshMode",Pl.kml),n=Hl(e,"viewRefreshMode",Pl.kml);"onInterval"===i||"onExpire"===i?(0,ro.A)(`kml-refreshMode-${i}`,`KML - Unsupported Icon refreshMode: ${i}`):"onStop"!==n&&"onRegion"!==n||(0,ro.A)(`kml-refreshMode-${n}`,`KML - Unsupported Icon viewRefreshMode: ${n}`);const r=(0,p.A)(Hl(e,"viewBoundScale",Pl.kml),1),o="onStop"===n?"BBOX=[bboxWest],[bboxSouth],[bboxEast],[bboxNorth]":"",a=(0,p.A)(Hl(e,"viewFormat",Pl.kml),o),l=Hl(e,"httpQuery",Pl.kml);(0,f.A)(a)&&s.setQueryParameters((0,oo.A)(wc(a))),(0,f.A)(l)&&s.setQueryParameters((0,oo.A)(wc(l)));const c=t._ellipsoid;return Pc(s,t.camera,t.canvas,r,t._lastCameraView.bbox,c),s}return s}function tc(e,t,i,n,r){let o=ql(t,"scale",Pl.kml);const s=ql(t,"heading",Pl.kml),a=$l(t,"color",Pl.kml),l=Gl(t,"Icon",Pl.kml);let c=ec(l,e,n,r,!1);(0,f.A)(l)&&!(0,f.A)(c)&&(c=!1);const u=ql(l,"x",Pl.gx),h=ql(l,"y",Pl.gx),m=ql(l,"w",Pl.gx),A=ql(l,"h",Pl.gx),g=Gl(t,"hotSpot",Pl.kml),_=Nl(g,"x"),y=Nl(g,"y"),v=Ul(g,"xunits"),b=Ul(g,"yunits");let w,x,C=i.billboard;(0,f.A)(C)||(C=Yl(),i.billboard=C),C.image=c,C.scale=o,C.color=a,((0,f.A)(u)||(0,f.A)(h)||(0,f.A)(m)||(0,f.A)(A))&&(C.imageSubRegion=new Y.A(u,h,m,A)),(0,f.A)(s)&&0!==s&&(C.rotation=T.A.toRadians(-s),C.alignedAxis=Z.A.UNIT_Z),o=(0,p.A)(o,1),(0,f.A)(_)&&("pixels"===v?w=-_*o:"insetPixels"===v?w=(_-wl)*o:"fraction"===v&&(w=-_*wl*o),w+=16*o),(0,f.A)(y)&&("pixels"===b?x=y*o:"insetPixels"===b?x=(-y+wl)*o:"fraction"===b&&(x=y*wl*o),x-=16*o),((0,f.A)(w)||(0,f.A)(x))&&(C.pixelOffset=new d.A(w,x))}function ic(e,t,i,n,r){for(let o=0,s=t.childNodes.length;o<s;o++){const s=t.childNodes.item(o);if("IconStyle"===s.localName)tc(e,s,i,n,r);else if("LabelStyle"===s.localName){let e=i.label;(0,f.A)(e)||(e=Ql(),i.label=e),e.scale=(0,p.A)(ql(s,"scale",Pl.kml),e.scale),e.fillColor=(0,p.A)($l(s,"color",Pl.kml),e.fillColor),e.text=i.name}else if("LineStyle"===s.localName){let e=i.polyline;(0,f.A)(e)||(e=new ut.A,i.polyline=e),e.width=ql(s,"width",Pl.kml),e.material=$l(s,"color",Pl.kml),(0,f.A)($l(s,"outerColor",Pl.gx))&&(0,ro.A)("kml-gx:outerColor","KML - gx:outerColor is not supported in a LineStyle"),(0,f.A)(ql(s,"outerWidth",Pl.gx))&&(0,ro.A)("kml-gx:outerWidth","KML - gx:outerWidth is not supported in a LineStyle"),(0,f.A)(ql(s,"physicalWidth",Pl.gx))&&(0,ro.A)("kml-gx:physicalWidth","KML - gx:physicalWidth is not supported in a LineStyle"),(0,f.A)(Wl(s,"labelVisibility",Pl.gx))&&(0,ro.A)("kml-gx:labelVisibility","KML - gx:labelVisibility is not supported in a LineStyle")}else if("PolyStyle"===s.localName){let e=i.polygon;(0,f.A)(e)||(e=Zl(),i.polygon=e),e.material=(0,p.A)($l(s,"color",Pl.kml),e.material),e.fill=(0,p.A)(Wl(s,"fill",Pl.kml),e.fill),e.outline=(0,p.A)(Wl(s,"outline",Pl.kml),e.outline)}else if("BalloonStyle"===s.localName){const e=(0,p.A)(Xl(Hl(s,"bgColor",Pl.kml)),h.A.WHITE),t=(0,p.A)(Xl(Hl(s,"textColor",Pl.kml)),h.A.BLACK),n=Hl(s,"text",Pl.kml);i.addProperty("balloonStyle"),i.balloonStyle={bgColor:e,textColor:t,text:n}}else if("ListStyle"===s.localName){const e=Hl(s,"listItemType",Pl.kml);"radioFolder"!==e&&"checkOffOnly"!==e||(0,ro.A)(`kml-listStyle-${e}`,`KML - Unsupported ListStyle with listItemType: ${e}`)}}}function nc(e,t,i){return t.fetchXML().then((function(n){return rc(e,n,i,t,!0)}))}function rc(e,t,i,n,r,o){let s,a,l,c;const u=zl(t,"Style",Pl.kml);if((0,f.A)(u)){const t=u.length;for(s=0;s<t;s++)c=u[s],a=Ul(c,"id"),(0,f.A)(a)&&(a=`#${a}`,r&&(0,f.A)(n)&&(a=n.getUrlComponent()+a),(0,f.A)(i.getById(a))||(l=new P.A({id:a}),i.add(l),ic(e,c,l,n,o)))}const d=zl(t,"StyleMap",Pl.kml);if((0,f.A)(d)){const t=d.length;for(s=0;s<t;s++){const t=d[s];if(a=Ul(t,"id"),(0,f.A)(a)){const s=Kl(t,"Pair",Pl.kml);for(let t=0;t<s.length;t++){const u=s[t],d=Hl(u,"key",Pl.kml);if("normal"===d){if(a=`#${a}`,r&&(0,f.A)(n)&&(a=n.getUrlComponent()+a),!(0,f.A)(i.getById(a))){l=i.getOrCreateEntity(a);let t=Hl(u,"styleUrl",Pl.kml);if((0,f.A)(t)){"#"!==t[0]&&(t=`#${t}`),r&&(0,f.A)(n)&&(t=n.getUrlComponent()+t);const e=i.getById(t);(0,f.A)(e)&&l.merge(e)}else c=Gl(u,"Style",Pl.kml),ic(e,c,l,n,o)}}else(0,ro.A)(`kml-styleMap-${d}`,`KML - Unsupported StyleMap key: ${d}`)}}}}const h=[],p=t.getElementsByTagName("styleUrl"),m=p.length;for(s=0;s<m;s++){const t=p[s].textContent;if("#"!==t[0]){const r=t.split("#");if(2===r.length){const t=r[0],o=n.getDerivedResource({url:t});h.push(nc(e,o,i))}}}return h}function oc(e,t,i){const n=new xt.A(e,t.id,["position"]),r=new _l.A(t.position);t.polyline=(0,f.A)(i.polyline)?i.polyline.clone():new ut.A,t.polyline.positions=new _t([n,r])}function sc(e,t){return!(0,f.A)(e)&&!(0,f.A)(t)||"clampToGround"===e?Ie.A.CLAMP_TO_GROUND:"relativeToGround"===e?Ie.A.RELATIVE_TO_GROUND:"absolute"===e?Ie.A.NONE:"clampToSeaFloor"===t?((0,ro.A)("kml-gx:altitudeMode-clampToSeaFloor","KML - <gx:altitudeMode>:clampToSeaFloor is currently not supported, using <kml:altitudeMode>:clampToGround."),Ie.A.CLAMP_TO_GROUND):"relativeToSeaFloor"===t?((0,ro.A)("kml-gx:altitudeMode-relativeToSeaFloor","KML - <gx:altitudeMode>:relativeToSeaFloor is currently not supported, using <kml:altitudeMode>:relativeToGround."),Ie.A.RELATIVE_TO_GROUND):((0,f.A)(e)?(0,ro.A)("kml-altitudeMode-unknown",`KML - Unknown <kml:altitudeMode>:${e}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`):(0,ro.A)("kml-gx:altitudeMode-unknown",`KML - Unknown <gx:altitudeMode>:${t}, using <kml:altitudeMode>:CLAMP_TO_GROUND.`),Ie.A.CLAMP_TO_GROUND)}function ac(e,t,i){return"relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t?e:(((0,f.A)(t)&&"clampToGround"!==t||(0,f.A)(i)&&"clampToSeaFloor"!==i)&&(0,ro.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${(0,p.A)(t,i)}`),new _l.A(e))}function lc(e,t,i,n){let r=t.label;(0,f.A)(r)||(r=(0,f.A)(i.label)?i.label.clone():Ql(),t.label=r),r.text=t.name;let o=t.billboard;(0,f.A)(o)||(o=(0,f.A)(i.billboard)?i.billboard.clone():Yl(),t.billboard=o),(0,f.A)(o.image)?o.image.getValue()||(o.image=void 0):o.image=e._pinBuilder.fromColor(h.A.YELLOW,64);let s=1;(0,f.A)(o.scale)&&(s=o.scale.getValue(),0!==s?r.pixelOffset=new d.A(16*s+1,0):(r.pixelOffset=void 0,r.horizontalOrigin=void 0)),(0,f.A)(n)&&e._clampToGround&&(o.heightReference=n,r.heightReference=n)}function cc(e,t){let i=e.path;(0,f.A)(i)||(i=new tt.A,i.leadTime=0,e.path=i);const n=t.polyline;(0,f.A)(n)&&(i.material=n.material,i.width=n.width)}function uc(e,t,i,n,r){const o=Gl(i,"coordinates",Pl.kml),s=Hl(i,"altitudeMode",Pl.kml),a=Hl(i,"altitudeMode",Pl.gx),l=Wl(i,"extrude",Pl.kml),c=Wl(i,"tessellate",Pl.kml),u=Dl(s,a),d=ql(i,"drawOrder",Pl.gx),m=e._ellipsoid,A=Vl(o,m);let g=r.polyline;if(u&&l){const e=new Xt.A;n.wall=e,e.positions=A;const t=r.polygon;(0,f.A)(t)&&(e.fill=t.fill,e.material=t.material),e.outline=!0,(0,f.A)(g)?(e.outlineColor=(0,f.A)(g.material)?g.material.color:h.A.WHITE,e.outlineWidth=g.width):(0,f.A)(t)&&(e.outlineColor=(0,f.A)(t.material)?t.material.color:h.A.WHITE)}else if(e._clampToGround&&!u&&c){const e=new ut.A;e.clampToGround=!0,n.polyline=e,e.positions=A,(0,f.A)(g)?(e.material=(0,f.A)(g.material)?g.material.color.getValue(pe.A.MINIMUM_VALUE):h.A.WHITE,e.width=(0,p.A)(g.width,1)):(e.material=h.A.WHITE,e.width=1),e.zIndex=d}else(0,f.A)(d)&&(0,ro.A)("kml-gx:drawOrder","KML - gx:drawOrder is not supported in LineStrings when clampToGround is false"),e._clampToGround&&!c&&(0,ro.A)("kml-line-tesselate","Ignoring clampToGround for KML lines without the tessellate flag."),g=(0,f.A)(g)?g.clone():new ut.A,n.polyline=g,g.positions=function(e,t,i,n){if(!(0,f.A)(e))return;if("relativeToSeaFloor"===i||"absolute"===t||"relativeToGround"===t)return e;((0,f.A)(t)&&"clampToGround"!==t||(0,f.A)(i)&&"clampToSeaFloor"!==i)&&(0,ro.A)("kml-altitudeMode-unknown",`KML - Unknown altitudeMode: ${(0,p.A)(t,i)}`);const r=e.length;for(let t=0;t<r;t++){const i=e[t];n.scaleToGeodeticSurface(i,i)}return e}(A,s,a,m),c&&!u||(g.arcType=$.A.NONE);return!0}function dc(e,t,i,n,r,o,s,a,l){const c=e[0],u=e[e.length-1],d=new St.A;d.addSamples(e,t),i.intervals.addInterval(new Pe.A({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:ac(d,s,a)})),n.addInterval(new Pe.A({start:c,stop:u,isStartIncluded:l,isStopIncluded:l})),r.intervals.addInterval(new Pe.A({start:c,stop:u,isStartIncluded:l,isStopIncluded:l,data:o}))}const hc={Point:function(e,t,i,n,r){const o=Hl(i,"coordinates",Pl.kml),s=Hl(i,"altitudeMode",Pl.kml),a=Hl(i,"altitudeMode",Pl.gx),l=Wl(i,"extrude",Pl.kml),c=Ll(o,e._ellipsoid);return n.position=c,lc(e,n,r,sc(s,a)),l&&Dl(s,a)&&oc(t,n,r),!0},LineString:uc,LinearRing:uc,Polygon:function(e,t,i,n,r){const o=Gl(i,"outerBoundaryIs",Pl.kml);let s=Gl(o,"LinearRing",Pl.kml),a=Gl(s,"coordinates",Pl.kml);const l=e._ellipsoid;let c=Vl(a,l);const u=Wl(i,"extrude",Pl.kml),d=Dl(Hl(i,"altitudeMode",Pl.kml),Hl(i,"altitudeMode",Pl.gx)),p=(0,f.A)(r.polygon)?r.polygon.clone():Zl(),m=r.polyline;if((0,f.A)(m)&&(p.outlineColor=(0,f.A)(m.material)?m.material.color:h.A.WHITE,p.outlineWidth=m.width),n.polygon=p,d?(p.perPositionHeight=!0,p.extrudedHeight=u?0:void 0):e._clampToGround||(p.height=0),(0,f.A)(c)){const e=new _e.A(c),t=Kl(i,"innerBoundaryIs",Pl.kml);for(let i=0;i<t.length;i++){s=Kl(t[i],"LinearRing",Pl.kml);for(let t=0;t<s.length;t++)a=Gl(s[t],"coordinates",Pl.kml),c=Vl(a,l),(0,f.A)(c)&&e.holes.push(new _e.A(c))}p.hierarchy=e}return!0},Track:function(e,t,i,n,r){const o=Hl(i,"altitudeMode",Pl.kml),s=Hl(i,"altitudeMode",Pl.gx),a=Kl(i,"coord",Pl.gx),l=Kl(i,"angles",Pl.gx),c=Kl(i,"when",Pl.kml),u=Wl(i,"extrude",Pl.kml),d=Dl(o,s),h=e._ellipsoid;l.length>0&&(0,ro.A)("kml-gx:angles","KML - gx:angles are not supported in gx:Tracks");const p=Math.min(a.length,c.length),f=[],m=[];for(let e=0;e<p;e++){const t=Ll(a[e].textContent,h);f.push(t),m.push(fe.A.fromIso8601(c[e].textContent))}const A=new St.A;return A.addSamples(m,f),n.position=A,lc(e,n,r,sc(o,s)),cc(n,r),n.availability=new Ee.A,c.length>0&&n.availability.addInterval(new Pe.A({start:m[0],stop:m[m.length-1]})),d&&u&&oc(t,n,r),!0},MultiTrack:function(e,t,i,n,r){const o=Wl(i,"interpolate",Pl.gx),s=Kl(i,"Track",Pl.gx);let a,l,c,u=!1;const d=new Ft,h=new Ee.A,p=new z.A,m=e._ellipsoid;for(let e=0,t=s.length;e<t;e++){const t=s[e],i=Kl(t,"when",Pl.kml),n=Kl(t,"coord",Pl.gx),r=Hl(t,"altitudeMode",Pl.kml),A=Hl(t,"altitudeMode",Pl.gx),g=Dl(r,A),_=Wl(t,"extrude",Pl.kml),y=Math.min(n.length,i.length),v=[];a=[];for(let e=0;e<y;e++){const t=Ll(n[e].textContent,m);v.push(t),a.push(fe.A.fromIso8601(i[e].textContent))}o&&((0,f.A)(l)&&dc([l,a[0]],[c,v[0]],p,h,d,!1,"absolute",void 0,!1),l=a[y-1],c=v[v.length-1]),dc(a,v,p,h,d,g&&_,r,A,!0),u=u||g&&_}return n.availability=h,n.position=p,lc(e,n,r),cc(n,r),u&&(oc(t,n,r),n.polyline.show=d),!0},MultiGeometry:function(e,t,i,n,r,o){const s=i.childNodes;let a=!1;for(let i=0,l=s.length;i<l;i++){const l=s.item(i),c=hc[l.localName];if((0,f.A)(c)){const i=Fl(l,t,o);i.parent=n,i.name=n.name,i.availability=n.availability,i.description=n.description,i.kml=n.kml,c(e,t,l,i,r)&&(a=!0)}}return a},Model:function(e,t,i,n,r){return(0,ro.A)("kml-unsupportedGeometry",`KML - Unsupported geometry: ${i.localName}`),!1}};let pc;function fc(e,t,i){const n=i.entityCollection,r=i.parentEntity,o=i.sourceResource,s=i.uriResolver,a=Fl(t,n,i.context),l=a.kml,c=function(e,t,i,n,r){const o=new P.A;let s,a=-1;const l=t.childNodes,c=l.length;for(let e=0;e<c;e++){const t=l[e];"Style"!==t.localName&&"StyleMap"!==t.localName||(a=e)}if(-1!==a){const t=l[a];if("Style"===t.localName)ic(e,t,o,n,r);else{const a=Kl(t,"Pair",Pl.kml);for(let t=0;t<a.length;t++){const l=a[t],c=Hl(l,"key",Pl.kml);if("normal"===c){const t=Hl(l,"styleUrl",Pl.kml);(0,f.A)(t)?(s=i.getById(t),(0,f.A)(s)||(s=i.getById(`#${t}`)),(0,f.A)(s)&&o.merge(s)):ic(e,Gl(l,"Style",Pl.kml),o,n,r)}else(0,ro.A)(`kml-styleMap-${c}`,`KML - Unsupported StyleMap key: ${c}`)}}}const u=Hl(t,"styleUrl",Pl.kml);if((0,f.A)(u)){let e=u;if("#"!==u[0]&&-1!==u.indexOf("#")){const t=u.split("#"),i=t[0];e=`${n.getDerivedResource({url:i}).getUrlComponent()}#${t[1]}`}s=i.getById(e),(0,f.A)(s)||(s=i.getById(`#${e}`)),(0,f.A)(s)&&o.merge(s)}return o}(e,t,i.styleCollection,o,s),u=Hl(t,"name",Pl.kml);a.name=u,a.parent=r;let d=function(e){const t=Gl(e,"TimeSpan",Pl.kmlgx);if(!(0,f.A)(t))return;let i;const n=Gl(t,"begin",Pl.kmlgx);let r=(0,f.A)(n)?fe.A.fromIso8601(n.textContent):void 0;const o=Gl(t,"end",Pl.kmlgx);let s=(0,f.A)(o)?fe.A.fromIso8601(o.textContent):void 0;if((0,f.A)(r)&&(0,f.A)(s)){if(fe.A.lessThan(s,r)){const e=r;r=s,s=e}i=new Ee.A,i.addInterval(new Pe.A({start:r,stop:s}))}else(0,f.A)(r)?(i=new Ee.A,i.addInterval(new Pe.A({start:r,stop:pe.A.MAXIMUM_VALUE}))):(0,f.A)(s)&&(i=new Ee.A,i.addInterval(new Pe.A({start:pe.A.MINIMUM_VALUE,stop:s})));return i}(t);(0,f.A)(d)||(d=function(e){const t=Gl(e,"TimeStamp",Pl.kmlgx),i=Hl(t,"when",Pl.kmlgx);if(!(0,f.A)(t)||!(0,f.A)(i)||0===i.length)return;const n=fe.A.fromIso8601(i),r=new Ee.A;return r.addInterval(new Pe.A({start:n,stop:pe.A.MAXIMUM_VALUE})),r}(t)),a.availability=d,Ic(a);const m=Wl(t,"visibility",Pl.kml);a.show=function e(t){return!t||t.show&&e(t.parent)}(r)&&(0,p.A)(m,!0);const A=Gl(t,"author",Pl.atom),g=l.author;g.name=Hl(A,"name",Pl.atom),g.uri=Hl(A,"uri",Pl.atom),g.email=Hl(A,"email",Pl.atom);const _=Gl(t,"link",Pl.atom),y=l.link;y.href=Ul(_,"href"),y.hreflang=Ul(_,"hreflang"),y.rel=Ul(_,"rel"),y.type=Ul(_,"type"),y.title=Ul(_,"title"),y.length=Ul(_,"length"),l.address=Hl(t,"address",Pl.kml),l.phoneNumber=Hl(t,"phoneNumber",Pl.kml),l.snippet=Hl(t,"Snippet",Pl.kml),function(e,t){const i=Gl(e,"ExtendedData",Pl.kml);if(!(0,f.A)(i))return;(0,f.A)(Gl(i,"SchemaData",Pl.kml))&&(0,ro.A)("kml-schemaData","KML - SchemaData is unsupported"),(0,f.A)(Ul(i,"xmlns:prefix"))&&(0,ro.A)("kml-extendedData","KML - ExtendedData with xmlns:prefix is unsupported");const n={},r=Kl(i,"Data",Pl.kml);if((0,f.A)(r)){const e=r.length;for(let t=0;t<e;t++){const e=r[t],i=Ul(e,"name");(0,f.A)(i)&&(n[i]={displayName:Hl(e,"displayName",Pl.kml),value:Hl(e,"value",Pl.kml)})}}t.kml.extendedData=n}(t,a),function(e,t,i,n,r){let o,s,a;const l=t.kml,c=l.extendedData,u=Hl(e,"description",Pl.kml),d=(0,p.A)(t.balloonStyle,i.balloonStyle);let m,A=h.A.WHITE,g=h.A.BLACK,_=u;if((0,f.A)(d)&&(A=(0,p.A)(d.bgColor,h.A.WHITE),g=(0,p.A)(d.textColor,h.A.BLACK),_=(0,p.A)(d.text,u)),(0,f.A)(_)){if(_=_.replace("$[name]",(0,p.A)(t.name,"")),_=_.replace("$[description]",(0,p.A)(u,"")),_=_.replace("$[address]",(0,p.A)(l.address,"")),_=_.replace("$[Snippet]",(0,p.A)(l.snippet,"")),_=_.replace("$[id]",t.id),_=_.replace("$[geDirections]",""),(0,f.A)(c)){const e=_.match(/\$\[.+?\]/g);if(null!==e)for(o=0;o<e.length;o++){const t=e[o];let i=t.substr(2,t.length-3);const n=/\/displayName$/.test(i);i=i.replace(/\/displayName$/,""),m=c[i],(0,f.A)(m)&&(m=n?m.displayName:m.value),(0,f.A)(m)&&(_=_.replace(t,(0,p.A)(m,"")))}}}else if((0,f.A)(c)&&(a=Object.keys(c),a.length>0)){for(_='<table class="cesium-infoBox-defaultTable cesium-infoBox-defaultTable-lighter"><tbody>',o=0;o<a.length;o++)s=a[o],m=c[s],_+=`<tr><th>${(0,p.A)(m.displayName,s)}</th><td>${(0,p.A)(m.value,"")}</td></tr>`;_+="</tbody></table>"}if(!(0,f.A)(_))return;_=bl.link(_),pc.innerHTML=_;const y=pc.querySelectorAll("a");for(o=0;o<y.length;o++)y[o].setAttribute("target","_blank");(0,f.A)(n)&&n.keys.length>1&&(Ol(pc,"a","href",n),Ol(pc,"link","href",n),Ol(pc,"area","href",n),Ol(pc,"img","src",n),Ol(pc,"iframe","src",n),Ol(pc,"video","src",n),Ol(pc,"audio","src",n),Ol(pc,"source","src",n),Ol(pc,"track","src",n),Ol(pc,"input","src",n),Ol(pc,"embed","src",n),Ol(pc,"script","src",n),Ol(pc,"video","poster",n)),Rl(pc,"a","href",r),Rl(pc,"link","href",r),Rl(pc,"area","href",r),Rl(pc,"img","src",r),Rl(pc,"iframe","src",r),Rl(pc,"video","src",r),Rl(pc,"audio","src",r),Rl(pc,"source","src",r),Rl(pc,"track","src",r),Rl(pc,"input","src",r),Rl(pc,"embed","src",r),Rl(pc,"script","src",r),Rl(pc,"video","poster",r);let v='<div class="cesium-infoBox-description-lighter" style="';v+="overflow:auto;",v+="word-wrap:break-word;",v+=`background-color:${A.toCssColorString()};`,v+=`color:${g.toCssColorString()};`,v+='">',v+=`${pc.innerHTML}</div>`,pc.innerHTML="",t.description=v}(t,a,c,s,o);const v=e._ellipsoid;return yc(t,a,v),_c(t,a,v),(0,f.A)(Gl(t,"Region",Pl.kml))&&(0,ro.A)("kml-region","KML - Placemark Regions are unsupported"),{entity:a,styleEntity:c}}function mc(e,t,i,n){n.addNodes(t.childNodes,i),n.process()}"undefined"!=typeof document&&(pc=document.createElement("div"));const Ac={FlyTo:function(e,t,i){const n=ql(t,"duration",Pl.gx),r=Hl(t,"flyToMode",Pl.gx),o={kml:{}};yc(t,o,i),_c(t,o,i);const s=o.kml.lookAt||o.kml.camera,a=new ml(n,r,s);e.addPlaylistEntry(a)},Wait:function(e,t){const i=ql(t,"duration",Pl.gx);e.addPlaylistEntry(new gl(i))},SoundCue:gc,AnimatedUpdate:gc,TourControl:gc};function gc(e,t){(0,ro.A)(`KML Tour unsupported node ${t.localName}`)}function _c(e,t,i){const n=Gl(e,"Camera",Pl.kml);if((0,f.A)(n)){const e=(0,p.A)(ql(n,"longitude",Pl.kml),0),r=(0,p.A)(ql(n,"latitude",Pl.kml),0),o=(0,p.A)(ql(n,"altitude",Pl.kml),0),s=(0,p.A)(ql(n,"heading",Pl.kml),0),a=(0,p.A)(ql(n,"tilt",Pl.kml),0),l=(0,p.A)(ql(n,"roll",Pl.kml),0),c=Z.A.fromDegrees(e,r,o,i),u=io.A.fromDegrees(s,a-90,l);t.kml.camera=new Jr(c,u)}}function yc(e,t,i){const n=Gl(e,"LookAt",Pl.kml);if((0,f.A)(n)){const e=(0,p.A)(ql(n,"longitude",Pl.kml),0),r=(0,p.A)(ql(n,"latitude",Pl.kml),0),o=(0,p.A)(ql(n,"altitude",Pl.kml),0);let s=ql(n,"heading",Pl.kml),a=ql(n,"tilt",Pl.kml);const l=(0,p.A)(ql(n,"range",Pl.kml),0);a=T.A.toRadians((0,p.A)(a,0)),s=T.A.toRadians((0,p.A)(s,0));const c=new to.A(s,a-T.A.PI_OVER_TWO,l),u=Z.A.fromDegrees(e,r,o,i);t.kml.lookAt=new rl(u,c)}}function vc(e,t,i,n){e._unsupportedNode.raiseEvent(e,i.parentEntity,t,i.entityCollection,i.styleCollection,i.sourceResource,i.uriResolver),(0,ro.A)(`kml-unsupportedFeature-${t.nodeName}`,`KML - Unsupported feature: ${t.nodeName}`)}const bc={INTERVAL:0,EXPIRE:1,STOP:2};function wc(e){if(!(0,f.A)(e)||0===e.length)return"";const t=e[0];return"&"!==t&&"?"!==t||(e=e.substring(1)),e}const xc=new ve.A,Cc=new Q.A,Sc=new d.A,Tc=new Z.A;function Pc(e,t,i,n,r,o){function s(e){return e<-T.A.PI_OVER_TWO?-T.A.PI_OVER_TWO:e>T.A.PI_OVER_TWO?T.A.PI_OVER_TWO:e}function a(e){return e>T.A.PI?e-T.A.TWO_PI:e<-T.A.PI?e+T.A.TWO_PI:e}let l=(0,no.A)(e.queryParameters);if(l=l.replace(/%5B/g,"[").replace(/%5D/g,"]"),(0,f.A)(t)&&t._mode!==so.A.MORPHING){let e,c;if(r=(0,p.A)(r,xc),(0,f.A)(i)&&(Sc.x=.5*i.clientWidth,Sc.y=.5*i.clientHeight,e=t.pickEllipsoid(Sc,o,Tc)),(0,f.A)(e)?c=o.cartesianToCartographic(e,Cc):(c=ve.A.center(r,Cc),e=o.cartographicToCartesian(c)),(0,f.A)(n)&&!T.A.equalsEpsilon(n,1,T.A.EPSILON9)){const e=r.width*n*.5,t=r.height*n*.5;r=new ve.A(a(c.longitude-e),s(c.latitude-t),a(c.longitude+e),s(c.latitude+t))}l=l.replace("[bboxWest]",T.A.toDegrees(r.west).toString()),l=l.replace("[bboxSouth]",T.A.toDegrees(r.south).toString()),l=l.replace("[bboxEast]",T.A.toDegrees(r.east).toString()),l=l.replace("[bboxNorth]",T.A.toDegrees(r.north).toString());const u=T.A.toDegrees(c.longitude).toString(),d=T.A.toDegrees(c.latitude).toString();l=l.replace("[lookatLon]",u),l=l.replace("[lookatLat]",d),l=l.replace("[lookatTilt]",T.A.toDegrees(t.pitch).toString()),l=l.replace("[lookatHeading]",T.A.toDegrees(t.heading).toString()),l=l.replace("[lookatRange]",Z.A.distance(t.positionWC,e)),l=l.replace("[lookatTerrainLon]",u),l=l.replace("[lookatTerrainLat]",d),l=l.replace("[lookatTerrainAlt]",c.height.toString()),o.cartesianToCartographic(t.positionWC,Cc),l=l.replace("[cameraLon]",T.A.toDegrees(Cc.longitude).toString()),l=l.replace("[cameraLat]",T.A.toDegrees(Cc.latitude).toString()),l=l.replace("[cameraAlt]",T.A.toDegrees(Cc.height).toString());const h=t.frustum,m=h.aspectRatio;let A="",g="";if((0,f.A)(m)){const e=T.A.toDegrees(h.fov);m>1?(A=e,g=e/m):(g=e,A=e*m)}l=l.replace("[horizFov]",A.toString()),l=l.replace("[vertFov]",g.toString())}else l=l.replace("[bboxWest]","-180"),l=l.replace("[bboxSouth]","-90"),l=l.replace("[bboxEast]","180"),l=l.replace("[bboxNorth]","90"),l=l.replace("[lookatLon]",""),l=l.replace("[lookatLat]",""),l=l.replace("[lookatRange]",""),l=l.replace("[lookatTilt]",""),l=l.replace("[lookatHeading]",""),l=l.replace("[lookatTerrainLon]",""),l=l.replace("[lookatTerrainLat]",""),l=l.replace("[lookatTerrainAlt]",""),l=l.replace("[cameraLon]",""),l=l.replace("[cameraLat]",""),l=l.replace("[cameraAlt]",""),l=l.replace("[horizFov]",""),l=l.replace("[vertFov]","");(0,f.A)(i)?(l=l.replace("[horizPixels]",i.clientWidth),l=l.replace("[vertPixels]",i.clientHeight)):(l=l.replace("[horizPixels]",""),l=l.replace("[vertPixels]","")),l=l.replace("[terrainEnabled]","1"),l=l.replace("[clientVersion]","1"),l=l.replace("[kmlVersion]","2.2"),l=l.replace("[clientName]","Cesium"),l=l.replace("[language]","English"),e.setQueryParameters((0,oo.A)(l))}function Ec(e,t,i,n,r,o,s){t.removeAll();const a=i.documentElement;let l=Hl("Document"===a.localName?a:Gl(a,"Document",Pl.kml),"name",Pl.kml);(0,f.A)(l)||(l=(0,ae.A)(n.getUrlComponent())),(0,f.A)(e._name)||(e._name=l);const c=new kc._DeferredLoading(e),u=new E.A(e);return Promise.all(rc(e,i,u,n,!1,r)).then((function(){let a=i.documentElement;if("kml"===a.localName){const e=a.childNodes;for(let t=0;t<e.length;t++){const i=e[t];if((0,f.A)(El[i.localName])){a=i;break}}}const l={parentEntity:void 0,entityCollection:t,styleCollection:u,sourceResource:n,uriResolver:r,context:s,screenOverlayContainer:o};return t.suspendEvents(),function(e,t,i,n){const r=El[t.localName];(0,f.A)(r)?r(e,t,i,n):vc(e,t,i)}(e,a,l,c),t.resumeEvents(),c.wait().then((function(){return i.documentElement}))}))}function Mc(e,t,i,n){let r=(n=(0,p.A)(n,p.A.EMPTY_OBJECT)).sourceUri;const o=n.uriResolver,s=n.context;let a=n.screenOverlayContainer,l=i;if("string"==typeof i||i instanceof we.A){l=(i=we.A.createIfNeeded(i)).fetchBlob(),r=(0,p.A)(r,i.clone());const t=e._resourceCredits,n=i.credits;if((0,f.A)(n)){const e=n.length;for(let i=0;i<e;i++)t.push(n[i])}}else r=(0,p.A)(r,we.A.DEFAULT.clone());return r=we.A.createIfNeeded(r),(0,f.A)(a)&&(a=(0,nl.A)(a)),Promise.resolve(l).then((function(i){return i instanceof Blob?function(e){const t=e.slice(0,Math.min(4,e.size)),i=(0,Zr.A)(),n=new FileReader;return n.addEventListener("load",(function(){i.resolve(1347093252===new DataView(n.result).getUint32(0,!1))})),n.addEventListener("error",(function(){i.reject(n.error)})),n.readAsArrayBuffer(t),i.promise}(i).then((function(n){return n?function(e,t,i,n,r){const o=(0,$r.A)("ThirdParty/Workers/z-worker-pako.js");Wo({workerScripts:{deflate:[o,"./pako_deflate.min.js"],inflate:[o,"./pako_inflate.min.js"]}});const s=new Ma(new ta(i));return Promise.resolve(s.getEntries()).then((function(i){const o=[],a={};let l;for(let e=0;e<i.length;e++){const t=i[e];t.directory||(/\.kml$/i.test(t.filename)?(0,f.A)(l)&&/\//i.test(t.filename)?o.push(Bl(t,a)):((0,f.A)(l)&&o.push(Bl(l,a)),l=t):o.push(Bl(t,a)))}return(0,f.A)(l)&&o.push(function(e,t){return Promise.resolve(e.getData(new Qs)).then((function(e){e=Il(e=kl(e)),t.kml=vl.parseFromString(e,"application/xml")}))}(l,a)),Promise.all(o).then((function(){if(s.close(),!(0,f.A)(a.kml))throw new xe.A("KMZ file does not contain a KML document.");return a.keys=Object.keys(a),Ec(e,t,a.kml,n,a,r)}))}))}(e,t,i,r,a):function(e){const t=(0,Zr.A)(),i=new FileReader;return i.addEventListener("load",(function(){t.resolve(i.result)})),i.addEventListener("error",(function(){t.reject(i.error)})),i.readAsText(e),t.promise}(i).then((function(i){let n,l;i=Il(i=kl(i));try{n=vl.parseFromString(i,"application/xml")}catch(e){l=e.toString()}if((0,f.A)(l)||n.body||"parsererror"===n.documentElement.tagName){let e=(0,f.A)(l)?l:n.documentElement.firstChild.nodeValue;throw e||(e=n.body.innerText),new xe.A(e)}return Ec(e,t,n,r,o,a,s)}))})):Ec(e,t,i,r,o,a,s)})).catch((function(t){return e._error.raiseEvent(e,t),console.log(t),Promise.reject(t)}))}function kc(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).camera,i=e.canvas;this._changed=new m.A,this._error=new m.A,this._loading=new m.A,this._refresh=new m.A,this._unsupportedNode=new m.A,this._clock=void 0,this._entityCollection=new E.A(this),this._name=void 0,this._isLoading=!1,this._pinBuilder=new en.A,this._networkLinks=new Xr.A,this._entityCluster=new qe.A,this.canvas=i,this.camera=t,this._lastCameraView={position:(0,f.A)(t)?Z.A.clone(t.positionWC):void 0,direction:(0,f.A)(t)?Z.A.clone(t.directionWC):void 0,up:(0,f.A)(t)?Z.A.clone(t.upWC):void 0,bbox:(0,f.A)(t)?t.computeViewRectangle():ve.A.clone(ve.A.MAX_VALUE)},this._ellipsoid=(0,p.A)(e.ellipsoid,oe.A.WGS84);let n=e.credit;"string"==typeof n&&(n=new ne.A(n)),this._credit=n,this._resourceCredits=[],this._kmlTours=[],this._screenOverlays=[]}function Ic(e){const t=e.parent;if((0,f.A)(t)){const i=t.availability;if((0,f.A)(i)){const t=e.availability;(0,f.A)(t)?t.intersect(i):e.availability=i}}}kc.load=function(e,t){return new kc(t=(0,p.A)(t,p.A.EMPTY_OBJECT)).load(e,t)},Object.defineProperties(kc.prototype,{name:{get:function(){return this._name},set:function(e){this._name!==e&&(this._name=e,this._changed.raiseEvent(this))}},clock:{get:function(){return this._clock}},entities:{get:function(){return this._entityCollection}},isLoading:{get:function(){return this._isLoading}},changedEvent:{get:function(){return this._changed}},errorEvent:{get:function(){return this._error}},loadingEvent:{get:function(){return this._loading}},refreshEvent:{get:function(){return this._refresh}},unsupportedNodeEvent:{get:function(){return this._unsupportedNode}},show:{get:function(){return this._entityCollection.show},set:function(e){this._entityCollection.show=e}},clustering:{get:function(){return this._entityCluster},set:function(e){if(!(0,f.A)(e))throw new S.A("value must be defined.");this._entityCluster=e}},credit:{get:function(){return this._credit}},kmlTours:{get:function(){return this._kmlTours}}}),kc.prototype.load=function(e,t){if(!(0,f.A)(e))throw new S.A("data is required.");t=(0,p.A)(t,p.A.EMPTY_OBJECT),Le.A.setLoading(this,!0);const i=this._name;this._name=void 0,this._clampToGround=(0,p.A)(t.clampToGround,!1);const n=this;return Mc(this,this._entityCollection,e,t).then((function(){let e;const t=n._entityCollection.computeAvailability();let r=t.start,o=t.stop;const s=fe.A.equals(r,pe.A.MINIMUM_VALUE),a=fe.A.equals(o,pe.A.MAXIMUM_VALUE);if(!s||!a){let t;s&&(t=new Date,t.setHours(0,0,0,0),r=fe.A.fromDate(t)),a&&(t=new Date,t.setHours(24,0,0,0),o=fe.A.fromDate(t)),e=new Ge,e.startTime=r,e.stopTime=o,e.currentTime=fe.A.clone(r),e.clockRange=ee.A.LOOP_STOP,e.clockStep=te.A.SYSTEM_CLOCK_MULTIPLIER,e.multiplier=Math.round(Math.min(Math.max(fe.A.secondsDifference(o,r)/60,1),31556900))}let l=!1;return e!==n._clock&&(n._clock=e,l=!0),i!==n._name&&(l=!0),l&&n._changed.raiseEvent(n),Le.A.setLoading(n,!1),n})).catch((function(e){return Le.A.setLoading(n,!1),n._error.raiseEvent(n,e),console.log(e),Promise.reject(e)}))},kc.prototype.destroy=function(){for(;this._screenOverlays.length>0;)this._screenOverlays.pop().remove()};const Bc=new Xr.A;function Oc(){this.author={name:void 0,uri:void 0,email:void 0},this.link={href:void 0,hreflang:void 0,rel:void 0,type:void 0,title:void 0,length:void 0},this.address=void 0,this.phoneNumber=void 0,this.snippet=void 0,this.extendedData=void 0}kc.prototype.update=function(e){const t=this._networkLinks;if(0===t.length)return!0;const i=fe.A.now(),n=this;function r(e){const t=e._children,i=t.length;for(let e=0;e<i;++e){const i=t[e];Bc.set(i.id,i),r(i)}}Bc.removeAll();let o=!1;const s=this._lastCameraView,a=this.camera;!(0,f.A)(a)||a.positionWC.equalsEpsilon(s.position,T.A.EPSILON7)&&a.directionWC.equalsEpsilon(s.direction,T.A.EPSILON7)&&a.upWC.equalsEpsilon(s.up,T.A.EPSILON7)||(s.position=Z.A.clone(a.positionWC),s.direction=Z.A.clone(a.directionWC),s.up=Z.A.clone(a.upWC),s.bbox=a.computeViewRectangle(),o=!0);const l=new Xr.A;let c=!1;return t.values.forEach((function(e){const t=e.entity;if(!Bc.contains(t.id)){if(!e.updating){let a=!1;if(e.refreshMode===bc.INTERVAL?fe.A.secondsDifference(i,e.lastUpdated)>e.time&&(a=!0):e.refreshMode===bc.EXPIRE?fe.A.greaterThan(i,e.time)&&(a=!0):e.refreshMode===bc.STOP&&(o&&(e.needsUpdate=!0,e.cameraUpdateTime=i),e.needsUpdate&&fe.A.secondsDifference(i,e.cameraUpdateTime)>=e.time&&(a=!0)),a){r(t),e.updating=!0;const i=new E.A,o=e.href.clone();o.setQueryParameters(e.cookie);const a=(0,p.A)(n._ellipsoid,oe.A.WGS84);Pc(o,n.camera,n.canvas,e.viewBoundScale,s.bbox,a),Mc(n,i,o,{context:t.id}).then(function(e,t,i,n,r){return function(o){if(!n.contains(t.id))return;let s=!1;const a=Gl(o,"NetworkLinkControl",Pl.kml);let l=0;if((0,f.A)(a)){if((0,f.A)(Gl(a,"Update",Pl.kml)))return(0,ro.A)("kml-networkLinkControl-update","KML - NetworkLinkControl updates aren't supported."),t.updating=!1,void n.remove(t.id);t.cookie=(0,oo.A)((0,p.A)(Hl(a,"cookie",Pl.kml),"")),l=(0,p.A)(ql(a,"minRefreshPeriod",Pl.kml),0)}const c=fe.A.now(),u=t.refreshMode;if(u===bc.INTERVAL)(0,f.A)(a)&&(t.time=Math.max(l,t.time));else if(u===bc.EXPIRE){let e;if((0,f.A)(a)&&(e=Hl(a,"expires",Pl.kml)),(0,f.A)(e))try{const i=fe.A.fromIso8601(e),n=fe.A.secondsDifference(i,c);n>0&&n<l&&fe.A.addSeconds(c,l,i),t.time=i}catch(e){(0,ro.A)("kml-networkLinkControl-expires","KML - NetworkLinkControl expires is not a valid date"),s=!0}else(0,ro.A)("kml-refreshMode-onExpire","KML - refreshMode of onExpire requires the NetworkLinkControl to have an expires element"),s=!0}const d=t.entity,h=e._entityCollection,m=i.values;function A(e){h.remove(e);const t=e._children,i=t.length;for(let e=0;e<i;++e)A(t[e])}h.suspendEvents();const g=h.values.slice();let _;for(_=0;_<g.length;++_){const e=g[_];e.parent===d&&(e.parent=void 0,A(e))}for(h.resumeEvents(),h.suspendEvents(),_=0;_<m.length;_++){const e=m[_];(0,f.A)(e.parent)||(e.parent=d,Ic(e)),h.add(e)}h.resumeEvents(),s?n.remove(t.id):t.lastUpdated=c;const y=h.computeAvailability(),v=y.start,b=y.stop,w=fe.A.equals(v,pe.A.MINIMUM_VALUE),x=fe.A.equals(b,pe.A.MAXIMUM_VALUE);if(!w||!x){const t=e._clock;t.startTime===v&&t.stopTime===b||(t.startTime=v,t.stopTime=b,e._changed.raiseEvent(e))}t.updating=!1,t.needsUpdate=!1,e._refresh.raiseEvent(e,r.getUrlComponent(!0))}}(n,e,i,l,o)).catch((function(t){const i=`NetworkLink ${e.href} refresh failed: ${t}`;console.log(i),n._error.raiseEvent(n,i)})),c=!0}}l.set(e.id,e)}})),c&&(this._networkLinks=l,this._changed.raiseEvent(this)),!0},kc._DeferredLoading=Ml,kc._getTimestamp=eo.A;const Rc=kc;var Fc=i(417496),Dc=i(644736),Lc=i(963503),Vc=i(563051),Nc=i(379843),Uc=i(810186),Gc=i(364360),zc=i(570667),Kc=i(372891),qc=i(302656),Hc=i(412605),Wc=i(759078),jc=i(459022),Jc=i(724883),Xc=i(279436),$c=i(692296),Yc=i(759059),Zc=i(282323),Qc=i(174068),eu=i(307509);function tu(){S.A.throwInstantiationError()}tu.prototype.update=S.A.throwInstantiationError,tu.prototype.getBoundingSphere=S.A.throwInstantiationError,tu.prototype.isDestroyed=S.A.throwInstantiationError,tu.prototype.destroy=S.A.throwInstantiationError;const iu=tu;var nu=i(146511),ru=i(802733);const ou="http://www.google.com/kml/ext/2.2";function su(e){this._files={},this._promises=[],this._count=0,this._modelCallback=e}const au=/^data:image\/([^,;]+)/;function lu(e,t){return function(i){e._files[t]=i}}function cu(e){this._time=e}function uu(){this._ids={},this._styles={},this._count=0}function du(){this._ids={}}function hu(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).entities,i=(0,p.A)(e.kmz,!1);if(!(0,f.A)(t))throw new S.A("entities is required.");const n=hu._createState(e),r=t.values.filter((function(e){return!(0,f.A)(e.parent)})),o=n.kmlDoc,s=o.documentElement;s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",ou);const a=o.createElement("Document");s.appendChild(a),fu(n,a,r),n.styleCache.save(a);const l=n.externalFileHandler;return l.promise.then((function(){const e=(new XMLSerializer).serializeToString(n.kmlDoc);return i?function(e,t){const i=(0,$r.A)("ThirdParty/Workers/z-worker-pako.js");Wo({workerScripts:{deflate:[i,"./pako_deflate.min.js"],inflate:[i,"./pako_inflate.min.js"]}});const n=new ia,r=new ja(n);return r.add("doc.kml",new Zs(e)).then((function(){const e=Object.keys(t);return pu(r,e,t,0)})).then((function(){return r.close()})).then((function(e){return{kmz:e}}))}(e,l.files):{kml:e,externalFiles:l.files}}))}function pu(e,t,i,n){if(t.length===n)return;const r=t[n];return e.add(r,new ta(i[r])).then((function(){return pu(e,t,i,n+1)}))}function fu(e,t,i){const n=e.kmlDoc,r=e.styleCache,o=e.valueGetter,s=e.idManager,a=i.length;let l,c,u;for(let d=0;d<a;++d){const a=i[d];let h;l=[],c=[],u=[],_u(e,a,c,u),wu(e,a.polyline,c,u),Cu(e,a.rectangle,c,u,l),Cu(e,a.polygon,c,u,l),Tu(e,a,a.model,c,u);const p=a.availability;(0,f.A)(p)&&(h=n.createElement("TimeSpan"),fe.A.equals(p.start,pe.A.MINIMUM_VALUE)||h.appendChild(ku(n,"begin",fe.A.toIso8601(p.start))),fe.A.equals(p.stop,pe.A.MAXIMUM_VALUE)||h.appendChild(ku(n,"end",fe.A.toIso8601(p.stop))));for(let e=0;e<l.length;++e){const i=l[e];i.setAttribute("id",s.get(a.id)),i.appendChild(ku(n,"name",a.name)),i.appendChild(ku(n,"visibility",a.show)),i.appendChild(ku(n,"description",a.description)),(0,f.A)(h)&&i.appendChild(h),t.appendChild(i)}const m=c.length;if(m>0){const e=n.createElement("Placemark");e.setAttribute("id",s.get(a.id));let i=a.name;const l=a.label;if((0,f.A)(l)){const e=n.createElement("LabelStyle"),t=o.get(l.text);i=(0,f.A)(t)&&t.length>0?t:i;const r=o.getColor(l.fillColor);(0,f.A)(r)&&(e.appendChild(ku(n,"color",r)),e.appendChild(ku(n,"colorMode","normal")));const s=o.get(l.scale);(0,f.A)(s)&&e.appendChild(ku(n,"scale",s)),u.push(e)}e.appendChild(ku(n,"name",i)),e.appendChild(ku(n,"visibility",a.show)),e.appendChild(ku(n,"description",a.description)),(0,f.A)(h)&&e.appendChild(h),t.appendChild(e);const d=u.length;if(d>0){const t=n.createElement("Style");for(let e=0;e<d;++e)t.appendChild(u[e]);e.appendChild(ku(n,"styleUrl",r.get(t)))}if(1===c.length)e.appendChild(c[0]);else if(c.length>1){const t=n.createElement("MultiGeometry");for(let e=0;e<m;++e)t.appendChild(c[e]);e.appendChild(t)}}const A=a._children;if(A.length>0){const i=n.createElement("Folder");i.setAttribute("id",s.get(a.id)),i.appendChild(ku(n,"name",a.name)),i.appendChild(ku(n,"visibility",a.show)),i.appendChild(ku(n,"description",a.description)),t.appendChild(i),fu(e,i,A)}}}su.prototype.texture=function(e){const t=this;let i;if("string"==typeof e||e instanceof we.A){if(!(e=we.A.createIfNeeded(e)).isDataUri)return e.url;const n=e.url.match(au);i="texture_"+ ++this._count,(0,f.A)(n)&&(i+=`.${n[1]}`);const r=e.fetchBlob().then((function(e){t._files[i]=e}));return this._promises.push(r),i}if(e instanceof HTMLCanvasElement){i=`texture_${++this._count}.png`;const n=new Promise((n=>{e.toBlob((function(e){t._files[i]=e,n()}))}));return this._promises.push(n),i}return""},su.prototype.model=function(e,t){const i=this._modelCallback;if(!(0,f.A)(i))throw new xe.A("Encountered a model entity while exporting to KML, but no model callback was supplied.");const n={},r=i(e,t,n);for(const e in n)if(n.hasOwnProperty(e)){const t=Promise.resolve(n[e]);this._promises.push(t),t.then(lu(this,e))}return r},Object.defineProperties(su.prototype,{promise:{get:function(){return Promise.all(this._promises)}},files:{get:function(){return this._files}}}),cu.prototype.get=function(e,t,i){let n;return(0,f.A)(e)&&(n=(0,f.A)(e.getValue)?e.getValue(this._time,i):e),(0,p.A)(n,t)},cu.prototype.getColor=function(e,t){const i=this.get(e,t);if((0,f.A)(i))return Iu(i)},cu.prototype.getMaterialType=function(e){if((0,f.A)(e))return e.getType(this._time)},uu.prototype.get=function(e){const t=this._ids,i=e.innerHTML;if((0,f.A)(t[i]))return t[i];let n="style-"+ ++this._count;return e.setAttribute("id",n),n=`#${n}`,t[i]=n,this._styles[i]=e,n},uu.prototype.save=function(e){const t=this._styles,i=e.childNodes[0];for(const n in t)t.hasOwnProperty(n)&&e.insertBefore(t[n],i)},du.prototype.get=function(e){if(!(0,f.A)(e))return this.get((0,C.A)());const t=this._ids;return(0,f.A)(t[e])?`${e.toString()}-${++t[e]}`:(t[e]=0,e)},hu._createState=function(e){const t=e.entities,i=new uu,n=t.computeAvailability(),r=(0,f.A)(e.time)?e.time:n.start;let o=(0,p.A)(e.defaultAvailability,n);const s=(0,p.A)(e.sampleDuration,60);o.start===pe.A.MINIMUM_VALUE?o.stop===pe.A.MAXIMUM_VALUE?o=new Pe.A:fe.A.addSeconds(o.stop,-10*s,o.start):o.stop===pe.A.MAXIMUM_VALUE&&fe.A.addSeconds(o.start,10*s,o.stop);const a=new su(e.modelCallback);return{kmlDoc:document.implementation.createDocument("http://www.opengis.net/kml/2.2","kml"),ellipsoid:(0,p.A)(e.ellipsoid,oe.A.WGS84),idManager:new du,styleCache:i,externalFileHandler:a,time:r,valueGetter:new cu(r),sampleDuration:s,defaultAvailability:new Ee.A([o])}};const mu=new Z.A,Au=new Q.A,gu=new fe.A;function _u(e,t,i,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter,l=(0,p.A)(t.billboard,t.point);if(!(0,f.A)(l)&&!(0,f.A)(t.path))return;const c=t.position;if(!c.isConstant)return void yu(e,t,l,i,r);a.get(c,void 0,mu);const u=ku(o,"coordinates",Mu(mu,s)),d=o.createElement("Point"),h=o.createElement("altitudeMode");h.appendChild(Eu(e,l.heightReference)),d.appendChild(h),d.appendChild(u),i.push(d);const m=l instanceof n.A?bu(e,l):vu(e,l);r.push(m)}function yu(e,t,i,r,o){const s=e.kmlDoc,a=e.ellipsoid,l=e.valueGetter;let c;const u=t.position;let d=!0;u instanceof z.A?(c=u.intervals,d=!1):c=(0,p.A)(t.availability,e.defaultAvailability);const h=i instanceof Qe.A;let m,A,g;const _=[];for(m=0;m<c.length;++m){const t=c.get(m);let n=d?u:t.data;const r=s.createElement("altitudeMode");n instanceof _l.A?(n=n._value,r.appendChild(Eu(e,Ie.A.CLAMP_TO_GROUND))):(0,f.A)(i)?r.appendChild(Eu(e,i.heightReference)):r.appendChild(Eu(e,Ie.A.NONE));const o=[],p=[];if(n.isConstant){l.get(n,void 0,mu);const e=ku(s,"coordinates",Mu(mu,a));o.push(fe.A.toIso8601(t.start)),p.push(e),o.push(fe.A.toIso8601(t.stop)),p.push(e)}else if(n instanceof St.A)for(g=n._property._times,A=0;A<g.length;++A)o.push(fe.A.toIso8601(g[A])),n.getValueInReferenceFrame(g[A],be.A.FIXED,mu),p.push(Mu(mu,a));else if(n instanceof Tt.A){g=n._times;const e=n._values;for(A=0;A<g.length;++A)o.push(fe.A.toIso8601(g[A])),Z.A.fromArray(e,3*A,mu),p.push(Mu(mu,a))}else{const i=e.sampleDuration;t.start.clone(gu),t.isStartIncluded||fe.A.addSeconds(gu,i,gu);const r=t.stop;for(;fe.A.lessThan(gu,r);)n.getValue(gu,mu),o.push(fe.A.toIso8601(gu)),p.push(Mu(mu,a)),fe.A.addSeconds(gu,i,gu);t.isStopIncluded&&fe.A.equals(gu,r)&&(n.getValue(gu,mu),o.push(fe.A.toIso8601(gu)),p.push(Mu(mu,a)))}const y=s.createElementNS(ou,"Track");y.appendChild(r);for(let e=0;e<o.length;++e){const t=ku(s,"when",o[e]),i=ku(s,"coord",p[e],ou);y.appendChild(t),y.appendChild(i)}h&&y.appendChild(Su(e,i)),_.push(y)}if(1===_.length)r.push(_[0]);else if(_.length>1){const e=s.createElementNS(ou,"MultiTrack");for(m=0;m<_.length;++m)e.appendChild(_[m]);r.push(e)}if((0,f.A)(i)&&!h){const t=i instanceof n.A?bu(e,i):vu(e,i);o.push(t)}const y=t.path;if((0,f.A)(y)){const t=l.get(y.width),i=y.material;if((0,f.A)(i)||(0,f.A)(t)){const n=s.createElement("LineStyle");(0,f.A)(t)&&n.appendChild(ku(s,"width",t)),Pu(e,i,n),o.push(n)}}}function vu(e,t){const i=e.kmlDoc,n=e.valueGetter,r=i.createElement("IconStyle"),o=n.getColor(t.color);(0,f.A)(o)&&(r.appendChild(ku(i,"color",o)),r.appendChild(ku(i,"colorMode","normal")));const s=n.get(t.pixelSize);return(0,f.A)(s)&&r.appendChild(ku(i,"scale",s/32)),r}function bu(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("IconStyle");let s=n.get(t.image);if((0,f.A)(s)){s=r.texture(s);const e=i.createElement("Icon");e.appendChild(ku(i,"href",s));const a=n.get(t.imageSubRegion);(0,f.A)(a)&&(e.appendChild(ku(i,"x",a.x,ou)),e.appendChild(ku(i,"y",a.y,ou)),e.appendChild(ku(i,"w",a.width,ou)),e.appendChild(ku(i,"h",a.height,ou))),o.appendChild(e)}const a=n.getColor(t.color);(0,f.A)(a)&&(o.appendChild(ku(i,"color",a)),o.appendChild(ku(i,"colorMode","normal")));let l=n.get(t.scale);(0,f.A)(l)&&o.appendChild(ku(i,"scale",l));const c=n.get(t.pixelOffset);if((0,f.A)(c)){l=(0,p.A)(l,1),d.A.divideByScalar(c,l,c);const e=n.get(t.width,32),r=n.get(t.height,32),s=n.get(t.horizontalOrigin,Be.A.CENTER);s===Be.A.CENTER?c.x-=.5*e:s===Be.A.RIGHT&&(c.x-=e);const a=n.get(t.verticalOrigin,Fe.A.CENTER);a===Fe.A.TOP?c.y+=r:a===Fe.A.CENTER&&(c.y+=.5*r);const u=i.createElement("hotSpot");u.setAttribute("x",-c.x),u.setAttribute("y",c.y),u.setAttribute("xunits","pixels"),u.setAttribute("yunits","pixels"),o.appendChild(u)}let u=n.get(t.rotation);const h=n.get(t.alignedAxis);return(0,f.A)(u)&&Z.A.equals(Z.A.UNIT_Z,h)&&(u=T.A.toDegrees(-u),0===u&&(u=360),o.appendChild(ku(i,"heading",u))),o}function wu(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=e.valueGetter;if(!(0,f.A)(t))return;const a=r.createElement("LineString"),l=r.createElement("altitudeMode"),c=s.get(t.clampToGround,!1);let u;c?(a.appendChild(ku(r,"tessellate",!0)),u=r.createTextNode("clampToGround")):u=r.createTextNode("absolute"),l.appendChild(u),a.appendChild(l);const d=t.positions,h=ku(r,"coordinates",Mu(s.get(d),o));a.appendChild(h);const p=s.get(t.zIndex);c&&(0,f.A)(p)&&a.appendChild(ku(r,"drawOrder",p,ou)),i.push(a);const m=r.createElement("LineStyle"),A=s.get(t.width);(0,f.A)(A)&&m.appendChild(ku(r,"width",A)),Pu(e,t.material,m),n.push(m)}function xu(e,t,i,n){const r=e.kmlDoc,o=e.ellipsoid,s=[],a=t.length;for(let e=0;e<a;++e)Q.A.fromCartesian(t[e],o,Au),s.push(`${T.A.toDegrees(Au.longitude)},${T.A.toDegrees(Au.latitude)},${n?Au.height:i}`);const l=ku(r,"coordinates",s.join(" ")),c=r.createElement("LinearRing");return c.appendChild(l),c}function Cu(e,t,i,n,r){const o=e.kmlDoc,s=e.valueGetter;if(!(0,f.A)(t))return;const a=t instanceof wt.A;if(a&&"Image"===s.getMaterialType(t.material))return void function(e,t,i){const n=e.kmlDoc,r=e.valueGetter,o=e.externalFileHandler,s=n.createElement("GroundOverlay"),a=n.createElement("altitudeMode");a.appendChild(Eu(e,t.heightReference)),s.appendChild(a);const l=r.get(t.height);(0,f.A)(l)&&s.appendChild(ku(n,"altitude",l));const c=r.get(t.coordinates),u=n.createElement("LatLonBox");u.appendChild(ku(n,"north",T.A.toDegrees(c.north))),u.appendChild(ku(n,"south",T.A.toDegrees(c.south))),u.appendChild(ku(n,"east",T.A.toDegrees(c.east))),u.appendChild(ku(n,"west",T.A.toDegrees(c.west))),s.appendChild(u);const d=r.get(t.material),h=o.texture(d.image),p=n.createElement("Icon");p.appendChild(ku(n,"href",h)),s.appendChild(p);const m=d.color;(0,f.A)(m)&&s.appendChild(ku(n,"color",Iu(d.color))),i.push(s)}(e,t,r);const l=o.createElement("Polygon"),c=s.get(t.extrudedHeight,0);c>0&&l.appendChild(ku(o,"extrude",!0));const u=a?function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);i>0&&(o=i);const s=t.coordinates,a=r.get(s),l=[],c=[ve.A.northeast,ve.A.southeast,ve.A.southwest,ve.A.northwest];for(let e=0;e<4;++e)c[e](a,Au),l.push(`${T.A.toDegrees(Au.longitude)},${T.A.toDegrees(Au.latitude)},${o}`);const u=ku(n,"coordinates",l.join(" ")),d=n.createElement("outerBoundaryIs"),h=n.createElement("LinearRing");return h.appendChild(u),d.appendChild(h),[d]}(e,t,c):function(e,t,i){const n=e.kmlDoc,r=e.valueGetter;let o=r.get(t.height,0);const s=r.get(t.perPositionHeight,!1);!s&&i>0&&(o=i);const a=[],l=t.hierarchy,c=r.get(l),u=Array.isArray(c)?c:c.positions,d=n.createElement("outerBoundaryIs");d.appendChild(xu(e,u,o,s)),a.push(d);const h=c.holes;if((0,f.A)(h)){const t=h.length;for(let i=0;i<t;++i){const t=n.createElement("innerBoundaryIs");t.appendChild(xu(e,h[i].positions,o,s)),a.push(t)}}return a}(e,t,c),d=u.length;for(let e=0;e<d;++e)l.appendChild(u[e]);const p=o.createElement("altitudeMode");p.appendChild(Eu(e,t.heightReference)),l.appendChild(p),i.push(l);const m=o.createElement("PolyStyle"),A=s.get(t.fill,!1);A&&m.appendChild(ku(o,"fill",A)),Pu(e,t.material,m);const g=s.get(t.outline,!1);if(g){m.appendChild(ku(o,"outline",g));const e=o.createElement("LineStyle"),i=s.get(t.outlineWidth,1);e.appendChild(ku(o,"width",i));const r=s.getColor(t.outlineColor,h.A.BLACK);e.appendChild(ku(o,"color",r)),e.appendChild(ku(o,"colorMode","normal")),n.push(e)}n.push(m)}function Su(e,t){const i=e.kmlDoc,n=e.valueGetter,r=e.externalFileHandler,o=i.createElement("Model"),s=n.get(t.scale);if((0,f.A)(s)){const e=i.createElement("scale");e.appendChild(ku(i,"x",s)),e.appendChild(ku(i,"y",s)),e.appendChild(ku(i,"z",s)),o.appendChild(e)}const a=i.createElement("Link"),l=r.model(t,e.time);return a.appendChild(ku(i,"href",l)),o.appendChild(a),o}function Tu(e,t,i,n,r){const o=e.kmlDoc,s=e.ellipsoid,a=e.valueGetter;if(!(0,f.A)(i))return;const l=t.position;if(!l.isConstant)return void yu(e,t,i,n,r);const c=Su(e,i),u=o.createElement("altitudeMode");u.appendChild(Eu(e,i.heightReference)),c.appendChild(u),a.get(l,void 0,mu),Q.A.fromCartesian(mu,s,Au);const d=o.createElement("Location");d.appendChild(ku(o,"longitude",T.A.toDegrees(Au.longitude))),d.appendChild(ku(o,"latitude",T.A.toDegrees(Au.latitude))),d.appendChild(ku(o,"altitude",Au.height)),c.appendChild(d),n.push(c)}function Pu(e,t,i){const n=e.kmlDoc,r=e.valueGetter;if(!(0,f.A)(t))return;const o=r.get(t);if(!(0,f.A)(o))return;let s,a,l;switch(r.getMaterialType(t)){case"Image":s=Iu(h.A.WHITE);break;case"Color":case"Grid":case"PolylineGlow":case"PolylineArrow":case"PolylineDash":s=Iu(o.color);break;case"PolylineOutline":s=Iu(o.color),a=Iu(o.outlineColor),l=o.outlineWidth,i.appendChild(ku(n,"outerColor",a,ou)),i.appendChild(ku(n,"outerWidth",l,ou));break;case"Stripe":s=Iu(o.oddColor)}(0,f.A)(s)&&(i.appendChild(ku(n,"color",s)),i.appendChild(ku(n,"colorMode","normal")))}function Eu(e,t){const i=e.kmlDoc;let n;switch(e.valueGetter.get(t,Ie.A.NONE)){case Ie.A.NONE:n=i.createTextNode("absolute");break;case Ie.A.CLAMP_TO_GROUND:n=i.createTextNode("clampToGround");break;case Ie.A.RELATIVE_TO_GROUND:n=i.createTextNode("relativeToGround")}return n}function Mu(e,t){Array.isArray(e)||(e=[e]);const i=e.length,n=[];for(let r=0;r<i;++r)Q.A.fromCartesian(e[r],t,Au),n.push(`${T.A.toDegrees(Au.longitude)},${T.A.toDegrees(Au.latitude)},${Au.height}`);return n.join(" ")}function ku(e,t,i,n){"boolean"==typeof(i=(0,p.A)(i,""))&&(i=i?"1":"0");const r=(0,f.A)(n)?e.createElementNS(n,t):e.createElement(t),o="string"===i&&-1!==i.indexOf("<")?e.createCDATASection(i):e.createTextNode(i);return r.appendChild(o),r}function Iu(e){let t="";const i=e.toBytes();for(let e=3;e>=0;--e)t+=i[e]<16?`0${i[e].toString(16)}`:i[e].toString(16);return t}const Bu=hu;var Ou=i(764729),Ru=i(481),Fu=i(641613),Du=i(442790),Lu=i(769493),Vu=i(718289),Nu=i(494156),Uu=i(681480),Gu=i(430332),zu=i(346154),Ku=i(671495),qu=i(377496),Hu=i(483128),Wu=i(804701),ju=i(418906),Ju=i(915777),Xu=i(760866),$u=i(326429),Yu=i(57775),Zu=i(40118),Qu=i(557053),ed=i(100482),td=i(654799),id=i(469635),nd=i(389994),rd=i(624512),od=i(539846),sd=i(302836),ad=i(342875),ld=i(693299),cd=i(616e3),ud=i(16012),dd=i(957233),hd=i(78078),pd=i(557448),fd=i(492718),md=i(508380),Ad=i(193470),gd=i(764011),_d=i(757146),yd=i(790868),vd=i(240863),bd=i(454214),wd=i(564886),xd=i(182348),Cd=i(655365),Sd=i(165755),Td=i(209202),Pd=i(83181),Ed=i(307898),Md=i(98055),kd=i(862892),Id=i(705302),Bd=i(41076);function Od(e){this.ellipsoid=(0,p.A)(e.ellipsoid,oe.A.WGS84),this.credit=void 0,this.tilingScheme=void 0,this.height=void 0,this.width=void 0,this.encoding=void 0,this.lodCount=void 0,this.hasAvailability=!1,this.tilesAvailable=void 0,this.tilesAvailabilityLoaded=void 0,this.levelZeroMaximumGeometricError=void 0,this.terrainDataStructure=void 0}async function Rd(e,t,i){try{!function(e,t){const i=t.copyrightText;(0,f.A)(i)&&(e.credit=new ne.A(i));const n=t.spatialReference,r=(0,p.A)(n.latestWkid,n.wkid),o=t.extent,s={ellipsoid:e.ellipsoid};if(4326===r)s.rectangle=ve.A.fromDegrees(o.xmin,o.ymin,o.xmax,o.ymax),e.tilingScheme=new xd.A(s);else{if(3857!==r)throw new xe.A("Invalid spatial reference");{const i=Math.PI*e.ellipsoid.maximumRadius;t.extent.xmax>i&&(t.extent.xmax=i),t.extent.ymax>i&&(t.extent.ymax=i),t.extent.xmin<-i&&(t.extent.xmin=-i),t.extent.ymin<-i&&(t.extent.ymin=-i),s.rectangleSouthwestInMeters=new d.A(o.xmin,o.ymin),s.rectangleNortheastInMeters=new d.A(o.xmax,o.ymax),e.tilingScheme=new Bd.A(s)}}const a=t.tileInfo;if(!(0,f.A)(a))throw new xe.A("tileInfo is required");e.width=a.rows+1,e.height=a.cols+1,e.encoding="LERC"===a.format?Cd.A.LERC:Cd.A.NONE,e.lodCount=a.lods.length-1,(e.hasAvailability=-1!==t.capabilities.indexOf("Tilemap"))&&(e.tilesAvailable=new kd.A(e.tilingScheme,e.lodCount),e.tilesAvailable.addAvailableTileRange(0,0,0,e.tilingScheme.getNumberOfXTilesAtLevel(0),e.tilingScheme.getNumberOfYTilesAtLevel(0)),e.tilesAvailabilityLoaded=new kd.A(e.tilingScheme,e.lodCount)),e.levelZeroMaximumGeometricError=Md.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.tilingScheme.ellipsoid,e.width,e.tilingScheme.getNumberOfXTilesAtLevel(0)),t.bandCount>1&&console.log("ArcGISTiledElevationTerrainProvider: Terrain data has more than 1 band. Using the first one."),(0,f.A)(t.minValues)&&(0,f.A)(t.maxValues)?e.terrainDataStructure={elementMultiplier:1,lowestEncodedHeight:t.minValues[0],highestEncodedHeight:t.maxValues[0]}:e.terrainDataStructure={elementMultiplier:1}}(e,await t.fetchJson())}catch(e){const n=`An error occurred while accessing ${t}.`;throw Id.A.reportError(void 0,i,(0,f.A)(i)?i._errorEvent:void 0,n),e}}function Fd(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._resource=void 0,this._credit=void 0,this._tilingScheme=void 0,this._levelZeroMaximumGeometricError=void 0,this._maxLevel=void 0,this._terrainDataStructure=void 0,this._width=void 0,this._height=void 0,this._encoding=void 0,this._lodCount=void 0;const t=e.token;if(this._hasAvailability=!1,this._tilesAvailable=void 0,this._tilesAvailabilityLoaded=void 0,this._availableCache={},this._ready=!1,this._errorEvent=new m.A,(0,f.A)(e.url)){(0,ol.A)("ArcGISTiledElevationTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead.");const i=this,n=new Od(e);this._readyPromise=Promise.resolve(e.url).then((async function(e){let r=we.A.createIfNeeded(e);r.appendForwardSlash(),(0,f.A)(t)&&(r=r.getDerivedResource({queryParameters:{token:t}})),i._resource=r;const o=r.getDerivedResource({queryParameters:{f:"pjson"}});return await Rd(n,o,i),n.build(i),!0}))}}function Dd(e,t,i,n){if(!e._hasAvailability)return;const r=e._tilesAvailabilityLoaded,o=e._tilesAvailable;return!(t>e._lodCount)&&(!!o.isTileAvailable(t,i,n)||!r.isTileAvailable(t,i,n)&&void 0)}function Ld(e,t,i,n){const r=t-1,o=i-1,s=n[e.y*t+e.x],a=[],l={startX:e.x,startY:e.y,endX:0,endY:0},c=new d.A(e.x+1,e.y+1);let u=!1,h=!1;for(;!u||!h;){let i=c.x;const p=h?c.y+1:c.y;if(!u){for(let i=e.y;i<p;++i)if(n[i*t+c.x]!==s){u=!0;break}u?(a.push(new d.A(c.x,e.y)),--c.x,--i,l.endX=c.x):c.x===r?(l.endX=c.x,u=!0):++c.x}if(!h){const r=c.y*t;for(let t=e.x;t<=i;++t)if(n[r+t]!==s){h=!0;break}h?(a.push(new d.A(e.x,c.y)),--c.y,l.endY=c.y):c.y===o?(l.endY=c.y,h=!0):++c.y}}return{endingIndices:a,range:l,value:s}}function Vd(e,t,i,n){if(!e._hasAvailability)return{};const r=128*Math.floor(i/128),o=128*Math.floor(n/128),s=Math.min(1<<t,128),a=`tilemap/${t}/${o}/${r}/${s}/${s}`,l=e._availableCache;if((0,f.A)(l[a]))return l[a];const c=new Td.A({throttle:!1,throttleByServer:!0,type:Ed.A.TERRAIN});let u=e._resource.getDerivedResource({url:a,request:c}).fetchJson();return(0,f.A)(u)?(u=u.then((function(a){const l=function(e,t,i,n,r){const o=[];if(r.every((function(e){return e===r[0]})))return 1===r[0]&&o.push({startX:e,startY:t,endX:e+i-1,endY:t+n-1}),o;let s=[new d.A(0,0)];for(;s.length>0;){const a=Ld(s.pop(),i,n,r);if(1===a.value){const i=a.range;i.startX+=e,i.endX+=e,i.startY+=t,i.endY+=t,o.push(i)}const l=a.endingIndices;l.length>0&&(s=s.concat(l))}return o}(r,o,s,s,a.data);e._tilesAvailabilityLoaded.addAvailableTileRange(t,r,o,r+s,o+s);const c=e._tilesAvailable;for(let e=0;e<l.length;++e){const i=l[e];c.addAvailableTileRange(t,i.startX,i.startY,i.endX,i.endY)}return Dd(e,t,i,n)})),l[a]={promise:u,request:c},u=u.finally((function(e){return delete l[a],e})),{promise:u,request:c}):{}}Od.prototype.build=function(e){e._credit=this.credit,e._tilingScheme=this.tilingScheme,e._height=this.height,e._width=this.width,e._encoding=this.encoding,e._lodCount=this.lodCount,e._hasAvailability=this.hasAvailability,e._tilesAvailable=this.tilesAvailable,e._tilesAvailabilityLoaded=this.tilesAvailabilityLoaded,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._terrainDataStructure=this.terrainDataStructure,e._ready=!0},Object.defineProperties(Fd.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,ol.A)("ArcGISTiledElevationTerrainProvider.ready","ArcGISTiledElevationTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead."),this._ready}},readyPromise:{get:function(){return(0,ol.A)("ArcGISTiledElevationTerrainProvider.readyPromise","ArcGISTiledElevationTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ArcGISTiledElevationTerrainProvider.fromUrl instead."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){return this._tilesAvailable}}}),Fd.fromUrl=async function(e,t){Ce.A.defined("url",e),t=(0,p.A)(t,p.A.EMPTY_OBJECT),e=await Promise.resolve(e);let i=we.A.createIfNeeded(e);i.appendForwardSlash(),(0,f.A)(t.token)&&(i=i.getDerivedResource({queryParameters:{token:t.token}}));const n=i.getDerivedResource({queryParameters:{f:"pjson"}}),r=new Od(t);await Rd(r,n);const o=new Fd(t);return r.build(o),o._resource=i,o},Fd.prototype.requestTileGeometry=function(e,t,i,n){const r=this._resource.getDerivedResource({url:`tile/${i}/${t}/${e}`,request:n}),o=this._hasAvailability;let s,a=Promise.resolve(!0);if(o&&!(0,f.A)(Dd(this,i+1,2*e,2*t))){const n=Vd(this,i+1,2*e,2*t);a=n.promise,s=n.request}const l=r.fetchArrayBuffer();if(!(0,f.A)(l)||!(0,f.A)(a))return;const c=this,u=this._tilesAvailable;return Promise.all([l,a]).then((function(n){return new Sd.A({buffer:n[0],width:c._width,height:c._height,childTileMask:o?u.computeChildMaskForTile(i,e,t):15,structure:c._terrainDataStructure,encoding:c._encoding})})).catch((function(e){return(0,f.A)(s)&&s.state===Pd.A.CANCELLED?(n.cancel(),n.deferred.promise.finally((function(){return n.state=Pd.A.CANCELLED,Promise.reject(e)}))):Promise.reject(e)}))},Fd.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},Fd.prototype.getTileDataAvailable=function(e,t,i){if(!this._hasAvailability)return;const n=Dd(this,i,e,t);if((0,f.A)(n))return n;Vd(this,i,e,t)},Fd.prototype.loadTileDataAvailability=function(e,t,i){};const Nd=Fd;var Ud=i(794282),Gd=i(961645),zd=i(807135);const Kd="https://dev.virtualearth.net/REST/v1/Locations";function qd(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).key;if(!(0,f.A)(t))throw new S.A("options.key is required.");this._key=t;const i={key:t};(0,f.A)(e.culture)&&(i.culture=e.culture),this._resource=new we.A({url:Kd,queryParameters:i}),this._credit=new ne.A('<img src="http://dev.virtualearth.net/Branding/logo_powered_by.png"/>',!1)}Object.defineProperties(qd.prototype,{url:{get:function(){return Kd}},key:{get:function(){return this._key}},credit:{get:function(){return this._credit}}}),qd.prototype.geocode=async function(e){return Ce.A.typeOf.string("query",e),this._resource.getDerivedResource({queryParameters:{query:e}}).fetchJsonp("jsonp").then((function(e){return 0===e.resourceSets.length?[]:e.resourceSets[0].resources.map((function(e){const t=e.bbox,i=t[0],n=t[1],r=t[2],o=t[3];return{displayName:e.name,destination:ve.A.fromDegrees(n,i,o,r)}}))}))};const Hd=qd;var Wd=i(554630),jd=i(854894),Jd=i(626809),Xd=i(297241),$d=i(961136),Yd=i(584164),Zd=i(437266);const Qd=new Jd.A,eh=new Z.A,th=new Z.A,ih=new Z.A,nh=new Z.A;function rh(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).points,i=e.times;let n=e.firstTangent,r=e.lastTangent;if(Ce.A.defined("points",t),Ce.A.defined("times",i),Ce.A.typeOf.number.greaterThanOrEquals("points.length",t.length,2),Ce.A.typeOf.number.equals("times.length","points.length",i.length,t.length),t.length>2&&((0,f.A)(n)||(n=ih,Z.A.multiplyByScalar(t[1],2,n),Z.A.subtract(n,t[2],n),Z.A.subtract(n,t[0],n),Z.A.multiplyByScalar(n,.5,n)),!(0,f.A)(r))){const e=t.length-1;r=nh,Z.A.multiplyByScalar(t[e-1],2,r),Z.A.subtract(t[e],r,r),Z.A.add(r,t[e-2],r),Z.A.multiplyByScalar(r,.5,r)}this._times=i,this._points=t,this._firstTangent=Z.A.clone(n),this._lastTangent=Z.A.clone(r),this._evaluateFunction=function(e){const t=e.points,i=e.times;if(t.length<3){const e=i[0],n=1/(i[1]-e),r=t[0],o=t[1];return function(t,i){(0,f.A)(i)||(i=new Z.A);const s=(t-e)*n;return Z.A.lerp(r,o,s,i)}}return function(n,r){(0,f.A)(r)||(r=new Z.A);const o=e._lastTimeIndex=e.findTimeInterval(n,e._lastTimeIndex),s=(n-i[o])/(i[o+1]-i[o]),a=Qd;let l,c,u,d,h;return a.z=s,a.y=s*s,a.x=a.y*s,a.w=1,0===o?(l=t[0],c=t[1],u=e.firstTangent,d=Z.A.subtract(t[2],l,eh),Z.A.multiplyByScalar(d,.5,d),h=Yd.A.multiplyByVector($d.A.hermiteCoefficientMatrix,a,a)):o===t.length-2?(l=t[o],c=t[o+1],d=e.lastTangent,u=Z.A.subtract(c,t[o-1],eh),Z.A.multiplyByScalar(u,.5,u),h=Yd.A.multiplyByVector($d.A.hermiteCoefficientMatrix,a,a)):(l=t[o-1],c=t[o],u=t[o+1],d=t[o+2],h=Yd.A.multiplyByVector(rh.catmullRomCoefficientMatrix,a,a)),r=Z.A.multiplyByScalar(l,h.x,r),Z.A.multiplyByScalar(c,h.y,th),Z.A.add(r,th,r),Z.A.multiplyByScalar(u,h.z,th),Z.A.add(r,th,r),Z.A.multiplyByScalar(d,h.w,th),Z.A.add(r,th,r)}}(this),this._lastTimeIndex=0}Object.defineProperties(rh.prototype,{times:{get:function(){return this._times}},points:{get:function(){return this._points}},firstTangent:{get:function(){return this._firstTangent}},lastTangent:{get:function(){return this._lastTangent}}}),rh.catmullRomCoefficientMatrix=new Yd.A(-.5,1,-.5,0,1.5,-2.5,0,1,-1.5,2,.5,0,.5,-.5,0,0),rh.prototype.findTimeInterval=Zd.A.prototype.findTimeInterval,rh.prototype.wrapTime=Zd.A.prototype.wrapTime,rh.prototype.clampTime=Zd.A.prototype.clampTime,rh.prototype.evaluate=function(e,t){return this._evaluateFunction(e,t)};const oh=rh;var sh=i(564453),ah=i(602317),lh=i(769534);function ch(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).radius;Ce.A.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new ah.A(i),this._workerName="createCircleGeometry"}ch.packedLength=ah.A.packedLength,ch.pack=function(e,t,i){return Ce.A.typeOf.object("value",e),ah.A.pack(e._ellipseGeometry,t,i)};const uh=new ah.A({center:new Z.A,semiMajorAxis:1,semiMinorAxis:1}),dh={center:new Z.A,radius:void 0,ellipsoid:oe.A.clone(oe.A.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new lh.A,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};ch.unpack=function(e,t,i){const n=ah.A.unpack(e,t,uh);return dh.center=Z.A.clone(n._center,dh.center),dh.ellipsoid=oe.A.clone(n._ellipsoid,dh.ellipsoid),dh.height=n._height,dh.extrudedHeight=n._extrudedHeight,dh.granularity=n._granularity,dh.vertexFormat=lh.A.clone(n._vertexFormat,dh.vertexFormat),dh.stRotation=n._stRotation,dh.shadowVolume=n._shadowVolume,(0,f.A)(i)?(dh.semiMajorAxis=n._semiMajorAxis,dh.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new ah.A(dh),i):(dh.radius=n._semiMajorAxis,new ch(dh))},ch.createGeometry=function(e){return ah.A.createGeometry(e._ellipseGeometry)},ch.createShadowVolume=function(e,t,i){const n=e._ellipseGeometry._granularity,r=e._ellipseGeometry._ellipsoid,o=t(n,r),s=i(n,r);return new ch({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:r,stRotation:e._ellipseGeometry._stRotation,granularity:n,extrudedHeight:o,height:s,vertexFormat:lh.A.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(ch.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}});const hh=ch;var ph=i(692095);function fh(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).radius;Ce.A.typeOf.number("radius",t);const i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new ph.A(i),this._workerName="createCircleOutlineGeometry"}fh.packedLength=ph.A.packedLength,fh.pack=function(e,t,i){return Ce.A.typeOf.object("value",e),ph.A.pack(e._ellipseGeometry,t,i)};const mh=new ph.A({center:new Z.A,semiMajorAxis:1,semiMinorAxis:1}),Ah={center:new Z.A,radius:void 0,ellipsoid:oe.A.clone(oe.A.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};fh.unpack=function(e,t,i){const n=ph.A.unpack(e,t,mh);return Ah.center=Z.A.clone(n._center,Ah.center),Ah.ellipsoid=oe.A.clone(n._ellipsoid,Ah.ellipsoid),Ah.height=n._height,Ah.extrudedHeight=n._extrudedHeight,Ah.granularity=n._granularity,Ah.numberOfVerticalLines=n._numberOfVerticalLines,(0,f.A)(i)?(Ah.semiMajorAxis=n._semiMajorAxis,Ah.semiMinorAxis=n._semiMinorAxis,i._ellipseGeometry=new ph.A(Ah),i):(Ah.radius=n._semiMajorAxis,new fh(Ah))},fh.createGeometry=function(e){return ph.A.createGeometry(e._ellipseGeometry)};const gh=fh;var _h=i(433235),yh=i(571804),vh=i(56233),bh=i(931806),wh=i(594647),xh=i(246520),Ch=i(173885),Sh=i(374273),Th=i(766242),Ph=i(686043),Eh=i(703983),Mh=i(400793);function kh(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),Ce.A.defined("options.callback",e.callback),Ce.A.defined("options.width",e.width),Ce.A.defined("options.height",e.height),this._callback=e.callback,this._tilingScheme=e.tilingScheme,(0,f.A)(this._tilingScheme)||(this._tilingScheme=new xd.A({ellipsoid:(0,p.A)(e.ellipsoid,oe.A.WGS84)})),this._width=e.width,this._height=e.height;const t=Math.max(this._width,this._height);this._levelZeroMaximumGeometricError=Md.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(this._tilingScheme.ellipsoid,t,this._tilingScheme.getNumberOfXTilesAtLevel(0)),this._errorEvent=new m.A;let i=e.credit;"string"==typeof i&&(i=new ne.A(i)),this._credit=i,this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(kh.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,ol.A)("CustomHeightmapTerrainProvider.ready","CustomHeightmapTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,ol.A)("CustomHeightmapTerrainProvider.readyPromise","CustomHeightmapTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},width:{get:function(){return this._width}},height:{get:function(){return this._height}}}),kh.prototype.requestTileGeometry=function(e,t,i,n){const r=this._callback(e,t,i);if(!(0,f.A)(r))return;const o=this._width,s=this._height;return Promise.resolve(r).then((function(e){let t=e;return Array.isArray(t)&&(t=new Float64Array(t)),new Sd.A({buffer:t,width:o,height:s})}))},kh.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},kh.prototype.getTileDataAvailable=function(e,t,i){},kh.prototype.loadTileDataAvailability=function(e,t,i){};const Ih=kh;var Bh=i(317061),Oh=i(302982),Rh=i(902503),Fh=i(707568),Dh=i(330926),Lh=i(634061),Vh=i(606707),Nh=i(652785),Uh=i(723635),Gh=i(715726),zh=i(602289),Kh=i(87762),qh=i(594706),Hh=i(551824),Wh=i(658091),jh=i(149192),Jh=i(199528),Xh=i(816422),$h=i(520098),Yh=i(17117),Zh=i(788335),Qh=i(263842),ep=i(123475),tp=i(675178),ip=i(653577),np=i(944479),rp=i(305439),op=i(46362);function sp(){S.A.throwInstantiationError()}sp.createGeometry=function(e){S.A.throwInstantiationError()};const ap=sp;var lp=i(75200),cp=i(494938),up=i(794554),dp=i(34233),hp=i(597751),pp=i(957171),fp=i.t(pp,2);const mp=function(e,t){return!!(e&t)},Ap=[1,2,4,8];function gp(e,t,i,n,r,o){this._bits=e,this.cnodeVersion=t,this.imageryVersion=i,this.terrainVersion=n,this.imageryProvider=r,this.terrainProvider=o,this.ancestorHasTerrain=!1,this.terrainState=void 0}gp.clone=function(e,t){return(0,f.A)(t)?(t._bits=e._bits,t.cnodeVersion=e.cnodeVersion,t.imageryVersion=e.imageryVersion,t.terrainVersion=e.terrainVersion,t.imageryProvider=e.imageryProvider,t.terrainProvider=e.terrainProvider):t=new gp(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),t.ancestorHasTerrain=e.ancestorHasTerrain,t.terrainState=e.terrainState,t},gp.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},gp.prototype.hasSubtree=function(){return mp(this._bits,16)},gp.prototype.hasImagery=function(){return mp(this._bits,64)},gp.prototype.hasTerrain=function(){return mp(this._bits,128)},gp.prototype.hasChildren=function(){return mp(this._bits,15)},gp.prototype.hasChild=function(e){return mp(this._bits,Ap[e])},gp.prototype.getChildBitmask=function(){return 15&this._bits};const _p=gp;var yp=i(222448),vp=i(971724);const bp=function(e){const t=new ArrayBuffer(1016),i=new Uint8Array(t);for(let t=0;t<1016;++t)i[t]=e.charCodeAt(t);return t}('E\vyjE",qIFgQ\0B%a,f)\b4jb%y\nwmikNuA[@V\fr|3SOlq{EVZwUe\v3*l50s3>mF8J.uDt"a"\f3"So9D\v99L\\P_"uxqh;<VqH\'UfYNeuaF}a?A\04MF\'{+Mg0\\P[/Fn5/\'C.\n\f^se4l.jC\'c#U?q{gC}:TUK/(\\-f;/*"Nk.\r}}GC+>M>}Ix\fa1-O~q \r1N\v\0nPh}=\b\rnh$[k#s\r\v@Q]".jI\0wUj{GLFS+S4Y81NXFk-#p\x005"1&/u-6,rt#G&7r\0D3-`i#i*|KQ\rT9w.)PjoP\\>TP[\vEm(w7JfJo pq~\fmI-zrY0]s x B|G`&q3=c+SD\\qD2O<)=RaX}e\r=\bB#\t^PIMGLO{+1;ol\r?_FaZU\0gJi H]~q NV<rv)I]-6;fj=P^RKsWx.YoKW>\'\'`;SD>?mw\n?RU^1I7&-\'Tj *xprh_H~XL?f>ep8iVldI\'xtOV9\0w\v-5O\bQ`\nZGM&30xFG[y`In7gS\n>F94\rSun\fY){IIwyIV.6\v:Ob{M1/8{O!Fpv})"x\n\\QYRe|3H*u`5(1-F|["');function wp(e){if(this.imageryPresent=!0,this.protoImagery=void 0,this.terrainPresent=!0,this.negativeAltitudeExponentBias=32,this.negativeAltitudeThreshold=T.A.EPSILON12,this.providers={},this.key=void 0,this._resource=void 0,this._quadPacketVersion=1,this._tileInfo={},this._subtreePromises={},this._readyPromise=Promise.resolve(!0),(0,f.A)(e)){(0,ol.A)("GoogleEarthEnterpriseMetadata options.url","GoogleEarthEnterpriseMetadata constructor parmeter resourceOrUrl was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseMetadata.fromUrl instead.");let t=e;"string"==typeof t||t instanceof we.A||(t=e.url);const i=we.A.createIfNeeded(t);i.appendForwardSlash(),this._resource=i;const n=this;this._readyPromise=Ep(this).then((function(){return n.getQuadTreePacket("",n._quadPacketVersion)})).then((function(){return!0})).catch((function(e){const t=`An error occurred while accessing ${Sp(n,"",1).url}.`;return Promise.reject(new xe.A(t))}))}}Object.defineProperties(wp.prototype,{url:{get:function(){return this._resource.url}},proxy:{get:function(){return this._resource.proxy}},resource:{get:function(){return this._resource}},readyPromise:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseMetadata.readyPromise","GoogleEarthEnterpriseMetadata.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseMetadata.fromUrl instead."),this._readyPromise}}}),wp.fromUrl=async function(e){Ce.A.defined("resourceOrUrl",e);let t=e;"string"==typeof t||t instanceof we.A||(Ce.A.typeOf.string("resourceOrUrl.url",e.url),t=e.url);const i=we.A.createIfNeeded(t);i.appendForwardSlash();const n=new wp;n._resource=i;try{await Ep(n),await n.getQuadTreePacket("",n._quadPacketVersion)}catch(e){const t=`An error occurred while accessing ${Sp(n,"",1).url}: ${e}`;throw new xe.A(t)}return n},wp.tileXYToQuadKey=function(e,t,i){let n="";for(let r=i;r>=0;--r){const i=1<<r;let o=0;mp(t,i)?mp(e,i)&&(o|=1):(o|=2,mp(e,i)||(o|=1)),n+=o}return n},wp.quadKeyToTileXY=function(e){let t=0,i=0;const n=e.length-1;for(let r=n;r>=0;--r){const o=1<<r,s=+e[n-r];mp(s,2)?mp(s,1)||(t|=o):(i|=o,mp(s,1)&&(t|=o))}return{x:t,y:i,level:n}},wp.prototype.isValid=function(e){let t=this.getTileInformationFromQuadKey(e);if((0,f.A)(t))return null!==t;let i,n=!0,r=e;for(;r.length>1;){if(i=r.substring(r.length-1),r=r.substring(0,r.length-1),t=this.getTileInformationFromQuadKey(r),(0,f.A)(t)){t.hasSubtree()||t.hasChild(parseInt(i))||(n=!1);break}if(null===t){n=!1;break}}return n};const xp=new vp.A("decodeGoogleEarthEnterprisePacket");function Cp(e,t,i){const n=e._tileInfo;let r,o=t,s=n[o];if((0,f.A)(s)&&(!s.hasSubtree()||s.hasChildren()))return s;for(;void 0===s&&o.length>1;)o=o.substring(0,o.length-1),s=n[o];const a=e._subtreePromises;let l=a[o];return(0,f.A)(l)?l.then((function(){return r=new Td.A({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),Cp(e,t,r)})):(0,f.A)(s)&&s.hasSubtree()?(l=e.getQuadTreePacket(o,s.cnodeVersion,i),(0,f.A)(l)?(a[o]=l,l.then((function(){return r=new Td.A({throttle:i.throttle,throttleByServer:i.throttleByServer,type:i.type,priorityFunction:i.priorityFunction}),Cp(e,t,r)})).finally((function(){delete a[o]}))):void 0):Promise.reject(new xe.A(`Couldn't load metadata for tile ${t}`))}function Sp(e,t,i,n){return e._resource.getDerivedResource({url:`flatfile?q2-0${t}-q.${i.toString()}`,request:n})}let Tp,Pp;function Ep(e){const t=e._resource.getDerivedResource({url:"dbRoot.v5",queryParameters:{output:"proto"}});if(!(0,f.A)(Pp)){const e=(0,$r.A)("ThirdParty/google-earth-dbroot-parser.js"),t=window.cesiumGoogleEarthDbRootParser;Pp=(0,yp.A)(e).then((function(){Tp=window.cesiumGoogleEarthDbRootParser(fp),(0,f.A)(t)?window.cesiumGoogleEarthDbRootParser=t:delete window.cesiumGoogleEarthDbRootParser}))}return Pp.then((function(){return t.fetchArrayBuffer()})).then((function(t){const i=Tp.EncryptedDbRootProto.decode(new Uint8Array(t));let n=i.encryptionData,r=n.byteOffset,o=r+n.byteLength;const s=e.key=n.buffer.slice(r,o);n=i.dbrootData,r=n.byteOffset,o=r+n.byteLength;const a=n.buffer.slice(r,o);return xp.scheduleTask({buffer:a,type:"DbRoot",key:s},[a])})).then((function(t){const i=Tp.DbRootProto.decode(new Uint8Array(t.buffer));if(e.imageryPresent=(0,p.A)(i.imageryPresent,e.imageryPresent),e.protoImagery=i.protoImagery,e.terrainPresent=(0,p.A)(i.terrainPresent,e.terrainPresent),(0,f.A)(i.endSnippet)&&(0,f.A)(i.endSnippet.model)){const t=i.endSnippet.model;e.negativeAltitudeExponentBias=(0,p.A)(t.negativeAltitudeExponentBias,e.negativeAltitudeExponentBias),e.negativeAltitudeThreshold=(0,p.A)(t.compressedNegativeAltitudeThreshold,e.negativeAltitudeThreshold)}(0,f.A)(i.databaseVersion)&&(e._quadPacketVersion=(0,p.A)(i.databaseVersion.quadtreeVersion,e._quadPacketVersion));const n=e.providers,r=(0,p.A)(i.providerInfo,[]),o=r.length;for(let e=0;e<o;++e){const t=r[e],i=t.copyrightString;(0,f.A)(i)&&(n[t.providerId]=new ne.A(i.value))}})).catch((function(){console.log(`Failed to retrieve ${t.url}. Using defaults.`),e.key=bp}))}wp.prototype.getQuadTreePacket=function(e,t,i){t=(0,p.A)(t,1);const n=Sp(this,e=(0,p.A)(e,""),t,i).fetchArrayBuffer();if(!(0,f.A)(n))return;const r=this._tileInfo,o=this.key;return n.then((function(t){return xp.scheduleTask({buffer:t,quadKey:e,type:"Metadata",key:o},[t]).then((function(t){let i,n=-1;if(""!==e){n=e.length+1;const o=t[e];i=r[e],i._bits|=o._bits,delete t[e]}const o=Object.keys(t);o.sort((function(e,t){return e.length-t.length}));const s=o.length;for(let e=0;e<s;++e){const s=o[e];if(null!==t[s]){const e=_p.clone(t[s]),o=s.length;if(o===n)e.setParent(i);else if(o>1){const t=r[s.substring(0,s.length-1)];e.setParent(t)}r[s]=e}else r[s]=null}}))}))},wp.prototype.populateSubtree=function(e,t,i,n){return Cp(this,wp.tileXYToQuadKey(e,t,i),n)},wp.prototype.getTileInformation=function(e,t,i){const n=wp.tileXYToQuadKey(e,t,i);return this._tileInfo[n]},wp.prototype.getTileInformationFromQuadKey=function(e){return this._tileInfo[e]};const Mp=wp;var kp=i(874915),Ip=i(587451),Bp=i(832698),Op=i(589670),Rp=i(42794),Fp=i(371267),Dp=i(255335);function Lp(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),Ce.A.typeOf.object("options.buffer",e.buffer),Ce.A.typeOf.number("options.negativeAltitudeExponentBias",e.negativeAltitudeExponentBias),Ce.A.typeOf.number("options.negativeElevationThreshold",e.negativeElevationThreshold),this._buffer=e.buffer,this._credits=e.credits,this._negativeAltitudeExponentBias=e.negativeAltitudeExponentBias,this._negativeElevationThreshold=e.negativeElevationThreshold;const t=(0,p.A)(e.childTileMask,15);let i=3&t;i|=4&t?8:0,i|=8&t?4:0,this._childTileMask=i,this._createdByUpsampling=(0,p.A)(e.createdByUpsampling,!1),this._skirtHeight=void 0,this._bufferType=this._buffer.constructor,this._mesh=void 0,this._minimumHeight=void 0,this._maximumHeight=void 0}Object.defineProperties(Lp.prototype,{credits:{get:function(){return this._credits}},waterMask:{get:function(){}}});const Vp="createVerticesFromGoogleEarthEnterpriseBuffer",Np=new vp.A(Vp),Up=new vp.A(Vp,Rp.A.maximumAsynchronousTasks),Gp=new ve.A,zp=new ve.A;Lp.prototype.createMesh=function(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),Ce.A.typeOf.object("options.tilingScheme",e.tilingScheme),Ce.A.typeOf.number("options.x",e.x),Ce.A.typeOf.number("options.y",e.y),Ce.A.typeOf.number("options.level",e.level);const t=e.tilingScheme,i=e.x,n=e.y,r=e.level,o=(0,p.A)(e.exaggeration,1),s=(0,p.A)(e.exaggerationRelativeHeight,0),a=(0,p.A)(e.throttle,!0),l=t.ellipsoid;t.tileXYToNativeRectangle(i,n,r,Gp),t.tileXYToRectangle(i,n,r,zp);const c=l.cartographicToCartesian(ve.A.center(zp)),u=40075.16/(1<<r);this._skirtHeight=Math.min(8*u,1e3);const d=(a?Up:Np).scheduleTask({buffer:this._buffer,nativeRectangle:Gp,rectangle:zp,relativeToCenter:c,ellipsoid:l,skirtHeight:this._skirtHeight,exaggeration:o,exaggerationRelativeHeight:s,includeWebMercatorT:!0,negativeAltitudeExponentBias:this._negativeAltitudeExponentBias,negativeElevationThreshold:this._negativeElevationThreshold});if(!(0,f.A)(d))return;const h=this;return d.then((function(e){return h._mesh=new Dp.A(c,new Float32Array(e.vertices),new Uint16Array(e.indices),e.indexCountWithoutSkirts,e.vertexCountWithoutSkirts,e.minimumHeight,e.maximumHeight,dl.A.clone(e.boundingSphere3D),Z.A.clone(e.occludeePointInScaledSpace),e.numberOfAttributes,Bp.A.clone(e.orientedBoundingBox),Fp.A.clone(e.encoding),e.westIndicesSouthToNorth,e.southIndicesEastToWest,e.eastIndicesNorthToSouth,e.northIndicesWestToEast),h._minimumHeight=e.minimumHeight,h._maximumHeight=e.maximumHeight,h._buffer=void 0,h._mesh}))},Lp.prototype.interpolateHeight=function(e,t,i){const n=T.A.clamp((t-e.west)/e.width,0,1),r=T.A.clamp((i-e.south)/e.height,0,1);return(0,f.A)(this._mesh)?function(e,t,i){const n=e._mesh,r=n.vertices,o=n.encoding,s=n.indices;for(let e=0,n=s.length;e<n;e+=3){const n=s[e],a=s[e+1],l=s[e+2],c=o.decodeTextureCoordinates(r,n,qp),u=o.decodeTextureCoordinates(r,a,Hp),d=o.decodeTextureCoordinates(r,l,Wp),h=Ip.A.computeBarycentricCoordinates(t,i,c.x,c.y,u.x,u.y,d.x,d.y,jp);if(h.x>=-1e-15&&h.y>=-1e-15&&h.z>=-1e-15){const e=o.decodeHeight(r,n),t=o.decodeHeight(r,a),i=o.decodeHeight(r,l);return h.x*e+h.y*t+h.z*i}}}(this,n,r):function(e,t,i,n){const r=e._buffer;let o=0,s=0,a=0;i>.5?(t>.5?(o=2,s=.5):o=3,a=.5):t>.5&&(o=1,s=.5);const l=new DataView(r);let c=0;for(let e=0;e<o;++e)c+=l.getUint32(c,!0),c+=Xp;c+=Xp,c+=2*Zp;const u=T.A.toRadians(180*l.getFloat64(c,!0));c+=Zp;const d=T.A.toRadians(180*l.getFloat64(c,!0));c+=Zp;const h=n.width/u/2,p=n.height/d/2,f=l.getInt32(c,!0);c+=$p;const m=3*l.getInt32(c,!0);c+=$p,c+=$p;const A=new Array(f),g=new Array(f),_=new Array(f);let y;for(y=0;y<f;++y)A[y]=s+l.getUint8(c++)*h,g[y]=a+l.getUint8(c++)*p,_[y]=6371010*l.getFloat32(c,!0),c+=Yp;const v=new Array(m);for(y=0;y<m;++y)v[y]=l.getUint16(c,!0),c+=Jp;for(y=0;y<m;y+=3){const e=v[y],n=v[y+1],r=v[y+2],o=A[e],s=A[n],a=A[r],l=g[e],c=g[n],u=g[r],d=Ip.A.computeBarycentricCoordinates(t,i,o,l,s,c,a,u,jp);if(d.x>=-1e-15&&d.y>=-1e-15&&d.z>=-1e-15)return d.x*_[e]+d.y*_[n]+d.z*_[r]}}(this,n,r,e)};const Kp=new vp.A("upsampleQuantizedTerrainMesh",Rp.A.maximumAsynchronousTasks);Lp.prototype.upsample=function(e,t,i,n,r,o,s){if(Ce.A.typeOf.object("tilingScheme",e),Ce.A.typeOf.number("thisX",t),Ce.A.typeOf.number("thisY",i),Ce.A.typeOf.number("thisLevel",n),Ce.A.typeOf.number("descendantX",r),Ce.A.typeOf.number("descendantY",o),Ce.A.typeOf.number("descendantLevel",s),s-n>1)throw new S.A("Upsampling through more than one level at a time is not currently supported.");const a=this._mesh;if(!(0,f.A)(this._mesh))return;const l=2*t!==r,c=2*i===o,u=e.ellipsoid,d=e.tileXYToRectangle(r,o,s),h=Kp.scheduleTask({vertices:a.vertices,indices:a.indices,indexCountWithoutSkirts:a.indexCountWithoutSkirts,vertexCountWithoutSkirts:a.vertexCountWithoutSkirts,encoding:a.encoding,minimumHeight:this._minimumHeight,maximumHeight:this._maximumHeight,isEastChild:l,isNorthChild:c,childRectangle:d,ellipsoid:u});if(!(0,f.A)(h))return;const p=this;return h.then((function(e){const t=new Uint16Array(e.vertices),i=kp.A.createTypedArray(t.length/3,e.indices),n=p._skirtHeight;return new Op.A({quantizedVertices:t,indices:i,minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight,boundingSphere:dl.A.clone(e.boundingSphere),orientedBoundingBox:Bp.A.clone(e.orientedBoundingBox),horizonOcclusionPoint:Z.A.clone(e.horizonOcclusionPoint),westIndices:e.westIndices,southIndices:e.southIndices,eastIndices:e.eastIndices,northIndices:e.northIndices,westSkirtHeight:n,southSkirtHeight:n,eastSkirtHeight:n,northSkirtHeight:n,childTileMask:0,createdByUpsampling:!0,credits:p._credits})}))},Lp.prototype.isChildAvailable=function(e,t,i,n){Ce.A.typeOf.number("thisX",e),Ce.A.typeOf.number("thisY",t),Ce.A.typeOf.number("childX",i),Ce.A.typeOf.number("childY",n);let r=2;return i!==2*e&&++r,n!==2*t&&(r-=2),!!(this._childTileMask&1<<r)},Lp.prototype.wasCreatedByUpsampling=function(){return this._createdByUpsampling};const qp=new d.A,Hp=new d.A,Wp=new d.A,jp=new Z.A,Jp=Uint16Array.BYTES_PER_ELEMENT,Xp=Uint32Array.BYTES_PER_ELEMENT,$p=Int32Array.BYTES_PER_ELEMENT,Yp=Float32Array.BYTES_PER_ELEMENT,Zp=Float64Array.BYTES_PER_ELEMENT,Qp=Lp,ef=new fe.A;function tf(){this._terrainCache={},this._lastTidy=fe.A.now()}function nf(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._tilingScheme=new xd.A({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.A(-T.A.PI,-T.A.PI,T.A.PI,T.A.PI),ellipsoid:e.ellipsoid});let t=e.credit;if("string"==typeof t&&(t=new ne.A(t)),this._credit=t,this._levelZeroMaximumGeometricError=40075.16,this._terrainCache=new tf,this._terrainPromises={},this._terrainRequests={},this._errorEvent=new m.A,this._ready=!1,(0,f.A)(e.url)){(0,ol.A)("GoogleEarthEnterpriseTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseTerrainProvider.fromMetadata instead.");const t=we.A.createIfNeeded(e.url),i=this;let n;this._readyPromise=Mp.fromUrl(t).then((e=>{if(!e.terrainPresent){const t=new xe.A(`The server ${e.url} doesn't have terrain`);return Promise.reject(t)}return Id.A.reportSuccess(n),i._metadata=e,i._ready=!0,!0})).catch((e=>{throw n=Id.A.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),e}))}else if((0,f.A)(e.metadata)){(0,ol.A)("GoogleEarthEnterpriseTerrainProvider options.metadata","options.metadata was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseTerrainProvider.fromMetadata instead.");const t=e.metadata;this._metadata=t;const i=this;this._readyPromise=Promise.resolve(this._metadata._readyPromise).then((()=>{if(!t.terrainPresent)throw new xe.A(`The server ${t.url} doesn't have terrain`);i._ready=!0}))}}tf.prototype.add=function(e,t){this._terrainCache[e]={buffer:t,timestamp:fe.A.now()}},tf.prototype.get=function(e){const t=this._terrainCache[e];if((0,f.A)(t))return delete this._terrainCache[e],t.buffer},tf.prototype.tidy=function(){if(fe.A.now(ef),fe.A.secondsDifference(ef,this._lastTidy)>10){const e=this._terrainCache,t=Object.keys(e),i=t.length;for(let n=0;n<i;++n){const i=t[n],r=e[i];fe.A.secondsDifference(ef,r.timestamp)>10&&delete e[i]}fe.A.clone(ef,this._lastTidy)}},Object.defineProperties(nf.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tilingScheme:{get:function(){return this._tilingScheme}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseTerrainProvider.ready","GoogleEarthEnterpriseTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._ready}},readyPromise:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseTerrainProvider.readyPromise","GoogleEarthEnterpriseTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){return this._credit}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),nf.fromMetadata=function(e,t){if(Ce.A.defined("metadata",e),!e.terrainPresent)throw new xe.A(`The server ${e.url} doesn't have terrain`);const i=new nf(t);return i._metadata=e,i._readyPromise=Promise.resolve(!0),i._ready=!0,i};const rf=new vp.A("decodeGoogleEarthEnterprisePacket");function of(e,t,i){let n=t.getChildBitmask();if(3===t.terrainState){n=0;for(let t=0;t<4;++t){const r=i.getTileInformationFromQuadKey(e+t.toString());(0,f.A)(r)&&r.hasTerrain()&&(n|=1<<t)}}return n}nf.prototype.requestTileGeometry=function(e,t,i,n){const r=Mp.tileXYToQuadKey(e,t,i),o=this._terrainCache,s=this._metadata,a=s.getTileInformationFromQuadKey(r);if(!(0,f.A)(a))return Promise.reject(new xe.A("Terrain tile doesn't exist"));let l=a.terrainState;(0,f.A)(l)||(l=a.terrainState=0);const c=o.get(r);if((0,f.A)(c)){const e=s.providers[a.terrainProvider];return Promise.resolve(new Qp({buffer:c,childTileMask:of(r,a,s),credits:(0,f.A)(e)?[e]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold}))}if(o.tidy(),!a.ancestorHasTerrain)return Promise.resolve(new Sd.A({buffer:new Uint8Array(256),width:16,height:16}));if(1===l)return Promise.reject(new xe.A("Terrain tile doesn't exist"));let u,d=r,h=-1;switch(l){case 2:h=a.terrainVersion;break;case 3:d=d.substring(0,d.length-1),u=s.getTileInformationFromQuadKey(d),h=u.terrainVersion;break;case 0:a.hasTerrain()?h=a.terrainVersion:(d=d.substring(0,d.length-1),u=s.getTileInformationFromQuadKey(d),(0,f.A)(u)&&u.hasTerrain()&&(h=u.terrainVersion))}if(h<0)return Promise.reject(new xe.A("Terrain tile doesn't exist"));const p=this._terrainPromises,m=this._terrainRequests;let A,g;if((0,f.A)(p[d]))A=p[d],g=m[d];else{g=n;const e=function(e,t,i,n){return i=(0,f.A)(i)&&i>0?i:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1c-0${t}-t.${i.toString()}`,request:n})}(this,d,h,g).fetchArrayBuffer();if(!(0,f.A)(e))return;A=e.then((function(e){return(0,f.A)(e)?rf.scheduleTask({buffer:e,type:"Terrain",key:s.key},[e]).then((function(e){const t=s.getTileInformationFromQuadKey(d);t.terrainState=2,o.add(d,e[0]);const i=t.terrainProvider,n=e.length-1;for(let t=0;t<n;++t){const n=d+t.toString(),r=s.getTileInformationFromQuadKey(n);(0,f.A)(r)&&(o.add(n,e[t+1]),r.terrainState=3,0===r.terrainProvider&&(r.terrainProvider=i))}})):Promise.reject(new xe.A("Failed to load terrain."))})),p[d]=A,m[d]=g,A=A.finally((function(){delete p[d],delete m[d]}))}return A.then((function(){const e=o.get(r);if((0,f.A)(e)){const t=s.providers[a.terrainProvider];return new Qp({buffer:e,childTileMask:of(r,a,s),credits:(0,f.A)(t)?[t]:void 0,negativeAltitudeExponentBias:s.negativeAltitudeExponentBias,negativeElevationThreshold:s.negativeAltitudeThreshold})}return Promise.reject(new xe.A("Failed to load terrain."))})).catch((function(e){return g.state===Pd.A.CANCELLED?(n.state=g.state,Promise.reject(e)):(a.terrainState=1,Promise.reject(e))}))},nf.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)},nf.prototype.getTileDataAvailable=function(e,t,i){const n=this._metadata;let r=Mp.tileXYToQuadKey(e,t,i);const o=n.getTileInformation(e,t,i);if(null===o)return!1;if((0,f.A)(o)){if(!o.ancestorHasTerrain)return!0;const e=o.terrainState;if(1===e)return!1;if(!((0,f.A)(e)&&0!==e||(o.terrainState=0,o.hasTerrain()))){r=r.substring(0,r.length-1);const e=n.getTileInformationFromQuadKey(r);if(!(0,f.A)(e)||!e.hasTerrain())return!1}return!0}if(n.isValid(r)){const r=new Td.A({throttle:!1,throttleByServer:!0,type:Ed.A.TERRAIN});n.populateSubtree(e,t,i,r)}return!1},nf.prototype.loadTileDataAvailability=function(e,t,i){};const sf=nf;let af;const lf="AIzaSyBqCv5lozjjhtIQ_pZuj2obyAL9bTJdY28",cf={};cf.defaultApiKey=lf,cf.mapTilesApiEndpoint=new we.A({url:"https://tile.googleapis.com/v1/"}),cf.getDefaultApiKeyCredit=function(e){if(e===lf){if(!(0,f.A)(af)){const e='<b>             This application is using CesiumJS\'s default Google Maps API key. Please assign <i>Cesium.GoogleMaps.defaultApiKey</i>             with <a href="https://developers.google.com/maps/documentation/embed/get-api-key">your API key for the Google Maps Platform</a>.</b>';af=new ne.A(e,!0),af._isDefaultToken=!0}return af}};const uf=cf;var df=i(658919),hf=i(974904),pf=i(129961),ff=i(103882),mf=i(416721),Af=i(941060),gf=i(548840),_f=i(150066),yf=i(220871),vf=i(300138);const bf={type:void 0};bf.getRequiredDataPoints=S.A.throwInstantiationError,bf.interpolateOrderZero=S.A.throwInstantiationError,bf.interpolate=S.A.throwInstantiationError;const wf=bf;var xf=i(92457),Cf=i(647326),Sf=i(150429),Tf=i(33914),Pf=i(386009),Ef=i(5188),Mf=i(954865),kf=i(708025),If=i(267465),Bf=i(223049),Of=i(153127),Rf=i(981757);function Ff(){S.A.throwInstantiationError()}Object.defineProperties(Ff.prototype,{ellipsoid:{get:S.A.throwInstantiationError}}),Ff.prototype.project=S.A.throwInstantiationError,Ff.prototype.unproject=S.A.throwInstantiationError;const Df=Ff;var Lf=i(463298);function Vf(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).weights,i=e.times;if(Ce.A.defined("weights",t),Ce.A.defined("times",i),Ce.A.typeOf.number.greaterThanOrEquals("weights.length",t.length,3),t.length%i.length!=0)throw new S.A("times.length must be a factor of weights.length.");this._times=i,this._weights=t,this._count=t.length/i.length,this._lastTimeIndex=0}Object.defineProperties(Vf.prototype,{times:{get:function(){return this._times}},weights:{get:function(){return this._weights}}}),Vf.prototype.findTimeInterval=Zd.A.prototype.findTimeInterval,Vf.prototype.wrapTime=Zd.A.prototype.wrapTime,Vf.prototype.clampTime=Zd.A.prototype.clampTime,Vf.prototype.evaluate=function(e,t){const i=this.weights,n=this.times,r=this._lastTimeIndex=this.findTimeInterval(e,this._lastTimeIndex),o=(e-n[r])/(n[r+1]-n[r]);(0,f.A)(t)||(t=new Array(this._count));for(let e=0;e<this._count;e++){const n=r*this._count+e;t[e]=i[n]*(1-o)+i[n+this._count]*o}return t};const Nf=Vf;var Uf=i(245226),Gf=i(19128),zf=i(852575);function Kf(e,t,i){Ce.A.defined("url",e),Ce.A.defined("apiKey",t),(0,f.A)(i)&&Ce.A.typeOf.object("params",i),(e=we.A.createIfNeeded(e)).appendForwardSlash(),e.setQueryParameters({key:t}),this._url=e,this._params=(0,p.A)(i,{}),this._credit=new ne.A('Geodata copyright <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',!1)}Object.defineProperties(Kf.prototype,{url:{get:function(){return this._url}},params:{get:function(){return this._params}},credit:{get:function(){return this._credit}}}),Kf.prototype.geocode=async function(e){return Ce.A.typeOf.string("query",e),this._url.getDerivedResource({url:"json",queryParameters:(0,hl.A)(this._params,{q:e})}).fetchJson().then((function(e){return e.results.map((function(e){let t;const i=e.bounds;if((0,f.A)(i))t=ve.A.fromDegrees(i.southwest.lng,i.southwest.lat,i.northeast.lng,i.northeast.lat);else{const i=e.geometry.lat,n=e.geometry.lng;t=Z.A.fromDegrees(i,n)}return{displayName:e.formatted,destination:t}}))}))};const qf=Kf;var Hf=i(811203),Wf=i(65891);const jf={packedLength:void 0,pack:S.A.throwInstantiationError,unpack:S.A.throwInstantiationError},Jf={packedInterpolationLength:void 0,convertPackedArrayForInterpolation:S.A.throwInstantiationError,unpackInterpolationResult:S.A.throwInstantiationError};var Xf=i(927578),$f=i(666775),Yf=i(65783),Zf=i(276904),Qf=i(257941),em=i(84609),tm=i(350939),im=i(151949),nm=i(71694),rm=i(87551),om=i(406719),sm=i(977363),am=i(870349),lm=i(828021),cm=i(748918),um=i(365943),dm=i(402330);function hm(){S.A.throwInstantiationError()}hm.prototype.getURL=S.A.throwInstantiationError;const pm=hm;var fm=i(118135),mm=i(173866),Am=i(259690),gm=i(67988),_m=i(766067),ym=i(487741),vm=i(844610),bm=i(512827),wm=i(406882),xm=i(373388),Cm=i(866569),Sm=i(252538),Tm=i(86881),Pm=i(149785),Em=i(708857),Mm=i(658542);function km(e,t,i,n,r,o,s){const a=am.A.numberOfPoints(e,t,r);let l;const c=i.red,u=i.green,d=i.blue,p=i.alpha,f=n.red,m=n.green,A=n.blue,g=n.alpha;if(h.A.equals(i,n)){for(l=0;l<a;l++)o[s++]=h.A.floatToByte(c),o[s++]=h.A.floatToByte(u),o[s++]=h.A.floatToByte(d),o[s++]=h.A.floatToByte(p);return s}const _=(f-c)/a,y=(m-u)/a,v=(A-d)/a,b=(g-p)/a;let w=s;for(l=0;l<a;l++)o[w++]=h.A.floatToByte(c+l*_),o[w++]=h.A.floatToByte(u+l*y),o[w++]=h.A.floatToByte(d+l*v),o[w++]=h.A.floatToByte(p+l*b);return w}function Im(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).positions,i=e.colors,n=(0,p.A)(e.colorsPerVertex,!1);if(!(0,f.A)(t)||t.length<2)throw new S.A("At least two positions are required.");if((0,f.A)(i)&&(n&&i.length<t.length||!n&&i.length<t.length-1))throw new S.A("colors has an invalid length.");this._positions=t,this._colors=i,this._colorsPerVertex=n,this._arcType=(0,p.A)(e.arcType,$.A.GEODESIC),this._granularity=(0,p.A)(e.granularity,T.A.RADIANS_PER_DEGREE),this._ellipsoid=(0,p.A)(e.ellipsoid,oe.A.WGS84),this._workerName="createSimplePolylineGeometry";let r=1+t.length*Z.A.packedLength;r+=(0,f.A)(i)?1+i.length*h.A.packedLength:1,this.packedLength=r+oe.A.packedLength+3}Im.pack=function(e,t,i){if(!(0,f.A)(e))throw new S.A("value is required");if(!(0,f.A)(t))throw new S.A("array is required");let n;i=(0,p.A)(i,0);const r=e._positions;let o=r.length;for(t[i++]=o,n=0;n<o;++n,i+=Z.A.packedLength)Z.A.pack(r[n],t,i);const s=e._colors;for(o=(0,f.A)(s)?s.length:0,t[i++]=o,n=0;n<o;++n,i+=h.A.packedLength)h.A.pack(s[n],t,i);return oe.A.pack(e._ellipsoid,t,i),i+=oe.A.packedLength,t[i++]=e._colorsPerVertex?1:0,t[i++]=e._arcType,t[i]=e._granularity,t},Im.unpack=function(e,t,i){if(!(0,f.A)(e))throw new S.A("array is required");let n;t=(0,p.A)(t,0);let r=e[t++];const o=new Array(r);for(n=0;n<r;++n,t+=Z.A.packedLength)o[n]=Z.A.unpack(e,t);r=e[t++];const s=r>0?new Array(r):void 0;for(n=0;n<r;++n,t+=h.A.packedLength)s[n]=h.A.unpack(e,t);const a=oe.A.unpack(e,t);t+=oe.A.packedLength;const l=1===e[t++],c=e[t++],u=e[t];return(0,f.A)(i)?(i._positions=o,i._colors=s,i._ellipsoid=a,i._colorsPerVertex=l,i._arcType=c,i._granularity=u,i):new Im({positions:o,colors:s,ellipsoid:a,colorsPerVertex:l,arcType:c,granularity:u})};const Bm=new Array(2),Om=new Array(2),Rm={positions:Bm,height:Om,ellipsoid:void 0,minDistance:void 0,granularity:void 0};Im.createGeometry=function(e){const t=e._positions,i=e._colors,n=e._colorsPerVertex,r=e._arcType,o=e._granularity,s=e._ellipsoid,a=T.A.chordLength(o,s.maximumRadius),l=(0,f.A)(i)&&!n;let c;const u=t.length;let d,p,m,A,g=0;if(r===$.A.GEODESIC||r===$.A.RHUMB){let e,n,p;r===$.A.GEODESIC?(e=T.A.chordLength(o,s.maximumRadius),n=am.A.numberOfPoints,p=am.A.generateArc):(e=o,n=am.A.numberOfPointsRhumbLine,p=am.A.generateRhumbArc);const _=am.A.extractHeights(t,s),y=Rm;if(r===$.A.GEODESIC?y.minDistance=a:y.granularity=o,y.ellipsoid=s,l){let r=0;for(c=0;c<u-1;c++)r+=n(t[c],t[c+1],e)+1;d=new Float64Array(3*r),m=new Uint8Array(4*r),y.positions=Bm,y.height=Om;let o=0;for(c=0;c<u-1;++c){Bm[0]=t[c],Bm[1]=t[c+1],Om[0]=_[c],Om[1]=_[c+1];const e=p(y);if((0,f.A)(i)){const t=e.length/3;A=i[c];for(let e=0;e<t;++e)m[o++]=h.A.floatToByte(A.red),m[o++]=h.A.floatToByte(A.green),m[o++]=h.A.floatToByte(A.blue),m[o++]=h.A.floatToByte(A.alpha)}d.set(e,g),g+=e.length}}else if(y.positions=t,y.height=_,d=new Float64Array(p(y)),(0,f.A)(i)){for(m=new Uint8Array(d.length/3*4),c=0;c<u-1;++c)g=km(t[c],t[c+1],i[c],i[c+1],a,m,g);const e=i[u-1];m[g++]=h.A.floatToByte(e.red),m[g++]=h.A.floatToByte(e.green),m[g++]=h.A.floatToByte(e.blue),m[g++]=h.A.floatToByte(e.alpha)}}else{p=l?2*u-2:u,d=new Float64Array(3*p),m=(0,f.A)(i)?new Uint8Array(4*p):void 0;let e=0,n=0;for(c=0;c<u;++c){const r=t[c];if(l&&c>0&&(Z.A.pack(r,d,e),e+=3,A=i[c-1],m[n++]=h.A.floatToByte(A.red),m[n++]=h.A.floatToByte(A.green),m[n++]=h.A.floatToByte(A.blue),m[n++]=h.A.floatToByte(A.alpha)),l&&c===u-1)break;Z.A.pack(r,d,e),e+=3,(0,f.A)(i)&&(A=i[c],m[n++]=h.A.floatToByte(A.red),m[n++]=h.A.floatToByte(A.green),m[n++]=h.A.floatToByte(A.blue),m[n++]=h.A.floatToByte(A.alpha))}}const _=new op.A;_.position=new rp.A({componentDatatype:yh.A.DOUBLE,componentsPerAttribute:3,values:d}),(0,f.A)(i)&&(_.color=new rp.A({componentDatatype:yh.A.UNSIGNED_BYTE,componentsPerAttribute:4,values:m,normalize:!0})),p=d.length/3;const y=2*(p-1),v=kp.A.createTypedArray(p,y);let b=0;for(c=0;c<p-1;++c)v[b++]=c,v[b++]=c+1;return new np.A({attributes:_,indices:v,primitiveType:dm.A.LINES,boundingSphere:dl.A.fromPoints(t)})};const Fm=Im;function Dm(e){const t=(0,p.A)(e.radius,1),i={radii:new Z.A(t,t,t),stackPartitions:e.stackPartitions,slicePartitions:e.slicePartitions,vertexFormat:e.vertexFormat};this._ellipsoidGeometry=new Kh.A(i),this._workerName="createSphereGeometry"}Dm.packedLength=Kh.A.packedLength,Dm.pack=function(e,t,i){return Ce.A.typeOf.object("value",e),Kh.A.pack(e._ellipsoidGeometry,t,i)};const Lm=new Kh.A,Vm={radius:void 0,radii:new Z.A,vertexFormat:new lh.A,stackPartitions:void 0,slicePartitions:void 0};Dm.unpack=function(e,t,i){const n=Kh.A.unpack(e,t,Lm);return Vm.vertexFormat=lh.A.clone(n._vertexFormat,Vm.vertexFormat),Vm.stackPartitions=n._stackPartitions,Vm.slicePartitions=n._slicePartitions,(0,f.A)(i)?(Z.A.clone(n._radii,Vm.radii),i._ellipsoidGeometry=new Kh.A(Vm),i):(Vm.radius=n._radii.x,new Dm(Vm))},Dm.createGeometry=function(e){return Kh.A.createGeometry(e._ellipsoidGeometry)};const Nm=Dm;var Um=i(6874),Gm=i(587841),zm=i(680220),Km=i(66415),qm=i(36138);function Hm(e){throw new S.A("This type should not be instantiated directly.  Instead, use WebMercatorTilingScheme or GeographicTilingScheme.")}Object.defineProperties(Hm.prototype,{ellipsoid:{get:S.A.throwInstantiationError},rectangle:{get:S.A.throwInstantiationError},projection:{get:S.A.throwInstantiationError}}),Hm.prototype.getNumberOfXTilesAtLevel=S.A.throwInstantiationError,Hm.prototype.getNumberOfYTilesAtLevel=S.A.throwInstantiationError,Hm.prototype.rectangleToNativeRectangle=S.A.throwInstantiationError,Hm.prototype.tileXYToNativeRectangle=S.A.throwInstantiationError,Hm.prototype.tileXYToRectangle=S.A.throwInstantiationError,Hm.prototype.positionToTileXY=S.A.throwInstantiationError;const Wm=Hm;var jm=i(711337),Jm=i(193387),Xm=i(343899),$m=i(884842),Ym=i(710551),Zm=i(78170),Qm=i(85935);function eA(e,t){this.rectangle=e,this.maxLevel=t}function tA(e){this.ellipsoid=(0,p.A)(e.ellipsoid,oe.A.WGS84),this.tilingScheme=void 0,this.heightmapWidth=void 0,this.heightmapHeight=void 0,this.levelZeroMaximumGeometricError=void 0,this.rectangles=[]}async function iA(e,t,i){try{!function(e,t){const i=t.getElementsByTagName("SRS")[0].textContent;if("EPSG:4326"!==i)throw new xe.A(`SRS ${i} is not supported`);e.tilingScheme=new xd.A({ellipsoid:e.ellipsoid});const n=t.getElementsByTagName("TileFormat")[0];e.heightmapWidth=parseInt(n.getAttribute("width"),10),e.heightmapHeight=parseInt(n.getAttribute("height"),10),e.levelZeroMaximumGeometricError=Md.A.getEstimatedLevelZeroGeometricErrorForAHeightmap(e.ellipsoid,Math.min(e.heightmapWidth,e.heightmapHeight),e.tilingScheme.getNumberOfXTilesAtLevel(0));const r=t.getElementsByTagName("DataExtent");for(let t=0;t<r.length;++t){const i=r[t],n=T.A.toRadians(parseFloat(i.getAttribute("minx"))),o=T.A.toRadians(parseFloat(i.getAttribute("miny"))),s=T.A.toRadians(parseFloat(i.getAttribute("maxx"))),a=T.A.toRadians(parseFloat(i.getAttribute("maxy"))),l=parseInt(i.getAttribute("maxlevel"),10);e.rectangles.push(new eA(new ve.A(n,o,s,a),l))}}(e,await t.fetchXML())}catch(e){!function(e,t,i){let n=`An error occurred while accessing ${e.url}`;throw(0,f.A)(t)&&(0,f.A)(t.message)&&(n=`${n}: ${t.message}`),Id.A.reportError(void 0,i,(0,f.A)(i)?i._errorEvent:void 0,n),new xe.A(n)}(t,e,i)}}function nA(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._errorEvent=new m.A,this._ready=!1,this._terrainDataStructure={heightScale:.001,heightOffset:-1e3,elementsPerHeight:3,stride:4,elementMultiplier:256,isBigEndian:!0,lowestEncodedHeight:0,highestEncodedHeight:16777215};let t=e.credit;if("string"==typeof t&&(t=new ne.A(t)),this._credit=t,this._tilingScheme=void 0,this._rectangles=[],(0,f.A)(e.url)){(0,ol.A)("VRTheWorldTerrainProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  VRTheWorldTerrainProvider.fromUrl instead.");const t=this,i=new tA(e),n=we.A.createIfNeeded(e.url);this._resource=n,this._readyPromise=iA(i,n,t).then((()=>(i.build(t),!0)))}}tA.prototype.build=function(e){e._tilingScheme=this.tilingScheme,e._heightmapWidth=this.heightmapWidth,e._heightmapHeight=this.heightmapHeight,e._levelZeroMaximumGeometricError=this.levelZeroMaximumGeometricError,e._rectangles=this.rectangles,e._ready=!0},Object.defineProperties(nA.prototype,{errorEvent:{get:function(){return this._errorEvent}},credit:{get:function(){return this._credit}},tilingScheme:{get:function(){return this._tilingScheme}},ready:{get:function(){return(0,ol.A)("VRTheWorldTerrainProvider.ready","VRTheWorldTerrainProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use VRTheWorldTerrainProvider.fromUrl instead."),this._ready}},readyPromise:{get:function(){return(0,ol.A)("VRTheWorldTerrainProvider.readyPromise","VRTheWorldTerrainProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use VRTheWorldTerrainProvider.fromUrl instead."),this._readyPromise}},hasWaterMask:{get:function(){return!1}},hasVertexNormals:{get:function(){return!1}},availability:{get:function(){}}}),nA.fromUrl=async function(e,t){Ce.A.defined("url",e);const i=new tA(t=(0,p.A)(t,p.A.EMPTY_OBJECT)),n=we.A.createIfNeeded(e);await iA(i,n);const r=new nA(t);return i.build(r),r._resource=n,r},nA.prototype.requestTileGeometry=function(e,t,i,n){const r=this._tilingScheme.getNumberOfYTilesAtLevel(i),o=this._resource.getDerivedResource({url:`${i}/${e}/${r-t-1}.tif`,queryParameters:{cesium:!0},request:n}).fetchImage({preferImageBitmap:!0});if(!(0,f.A)(o))return;const s=this;return Promise.resolve(o).then((function(n){return new Sd.A({buffer:(0,Qm.A)(n),width:s._heightmapWidth,height:s._heightmapHeight,childTileMask:oA(s,e,t,i),structure:s._terrainDataStructure})}))},nA.prototype.getLevelMaximumGeometricError=function(e){return this._levelZeroMaximumGeometricError/(1<<e)};const rA=new ve.A;function oA(e,t,i,n){const r=e._tilingScheme,o=e._rectangles,s=r.tileXYToRectangle(t,i,n);let a=0;for(let e=0;e<o.length&&15!==a;++e){const l=o[e];if(l.maxLevel<=n)continue;const c=l.rectangle,u=ve.A.intersection(c,s,rA);(0,f.A)(u)&&(sA(r,c,2*t,2*i,n+1)&&(a|=4),sA(r,c,2*t+1,2*i,n+1)&&(a|=8),sA(r,c,2*t,2*i+1,n+1)&&(a|=1),sA(r,c,2*t+1,2*i+1,n+1)&&(a|=2))}return a}function sA(e,t,i,n,r){const o=e.tileXYToRectangle(i,n,r);return(0,f.A)(ve.A.intersection(o,t,rA))}nA.prototype.getTileDataAvailable=function(e,t,i){},nA.prototype.loadTileDataAvailability=function(e,t,i){};const aA=nA;var lA=i(677354);function cA(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._clock=void 0,this._element=void 0,this._clockSubscription=void 0,this._seekFunction=void 0,this._lastPlaybackRate=void 0,this.clock=e.clock,this.element=e.element,this.epoch=(0,p.A)(e.epoch,pe.A.MINIMUM_VALUE),this.tolerance=(0,p.A)(e.tolerance,1),this._seeking=!1,this._seekFunction=void 0,this._firstTickAfterSeek=!1}Object.defineProperties(cA.prototype,{clock:{get:function(){return this._clock},set:function(e){const t=this._clock;t!==e&&((0,f.A)(t)&&(this._clockSubscription(),this._clockSubscription=void 0),(0,f.A)(e)&&(this._clockSubscription=e.onTick.addEventListener(cA.prototype._onTick,this)),this._clock=e)}},element:{get:function(){return this._element},set:function(e){const t=this._element;var i;t!==e&&((0,f.A)(t)&&t.removeEventListener("seeked",this._seekFunction,!1),(0,f.A)(e)&&(this._seeking=!1,this._seekFunction=(i=this,function(){i._seeking=!1,i._firstTickAfterSeek=!0}),e.addEventListener("seeked",this._seekFunction,!1)),this._element=e,this._seeking=!1,this._firstTickAfterSeek=!1)}}}),cA.prototype.destroy=function(){return this.element=void 0,this.clock=void 0,(0,lA.A)(this)},cA.prototype.isDestroyed=function(){return!1},cA.prototype._trySetPlaybackRate=function(e){if(this._lastPlaybackRate===e.multiplier)return;const t=this._element;try{t.playbackRate=e.multiplier}catch(e){t.playbackRate=0}this._lastPlaybackRate=e.multiplier},cA.prototype._onTick=function(e){const t=this._element;if(!(0,f.A)(t)||t.readyState<2)return;const i=t.paused,n=e.shouldAnimate;if(n===i&&(n?t.play():t.pause()),this._seeking||this._firstTickAfterSeek)return void(this._firstTickAfterSeek=!1);this._trySetPlaybackRate(e);const r=e.currentTime,o=(0,p.A)(this.epoch,pe.A.MINIMUM_VALUE);let s=fe.A.secondsDifference(r,o);const a=t.duration;let l;const c=t.currentTime;t.loop?(s%=a,s<0&&(s=a-s),l=s):l=s>a?a:s<0?0:s;const u=n?(0,p.A)(this.tolerance,1):.001;Math.abs(l-c)>u&&(this._seeking=!0,t.currentTime=l)};const uA=cA;var dA=i(566123);const hA=Object.freeze({VK_FORMAT_UNDEFINED:0,VK_FORMAT_R4G4_UNORM_PACK8:1,VK_FORMAT_R4G4B4A4_UNORM_PACK16:2,VK_FORMAT_B4G4R4A4_UNORM_PACK16:3,VK_FORMAT_R5G6B5_UNORM_PACK16:4,VK_FORMAT_B5G6R5_UNORM_PACK16:5,VK_FORMAT_R5G5B5A1_UNORM_PACK16:6,VK_FORMAT_B5G5R5A1_UNORM_PACK16:7,VK_FORMAT_A1R5G5B5_UNORM_PACK16:8,VK_FORMAT_R8_UNORM:9,VK_FORMAT_R8_SNORM:10,VK_FORMAT_R8_USCALED:11,VK_FORMAT_R8_SSCALED:12,VK_FORMAT_R8_UINT:13,VK_FORMAT_R8_SINT:14,VK_FORMAT_R8_SRGB:15,VK_FORMAT_R8G8_UNORM:16,VK_FORMAT_R8G8_SNORM:17,VK_FORMAT_R8G8_USCALED:18,VK_FORMAT_R8G8_SSCALED:19,VK_FORMAT_R8G8_UINT:20,VK_FORMAT_R8G8_SINT:21,VK_FORMAT_R8G8_SRGB:22,VK_FORMAT_R8G8B8_UNORM:23,VK_FORMAT_R8G8B8_SNORM:24,VK_FORMAT_R8G8B8_USCALED:25,VK_FORMAT_R8G8B8_SSCALED:26,VK_FORMAT_R8G8B8_UINT:27,VK_FORMAT_R8G8B8_SINT:28,VK_FORMAT_R8G8B8_SRGB:29,VK_FORMAT_B8G8R8_UNORM:30,VK_FORMAT_B8G8R8_SNORM:31,VK_FORMAT_B8G8R8_USCALED:32,VK_FORMAT_B8G8R8_SSCALED:33,VK_FORMAT_B8G8R8_UINT:34,VK_FORMAT_B8G8R8_SINT:35,VK_FORMAT_B8G8R8_SRGB:36,VK_FORMAT_R8G8B8A8_UNORM:37,VK_FORMAT_R8G8B8A8_SNORM:38,VK_FORMAT_R8G8B8A8_USCALED:39,VK_FORMAT_R8G8B8A8_SSCALED:40,VK_FORMAT_R8G8B8A8_UINT:41,VK_FORMAT_R8G8B8A8_SINT:42,VK_FORMAT_R8G8B8A8_SRGB:43,VK_FORMAT_B8G8R8A8_UNORM:44,VK_FORMAT_B8G8R8A8_SNORM:45,VK_FORMAT_B8G8R8A8_USCALED:46,VK_FORMAT_B8G8R8A8_SSCALED:47,VK_FORMAT_B8G8R8A8_UINT:48,VK_FORMAT_B8G8R8A8_SINT:49,VK_FORMAT_B8G8R8A8_SRGB:50,VK_FORMAT_A8B8G8R8_UNORM_PACK32:51,VK_FORMAT_A8B8G8R8_SNORM_PACK32:52,VK_FORMAT_A8B8G8R8_USCALED_PACK32:53,VK_FORMAT_A8B8G8R8_SSCALED_PACK32:54,VK_FORMAT_A8B8G8R8_UINT_PACK32:55,VK_FORMAT_A8B8G8R8_SINT_PACK32:56,VK_FORMAT_A8B8G8R8_SRGB_PACK32:57,VK_FORMAT_A2R10G10B10_UNORM_PACK32:58,VK_FORMAT_A2R10G10B10_SNORM_PACK32:59,VK_FORMAT_A2R10G10B10_USCALED_PACK32:60,VK_FORMAT_A2R10G10B10_SSCALED_PACK32:61,VK_FORMAT_A2R10G10B10_UINT_PACK32:62,VK_FORMAT_A2R10G10B10_SINT_PACK32:63,VK_FORMAT_A2B10G10R10_UNORM_PACK32:64,VK_FORMAT_A2B10G10R10_SNORM_PACK32:65,VK_FORMAT_A2B10G10R10_USCALED_PACK32:66,VK_FORMAT_A2B10G10R10_SSCALED_PACK32:67,VK_FORMAT_A2B10G10R10_UINT_PACK32:68,VK_FORMAT_A2B10G10R10_SINT_PACK32:69,VK_FORMAT_R16_UNORM:70,VK_FORMAT_R16_SNORM:71,VK_FORMAT_R16_USCALED:72,VK_FORMAT_R16_SSCALED:73,VK_FORMAT_R16_UINT:74,VK_FORMAT_R16_SINT:75,VK_FORMAT_R16_SFLOAT:76,VK_FORMAT_R16G16_UNORM:77,VK_FORMAT_R16G16_SNORM:78,VK_FORMAT_R16G16_USCALED:79,VK_FORMAT_R16G16_SSCALED:80,VK_FORMAT_R16G16_UINT:81,VK_FORMAT_R16G16_SINT:82,VK_FORMAT_R16G16_SFLOAT:83,VK_FORMAT_R16G16B16_UNORM:84,VK_FORMAT_R16G16B16_SNORM:85,VK_FORMAT_R16G16B16_USCALED:86,VK_FORMAT_R16G16B16_SSCALED:87,VK_FORMAT_R16G16B16_UINT:88,VK_FORMAT_R16G16B16_SINT:89,VK_FORMAT_R16G16B16_SFLOAT:90,VK_FORMAT_R16G16B16A16_UNORM:91,VK_FORMAT_R16G16B16A16_SNORM:92,VK_FORMAT_R16G16B16A16_USCALED:93,VK_FORMAT_R16G16B16A16_SSCALED:94,VK_FORMAT_R16G16B16A16_UINT:95,VK_FORMAT_R16G16B16A16_SINT:96,VK_FORMAT_R16G16B16A16_SFLOAT:97,VK_FORMAT_R32_UINT:98,VK_FORMAT_R32_SINT:99,VK_FORMAT_R32_SFLOAT:100,VK_FORMAT_R32G32_UINT:101,VK_FORMAT_R32G32_SINT:102,VK_FORMAT_R32G32_SFLOAT:103,VK_FORMAT_R32G32B32_UINT:104,VK_FORMAT_R32G32B32_SINT:105,VK_FORMAT_R32G32B32_SFLOAT:106,VK_FORMAT_R32G32B32A32_UINT:107,VK_FORMAT_R32G32B32A32_SINT:108,VK_FORMAT_R32G32B32A32_SFLOAT:109,VK_FORMAT_R64_UINT:110,VK_FORMAT_R64_SINT:111,VK_FORMAT_R64_SFLOAT:112,VK_FORMAT_R64G64_UINT:113,VK_FORMAT_R64G64_SINT:114,VK_FORMAT_R64G64_SFLOAT:115,VK_FORMAT_R64G64B64_UINT:116,VK_FORMAT_R64G64B64_SINT:117,VK_FORMAT_R64G64B64_SFLOAT:118,VK_FORMAT_R64G64B64A64_UINT:119,VK_FORMAT_R64G64B64A64_SINT:120,VK_FORMAT_R64G64B64A64_SFLOAT:121,VK_FORMAT_B10G11R11_UFLOAT_PACK32:122,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:123,VK_FORMAT_D16_UNORM:124,VK_FORMAT_X8_D24_UNORM_PACK32:125,VK_FORMAT_D32_SFLOAT:126,VK_FORMAT_S8_UINT:127,VK_FORMAT_D16_UNORM_S8_UINT:128,VK_FORMAT_D24_UNORM_S8_UINT:129,VK_FORMAT_D32_SFLOAT_S8_UINT:130,VK_FORMAT_BC1_RGB_UNORM_BLOCK:131,VK_FORMAT_BC1_RGB_SRGB_BLOCK:132,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:133,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:134,VK_FORMAT_BC2_UNORM_BLOCK:135,VK_FORMAT_BC2_SRGB_BLOCK:136,VK_FORMAT_BC3_UNORM_BLOCK:137,VK_FORMAT_BC3_SRGB_BLOCK:138,VK_FORMAT_BC4_UNORM_BLOCK:139,VK_FORMAT_BC4_SNORM_BLOCK:140,VK_FORMAT_BC5_UNORM_BLOCK:141,VK_FORMAT_BC5_SNORM_BLOCK:142,VK_FORMAT_BC6H_UFLOAT_BLOCK:143,VK_FORMAT_BC6H_SFLOAT_BLOCK:144,VK_FORMAT_BC7_UNORM_BLOCK:145,VK_FORMAT_BC7_SRGB_BLOCK:146,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:147,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:148,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:149,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:150,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:151,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:152,VK_FORMAT_EAC_R11_UNORM_BLOCK:153,VK_FORMAT_EAC_R11_SNORM_BLOCK:154,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:155,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:156,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:157,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:158,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:159,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:160,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:161,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:162,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:163,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:164,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:165,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:166,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:167,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:168,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:169,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:170,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:171,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:172,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:173,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:174,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:175,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:176,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:177,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:178,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:179,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:180,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:181,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:182,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:183,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:184,VK_FORMAT_G8B8G8R8_422_UNORM:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM:1000156006,VK_FORMAT_R10X6_UNORM_PACK16:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16:1000156016,VK_FORMAT_R12X4_UNORM_PACK16:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM:1000156033,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:1000054e3,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:1000054001,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:1000054002,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:1000054003,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:1000054004,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:1000054005,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:1000054006,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:1000054007,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:1000066e3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:1000066001,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:1000066002,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:1000066003,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:1000066004,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:1000066005,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:1000066006,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:1000066007,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:1000066008,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:1000066009,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:1000066010,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:1000066011,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:1000066012,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:1000066013,VK_FORMAT_G8B8G8R8_422_UNORM_KHR:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM_KHR:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR:1000156006,VK_FORMAT_R10X6_UNORM_PACK16_KHR:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR:1000156016,VK_FORMAT_R12X4_UNORM_PACK16_KHR:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM_KHR:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM_KHR:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR:1000156033});var pA=i(660419),fA=i(266180),mA=i(903473),AA=i(352581),gA=i(414305),_A=i(666765),yA=i(635692),vA=i(785933),bA=i(263604),wA=i(744436),xA=i(525490);const CA=function(e){(0,ol.A)("createWorldTerrain","createWorldTerrain was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createWorldTerrainAsync instead."),e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=new sh.A({requestVertexNormals:(0,p.A)(e.requestVertexNormals,!1),requestWaterMask:(0,p.A)(e.requestWaterMask,!1)});return t._readyPromise=sh.A._initializeReadyPromise({url:Mf.A.fromAssetId(1),requestVertexNormals:(0,p.A)(e.requestVertexNormals,!1),requestWaterMask:(0,p.A)(e.requestWaterMask,!1)},t),t};var SA=i(75584);function TA(e,t){if(TA.passThroughDataForTesting)return t;Ce.A.typeOf.object("key",e),Ce.A.typeOf.object("data",t);const i=e.byteLength;if(0===i||i%4!=0)throw new xe.A("The length of key must be greater than 0 and a multiple of 4.");const n=new DataView(t),r=n.getUint32(0,!0);if(1953029805===r||2917034100===r)return t;const o=new DataView(e);let s=0;const a=t.byteLength,l=a-a%8,c=i;let u,d=8;for(;s<l;)for(d=(d+8)%24,u=d;s<l&&u<c;)n.setUint32(s,n.getUint32(s,!0)^o.getUint32(u,!0),!0),n.setUint32(s+4,n.getUint32(s+4,!0)^o.getUint32(u+4,!0),!0),s+=8,u+=24;if(s<a)for(u>=c&&(d=(d+8)%24,u=d);s<a;)n.setUint8(s,n.getUint8(s)^o.getUint8(u)),s++,u++}TA.passThroughDataForTesting=!1;const PA=TA;var EA=i(223460),MA=i(522216),kA=i(712066),IA=i(592594),BA=i(869467),OA=i(604752),RA=i(452684),FA=i(241839),DA=i(881096),LA=i(89104),VA=i(647885),NA=i(734780),UA=i(404547),GA=i(471874),zA=i(108303),KA=i(359897);const qA=new Z.A,HA=function(e,t,i,n){const r=(0,wA.A)(e,t,i,n,qA);return!!(0,f.A)(r)&&r.x>0&&r.y>0&&r.z>0};var WA=i(271868),jA=i(252544),JA=i(448871),XA=i(761203),$A=i(841387);const YA=function(e){switch(e){case AA.A.FLOAT:return"float";case AA.A.FLOAT_VEC2:return"vec2";case AA.A.FLOAT_VEC3:return"vec3";case AA.A.FLOAT_VEC4:return"vec4";case AA.A.FLOAT_MAT2:return"mat2";case AA.A.FLOAT_MAT3:return"mat3";case AA.A.FLOAT_MAT4:return"mat4";case AA.A.SAMPLER_2D:return"sampler2D";case AA.A.BOOL:return"bool"}},ZA=function(e,t,i){if("function"!=typeof t)throw new S.A("oldFunction is required to be a function.");if("function"!=typeof i)throw new S.A("oldFunction is required to be a function.");return function(){i.apply(e,arguments),t.apply(e,arguments)}};var QA=i(517638),eg=i(756995),tg=i(468649),ig=i(952738),ng=i(412562),rg=i(562523);const og="uniform sampler2D u_noiseTexture;\nuniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nin vec2 v_offset;\nin vec3 v_maximumSize;\nin vec4 v_color;\nin float v_slice;\nin float v_brightness;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec2 voxelToUV(vec3 voxelIndex) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n\n    float textureSliceWidthSquared = textureSliceWidth * textureSliceWidth;\n    vec2 inverseNoiseTextureDimensions = vec2(noiseTextureRows / textureSliceWidthSquared,\n                                            inverseNoiseTextureRows / textureSliceWidth);\n    vec3 wrappedIndex = wrapVec(voxelIndex, textureSliceWidth);\n    float column = mod(wrappedIndex.z, textureSliceWidth * inverseNoiseTextureRows);\n    float row = floor(wrappedIndex.z / textureSliceWidth * noiseTextureRows);\n\n    float xPixelCoord = wrappedIndex.x + column * textureSliceWidth;\n    float yPixelCoord = wrappedIndex.y + row * textureSliceWidth;\n    return vec2(xPixelCoord, yPixelCoord) * inverseNoiseTextureDimensions;\n}\n\n// Interpolate a voxel with its neighbor (along the positive X-axis)\nvec4 lerpSamplesX(vec3 voxelIndex, float x) {\n    vec2 uv0 = voxelToUV(voxelIndex);\n    vec2 uv1 = voxelToUV(voxelIndex + vec3(1.0, 0.0, 0.0));\n    vec4 sample0 = texture(u_noiseTexture, uv0);\n    vec4 sample1 = texture(u_noiseTexture, uv1);\n    return mix(sample0, sample1, x);\n}\n\nvec4 sampleNoiseTexture(vec3 position) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 recenteredPos = position + vec3(textureSliceWidth / 2.0);\n    vec3 lerpValue = fract(recenteredPos);\n    vec3 voxelIndex = floor(recenteredPos);\n\n    vec4 xLerp00 = lerpSamplesX(voxelIndex, lerpValue.x);\n    vec4 xLerp01 = lerpSamplesX(voxelIndex + vec3(0.0, 0.0, 1.0), lerpValue.x);\n    vec4 xLerp10 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 0.0), lerpValue.x);\n    vec4 xLerp11 = lerpSamplesX(voxelIndex + vec3(0.0, 1.0, 1.0), lerpValue.x);\n\n    vec4 yLerp0 = mix(xLerp00, xLerp10, lerpValue.y);\n    vec4 yLerp1 = mix(xLerp01, xLerp11, lerpValue.y);\n    return mix(yLerp0, yLerp1, lerpValue.z);\n}\n\n// Intersection with a unit sphere with radius 0.5 at center (0, 0, 0).\nbool intersectSphere(vec3 origin, vec3 dir, float slice,\n                     out vec3 point, out vec3 normal) {\n    float A = dot(dir, dir);\n    float B = dot(origin, dir);\n    float C = dot(origin, origin) - 0.25;\n    float discriminant = (B * B) - (A * C);\n    if(discriminant < 0.0) {\n        return false;\n    }\n    float root = sqrt(discriminant);\n    float t = (-B - root) / A;\n    if(t < 0.0) {\n        t = (-B + root) / A;\n    }\n    point = origin + t * dir;\n\n    if(slice >= 0.0) {\n        point.z = (slice / 2.0) - 0.5;\n        if(length(point) > 0.5) {\n            return false;\n        }\n    }\n\n    normal = normalize(point);\n    point -= czm_epsilon2 * normal;\n    return true;\n}\n\n// Transforms the ray origin and direction into unit sphere space,\n// then transforms the result back into the ellipsoid's space.\nbool intersectEllipsoid(vec3 origin, vec3 dir, vec3 center, vec3 scale, float slice,\n                        out vec3 point, out vec3 normal) {\n    if(scale.x <= 0.01 || scale.y < 0.01 || scale.z < 0.01) {\n        return false;\n    }\n\n    vec3 o = (origin - center) / scale;\n    vec3 d = dir / scale;\n    vec3 p, n;\n    bool intersected = intersectSphere(o, d, slice, p, n);\n    if(intersected) {\n        point = (p * scale) + center;\n        normal = n;\n    }\n    return intersected;\n}\n\n// Assume that if phase shift is being called for octave i,\n// the frequency is of i - 1. This saves us from doing extra\n// division / multiplication operations.\nvec2 phaseShift2D(vec2 p, vec2 freq) {\n    return (czm_pi / 2.0) * sin(freq.yx * p.yx);\n}\n\nvec2 phaseShift3D(vec3 p, vec2 freq) {\n    return phaseShift2D(p.xy, freq) + czm_pi * vec2(sin(freq.x * p.z));\n}\n\n// The cloud texture function derived from Gardner's 1985 paper,\n// \"Visual Simulation of Clouds.\"\n// https://www.cs.drexel.edu/~david/Classes/Papers/p297-gardner.pdf\nconst float T0    = 0.6;  // contrast of the texture pattern\nconst float k     = 0.1;  // computed to produce a maximum value of 1\nconst float C0    = 0.8;  // coefficient\nconst float FX0   = 0.6;  // frequency X\nconst float FY0   = 0.6;  // frequency Y\nconst int octaves = 5;\n\nfloat T(vec3 point) {\n    vec2 sum = vec2(0.0);\n    float Ci = C0;\n    vec2 FXY = vec2(FX0, FY0);\n    vec2 PXY = vec2(0.0);\n    for(int i = 1; i <= octaves; i++) {\n        PXY = phaseShift3D(point, FXY);\n        Ci *= 0.707;\n        FXY *= 2.0;\n        vec2 sinTerm = sin(FXY * point.xy + PXY);\n        sum += Ci * sinTerm + vec2(T0);\n    }\n    return k * sum.x * sum.y;\n}\n\nconst float a = 0.5;  // fraction of surface reflection due to ambient or scattered light,\nconst float t = 0.4;  // fraction of texture shading\nconst float s = 0.25; // fraction of specular reflection\n\nfloat I(float Id, float Is, float It) {\n    return (1.0 - a) * ((1.0 - t) * ((1.0 - s) * Id + s * Is) + t * It) + a;\n}\n\nconst vec3 lightDir = normalize(vec3(0.2, -1.0, 0.7));\n\nvec4 drawCloud(vec3 rayOrigin, vec3 rayDir, vec3 cloudCenter, vec3 cloudScale, float cloudSlice,\n               float brightness) {\n    vec3 cloudPoint, cloudNormal;\n    if(!intersectEllipsoid(rayOrigin, rayDir, cloudCenter, cloudScale, cloudSlice,\n                            cloudPoint, cloudNormal)) {\n        return vec4(0.0);\n    }\n\n    float Id = clamp(dot(cloudNormal, -lightDir), 0.0, 1.0);  // diffuse reflection\n    float Is = max(pow(dot(-lightDir, -rayDir), 2.0), 0.0);   // specular reflection\n    float It = T(cloudPoint);                                 // texture function\n    float intensity = I(Id, Is, It);\n    vec3 color = vec3(intensity * clamp(brightness, 0.1, 1.0));\n\n    vec4 noise = sampleNoiseTexture(u_noiseDetail * cloudPoint);\n    float W = noise.x;\n    float W2 = noise.y;\n    float W3 = noise.z;\n\n    // The dot product between the cloud's normal and the ray's direction is greatest\n    // in the center of the ellipsoid's surface. It decreases towards the edge.\n    // Thus, it is used to blur the areas leading to the edges of the ellipsoid,\n    // so that no harsh lines appear.\n\n    // The first (and biggest) layer of worley noise is then subtracted from this.\n    // The final result is scaled up so that the base cloud is not too translucent.\n    float ndDot = clamp(dot(cloudNormal, -rayDir), 0.0, 1.0);\n    float TR = pow(ndDot, 3.0) - W; // translucency\n    TR *= 1.3;\n\n    // Subtracting the second and third layers of worley noise is more complicated.\n    // If these layers of noise were simply subtracted from the current translucency,\n    // the shape derived from the first layer of noise would be completely deleted.\n    // The erosion of this noise should thus be constricted to the edges of the cloud.\n    // However, because the edges of the ellipsoid were already blurred away, mapping\n    // the noise to (1.0 - ndDot) will have no impact on most of the cloud's appearance.\n    // The value of (0.5 - ndDot) provides the best compromise.\n    float minusDot = 0.5 - ndDot;\n\n    // Even with the previous calculation, subtracting the second layer of wnoise\n    // erode too much of the cloud. The addition of it, however, will detailed\n    // volume to the cloud. As long as the noise is only added and not subtracted,\n    // the results are aesthetically pleasing.\n\n    // The minusDot product is mapped in a way that it is larger at the edges of\n    // the ellipsoid, so a subtraction and min operation are used instead of\n    // an addition and max one.\n    TR -= min(minusDot * W2, 0.0);\n\n    // The third level of worley noise is subtracted from the result, with some\n    // modifications. First, a scalar is added to minusDot so that the noise\n    // starts affecting the shape farther away from the center of the ellipsoid's\n    // surface. Then, it is scaled down so its impact is not too intense.\n    TR -= 0.8 * (minusDot + 0.25) * W3;\n\n    // The texture function's shading does not correlate with the shape of the cloud\n    // produced by the layers of noise, so an extra shading scalar is calculated.\n    // The darkest areas of the cloud are assigned to be where the noise erodes\n    // the cloud the most. This is then interpolated based on the translucency\n    // and the diffuse shading term of that point in the cloud.\n    float shading = mix(1.0 - 0.8 * W * W, 1.0, Id * TR);\n\n    // To avoid values that are too dark, this scalar is increased by a small amount\n    // and clamped so it never goes to zero.\n    shading = clamp(shading + 0.2, 0.3, 1.0);\n\n    // Finally, the contrast of the cloud's color is increased.\n    vec3 finalColor = mix(vec3(0.5), shading * color, 1.15);\n    return vec4(finalColor, clamp(TR, 0.0, 1.0)) * v_color;\n}\n\nvoid main() {\n#ifdef DEBUG_BILLBOARDS\n    out_FragColor = vec4(0.0, 0.5, 0.5, 1.0);\n#endif\n    // To avoid calculations with high values,\n    // we raycast from an arbitrarily smaller space.\n    vec2 coordinate = v_maximumSize.xy * v_offset;\n\n    vec3 ellipsoidScale = 0.82 * v_maximumSize;\n    vec3 ellipsoidCenter = vec3(0.0);\n\n    float zOffset = max(ellipsoidScale.z - 10.0, 0.0);\n    vec3 eye = vec3(0, 0, -10.0 - zOffset);\n    vec3 rayDir = normalize(vec3(coordinate, 1.0) - eye);\n    vec3 rayOrigin = eye;\n#ifdef DEBUG_ELLIPSOIDS\n    vec3 point, normal;\n    if(intersectEllipsoid(rayOrigin, rayDir, ellipsoidCenter, ellipsoidScale, v_slice,\n                          point, normal)) {\n        out_FragColor = v_brightness * v_color;\n    }\n#else\n#ifndef DEBUG_BILLBOARDS\n    vec4 cloud = drawCloud(rayOrigin, rayDir,\n                           ellipsoidCenter, ellipsoidScale, v_slice, v_brightness);\n    if(cloud.w < 0.01) {\n        discard;\n    }\n    out_FragColor = cloud;\n#endif\n#endif\n}\n",sg="#ifdef INSTANCED\nin vec2 direction;\n#endif\nin vec4 positionHighAndScaleX;\nin vec4 positionLowAndScaleY;\nin vec4 packedAttribute0;\nin vec4 packedAttribute1;\nin vec4 color;\n\nout vec2 v_offset;\nout vec3 v_maximumSize;\nout vec4 v_color;\nout float v_slice;\nout float v_brightness;\n\nvoid main() {\n    // Unpack attributes.\n    vec3 positionHigh = positionHighAndScaleX.xyz;\n    vec3 positionLow = positionLowAndScaleY.xyz;\n    vec2 scale = vec2(positionHighAndScaleX.w, positionLowAndScaleY.w);\n\n    float show = packedAttribute0.x;\n    float brightness = packedAttribute0.y;\n    vec2 coordinates = packedAttribute0.wz;\n    vec3 maximumSize = packedAttribute1.xyz;\n    float slice = packedAttribute1.w;\n\n#ifdef INSTANCED\n    vec2 dir = direction;\n#else\n    vec2 dir = coordinates;\n#endif\n\n    vec2 offset = dir - vec2(0.5, 0.5);\n    vec2 scaledOffset = scale * offset;\n    vec4 p = czm_translateRelativeToEye(positionHigh, positionLow);\n    vec4 positionEC = czm_modelViewRelativeToEye * p;\n    positionEC.xy += scaledOffset;\n    \n    positionEC.xyz *= show;\n    gl_Position = czm_projection * positionEC;\n\n    v_offset = offset;\n    v_maximumSize = maximumSize;\n    v_color = color;\n    v_slice = slice;\n    v_brightness = brightness;\n}\n",ag="uniform vec3 u_noiseTextureDimensions;\nuniform float u_noiseDetail;\nuniform vec3 u_noiseOffset;\nin vec2 v_position;\n\nfloat wrap(float value, float rangeLength) {\n    if(value < 0.0) {\n        float absValue = abs(value);\n        float modValue = mod(absValue, rangeLength);\n        return mod(rangeLength - modValue, rangeLength);\n    }\n    return mod(value, rangeLength);\n}\n\nvec3 wrapVec(vec3 value, float rangeLength) {\n    return vec3(wrap(value.x, rangeLength),\n                wrap(value.y, rangeLength),\n                wrap(value.z, rangeLength));\n}\n\nvec3 random3(vec3 p) {\n    float dot1 = dot(p, vec3(127.1, 311.7, 932.8));\n    float dot2 = dot(p, vec3(269.5, 183.3, 421.4));\n    return fract(vec3(sin(dot1 - dot2), cos(dot1 * dot2), dot1 * dot2));\n}\n\n// Frequency corresponds to cell size.\n// The higher the frequency, the smaller the cell size.\nvec3 getWorleyCellPoint(vec3 centerCell, vec3 offset, float freq) {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    vec3 cell = centerCell + offset;\n    cell = wrapVec(cell, textureSliceWidth / u_noiseDetail);\n    cell += floor(u_noiseOffset / u_noiseDetail);\n    vec3 p = offset + random3(cell);\n    return p;\n}\n\nfloat worleyNoise(vec3 p, float freq) {\n    vec3 centerCell = floor(p * freq);\n    vec3 pointInCell = fract(p * freq);\n    float shortestDistance = 1000.0;\n\n    for(float z = -1.0; z <= 1.0; z++) {\n        for(float y = -1.0; y <= 1.0; y++) {\n            for(float x = -1.0; x <= 1.0; x++) {\n                vec3 offset = vec3(x, y, z);\n                vec3 point = getWorleyCellPoint(centerCell, offset, freq);\n\n                float distance = length(pointInCell - point);\n                if(distance < shortestDistance) {\n                    shortestDistance = distance;\n                }\n            }\n        }\n    }\n\n    return shortestDistance;\n}\n\nconst float MAX_FBM_ITERATIONS = 10.0;\n\nfloat worleyFBMNoise(vec3 p, float octaves, float scale) {\n    float noise = 0.0;\n    float freq = 1.0;\n    float persistence = 0.625;\n    for(float i = 0.0; i < MAX_FBM_ITERATIONS; i++) {\n        if(i >= octaves) {\n            break;\n        }\n\n        noise += worleyNoise(p * scale, freq * scale) * persistence;\n        persistence *= 0.5;\n        freq *= 2.0;\n    }\n    return noise;\n}\n\nvoid main() {\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    float x = mod(v_position.x, textureSliceWidth);\n    float y = mod(v_position.y, textureSliceWidth);\n    float sliceRow = floor(v_position.y / textureSliceWidth);\n    float z = floor(v_position.x / textureSliceWidth) + sliceRow * inverseNoiseTextureRows * textureSliceWidth;\n\n    vec3 position = vec3(x, y, z);\n    position /= u_noiseDetail;\n    float worley0 = clamp(worleyFBMNoise(position, 3.0, 1.0), 0.0, 1.0);\n    float worley1 = clamp(worleyFBMNoise(position, 3.0, 2.0), 0.0, 1.0);\n    float worley2 = clamp(worleyFBMNoise(position, 3.0, 3.0), 0.0, 1.0);\n    out_FragColor = vec4(worley0, worley1, worley2, 1.0);\n}\n",lg="uniform vec3 u_noiseTextureDimensions;\nin vec2 position;\n\nout vec2 v_position;\n\nvoid main()\n{\n    gl_Position = vec4(position, 0.1, 1.0);\n\n    float textureSliceWidth = u_noiseTextureDimensions.x;\n    float noiseTextureRows = u_noiseTextureDimensions.y;\n    float inverseNoiseTextureRows = u_noiseTextureDimensions.z;\n    vec2 transformedPos = (position * 0.5) + vec2(0.5);\n    transformedPos *= textureSliceWidth;\n    transformedPos.x *= textureSliceWidth * inverseNoiseTextureRows;\n    transformedPos.y *= noiseTextureRows;\n    v_position = transformedPos;\n}\n";var cg=i(212597),ug=i(615954),dg=i(710434),hg=i(77202),pg=i(559352),fg=i(437736),mg=i(689520),Ag=i(805696),gg=i(691760),_g=i(423603),yg=i(975574),vg=i(720979),bg=i(810467),wg=i(208276),xg=i(510148),Cg=i(78149),Sg=i(682091),Tg=i(749513),Pg=i(632577),Eg=i(700241),Mg=i(575513),kg=i(57723),Ig=i(275058),Bg=i(208898),Og=i(710807),Rg=i(753543),Fg=i(488961),Dg=i(370298),Lg=i(692352),Vg=i(143344),Ng=i(326453),Ug=i(789221),Gg=i(860139),zg=i(40510),Kg=i(752123),qg=i(154920),Hg=i(296312),Wg=i(747776),jg=i(971532);const Jg="\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n    \n    materialInput.s = v_textureCoordinates.s;\n    materialInput.st = v_textureCoordinates;\n    materialInput.str = vec3(v_textureCoordinates, 0.0);\n    materialInput.normalEC = vec3(0.0, 0.0, -1.0);\n    \n    czm_material material = czm_getMaterial(materialInput);\n\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n}\n";var Xg=i(351014),$g=i(953019),Yg=i(207828),Zg=i(418510),Qg=i(531573),e_=i(95146),t_=i(730839),i_=i(355540),n_=i(320475),r_=i(511517),o_=i(425438),s_=i(744671),a_=i(653565),l_=i(124547),c_=i(770103),u_=i(886626),d_=i(74006),h_=i(620297),p_=i(443383),f_=i(416882),m_=i(200646);const A_=new Z.A(1,1,1);function g_(e){e=(0,p.A)(e,A_),Ce.A.defined("dimensions",e),Ce.A.typeOf.number.greaterThanOrEquals("dimensions.x",e.x,0),Ce.A.typeOf.number.greaterThanOrEquals("dimensions.y",e.y,0),Ce.A.typeOf.number.greaterThanOrEquals("dimensions.z",e.z,0),this._dimensions=Z.A.clone(e)}Object.defineProperties(g_.prototype,{dimensions:{get:function(){return this._dimensions},set:function(e){Ce.A.defined("value",e),Ce.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),Ce.A.typeOf.number.greaterThanOrEquals("value.z",e.z,0),Z.A.clone(e,this._dimensions)}}});const __=new Z.A;g_.prototype.emit=function(e){const t=this._dimensions,i=Z.A.multiplyByScalar(t,.5,__),n=T.A.randomBetween(-i.x,i.x),r=T.A.randomBetween(-i.y,i.y),o=T.A.randomBetween(-i.z,i.z);e.position=Z.A.fromElements(n,r,o,e.position),e.velocity=Z.A.normalize(e.position,e.velocity)};const y_=g_;var v_=i(691302),b_=i(452663),w_=i(635577),x_=i(985888),C_=i(927181),S_=i(625224),T_=i(308695),P_=i(474751),E_=i(184483),M_=i(716750);function k_(){this.featurePropertiesDirty=!1}Object.defineProperties(k_.prototype,{featuresLength:{get:function(){S.A.throwInstantiationError()}},pointsLength:{get:function(){S.A.throwInstantiationError()}},trianglesLength:{get:function(){S.A.throwInstantiationError()}},geometryByteLength:{get:function(){S.A.throwInstantiationError()}},texturesByteLength:{get:function(){S.A.throwInstantiationError()}},batchTableByteLength:{get:function(){S.A.throwInstantiationError()}},innerContents:{get:function(){S.A.throwInstantiationError()}},ready:{get:function(){S.A.throwInstantiationError()}},readyPromise:{get:function(){S.A.throwInstantiationError()}},tileset:{get:function(){S.A.throwInstantiationError()}},tile:{get:function(){S.A.throwInstantiationError()}},url:{get:function(){S.A.throwInstantiationError()}},batchTable:{get:function(){S.A.throwInstantiationError()}},metadata:{get:function(){S.A.throwInstantiationError()},set:function(e){S.A.throwInstantiationError()}},group:{get:function(){S.A.throwInstantiationError()},set:function(e){S.A.throwInstantiationError()}}}),k_.prototype.hasProperty=function(e,t){S.A.throwInstantiationError()},k_.prototype.getFeature=function(e){S.A.throwInstantiationError()},k_.prototype.applyDebugSettings=function(e,t){S.A.throwInstantiationError()},k_.prototype.applyStyle=function(e){S.A.throwInstantiationError()},k_.prototype.update=function(e,t){S.A.throwInstantiationError()},k_.prototype.isDestroyed=function(){S.A.throwInstantiationError()},k_.prototype.destroy=function(){S.A.throwInstantiationError()};const I_=k_;var B_=i(891846),O_=i(621065),R_=i(223702),F_=i(622569),D_=i(468741),L_=i(45679),V_=i(649413),N_=i(581010),U_=i(953677),G_=i(294023),z_=i(661314),K_=i(629606),q_=i(816968),H_=i(979830),W_=i(800859),j_=i(409211);function J_(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._maximumSubtreeCount=(0,p.A)(e.maximumSubtreeCount,0),this._subtreeRequestCounter=0,this._queue=new Lh.A({comparator:J_.comparator})}function X_(e,t){this.subtree=e,this.stamp=t}J_.prototype.addSubtree=function(e){const t=new X_(e,this._subtreeRequestCounter);this._subtreeRequestCounter++,this._queue.insert(t);const i=e.implicitCoordinates;if(i.level>0){const e=i.getParentSubtreeCoordinates();if(void 0===this.find(e))throw new S.A("parent node needs to exist")}if(this._maximumSubtreeCount>0)for(;this._queue.length>this._maximumSubtreeCount&&this._queue.getMinimum()!==t;)this._queue.removeMinimum()},J_.prototype.find=function(e){const t=this._queue,i=t.internalArray,n=t.length;for(let t=0;t<n;t++){const n=i[t],r=n.subtree.implicitCoordinates;if(e.isEqual(r))return n.subtree}},J_.comparator=function(e,t){const i=e.subtree.implicitCoordinates,n=t.subtree.implicitCoordinates;return i.isAncestor(n)?1:n.isAncestor(i)?-1:e.stamp-t.stamp};const $_=J_;var Y_=i(410974),Z_=i(834957),Q_=i(165955),ey=i(374607),ty=i(192518),iy=i(872182),ny=i(204758),ry=i(874403);function oy(e){Ce.A.typeOf.object("resource",e),this._resource=e,this._metadataTable=void 0}Object.defineProperties(oy.prototype,{metadataTable:{get:function(){return this._metadataTable}}}),oy.fromJson=async function(e,t,i,n){if(Ce.A.typeOf.object("resource",e),(0,f.A)(t)===(0,f.A)(i))throw new S.A("One of json and binary must be defined.");let r;r=(0,f.A)(t)?{json:t,binary:void 0}:function(e){const t=!0,i=new DataView(e.buffer,e.byteOffset);let n=8;const r=i.getUint32(n,t);n+=8;const o=i.getUint32(n,t);n+=8;const s=(0,OA.A)(e,n,r);n+=r;return{json:s,binary:e.subarray(n,n+o)}}(i);const o=await function(e,t,i){const n=t.buffers.length,r=new Array(n);for(let o=0;o<n;o++){const n=t.buffers[o];if((0,f.A)(n.uri)){const t=e.getDerivedResource({url:n.uri});r[o]=t.fetchArrayBuffer().then((function(e){return new Uint8Array(e)}))}else r[o]=Promise.resolve(i)}return Promise.all(r)}(e,r.json,r.binary),s={},a=r.json.bufferViews.length;for(let e=0;e<a;++e){const t=r.json.bufferViews[e],i=t.byteOffset,n=i+t.byteLength,a=o[t.buffer].subarray(i,n);s[e]=a}const l=r.json.voxelTable,c=r.json.propertyTables[l],u=new oy(e);return u._metadataTable=new ry.A({count:c.count,properties:c.properties,class:n.classes[c.class],bufferViews:s}),u};const sy=oy;var ay=i(823345),ly=i(304431);function cy(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._ready=!1,this.shapeTransform=void 0,this.globalTransform=void 0,this.shape=void 0,this.minBounds=void 0,this.maxBounds=void 0,this.dimensions=void 0,this.paddingBefore=void 0,this.paddingAfter=void 0,this.names=void 0,this.types=void 0,this.componentTypes=void 0,this.minimumValues=void 0,this.maximumValues=void 0,this.maximumTileCount=void 0,this._implicitTileset=void 0,this._subtreeCache=new $_;const t=this;let i;(0,f.A)(e.url)&&((0,ol.A)("Cesium3DTilesVoxelProvider options.url","Cesium3DTilesVoxelProvider constructor parameter options.url was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._readyPromise=Promise.resolve(e.url).then((function(e){const n=we.A.createIfNeeded(e);return n.fetchJson().then((function(e){return i=e,dy(i),py(i,n).load()})).then((function(e){const r=i.root,o=r.content.extensions["3DTILES_content_voxels"],s=o.class,a=(0,W_.A)(i,"3DTILES_metadata")?i.extensions["3DTILES_metadata"]:i,l=e.schema,c=new H_.A({metadataJson:a,schema:l});fy(t,c,s);const u=new Z_.A(n,r,l),{shape:d,minBounds:h,maxBounds:p,shapeTransform:m,globalTransform:A}=hy(r);let g,_;return t.shape=d,t.minBounds=h,t.maxBounds=p,t.dimensions=Z.A.unpack(o.dimensions),t.shapeTransform=m,t.globalTransform=A,t.maximumTileCount=uy(c),(0,f.A)(o.padding)&&(g=Z.A.unpack(o.padding.before),_=Z.A.unpack(o.padding.after)),t.paddingBefore=g,t.paddingAfter=_,t._implicitTileset=u,iy.A.unload(e),t._ready=!0,t}))})))}function uy(e){if((0,f.A)(e.tileset))return e.tileset.getPropertyBySemantic(Q_.A.TILESET_TILE_COUNT)}function dy(e){const t=e.root;if(!(0,f.A)(t.content))throw new xe.A("Root must have content");if(!(0,W_.A)(t.content,"3DTILES_content_voxels"))throw new xe.A("Root tile content must have 3DTILES_content_voxels extension");if(!(0,W_.A)(t,"3DTILES_implicit_tiling")&&!(0,f.A)(t.implicitTiling))throw new xe.A("Root tile must have implicit tiling");if(!(0,f.A)(e.schema)&&!(0,f.A)(e.schemaUri)&&!(0,W_.A)(e,"3DTILES_metadata"))throw new xe.A("Tileset must have a metadata schema")}function hy(e){const t=e.boundingVolume;let i;if(i=(0,f.A)(e.transform)?Yd.A.unpack(e.transform):Yd.A.clone(Yd.A.IDENTITY),(0,f.A)(t.box))return function(e,t){const i=Bp.A.unpack(e),n=Yd.A.fromRotationTranslation(i.halfAxes,i.center);return{shape:ly.A.BOX,minBounds:Z.A.clone(ny.A.DefaultMinBounds),maxBounds:Z.A.clone(ny.A.DefaultMaxBounds),shapeTransform:n,globalTransform:t}}(t.box,i);if((0,f.A)(t.region))return function(e){const t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=Yd.A.fromScale(oe.A.WGS84.radii),l=t,c=n,u=i,d=r,h=o,p=s,f=new Z.A(l,u,h),m=new Z.A(c,d,p);return{shape:ly.A.ELLIPSOID,minBounds:f,maxBounds:m,shapeTransform:a,globalTransform:Yd.A.clone(Yd.A.IDENTITY)}}(t.region);if((0,W_.A)(t,"3DTILES_bounding_volume_cylinder"))return function(e,t){const i=Bp.A.unpack(e),n=Yd.A.fromRotationTranslation(i.halfAxes,i.center);return{shape:ly.A.CYLINDER,minBounds:Z.A.clone(ay.A.DefaultMinBounds),maxBounds:Z.A.clone(ay.A.DefaultMaxBounds),shapeTransform:n,globalTransform:t}}(t.extensions["3DTILES_bounding_volume_cylinder"].cylinder,i);throw new xe.A("Only box, region and 3DTILES_bounding_volume_cylinder are supported in Cesium3DTilesVoxelProvider")}function py(e,t){const{schemaUri:i,schema:n}=e;return(0,f.A)(i)?iy.A.getSchemaLoader({resource:t.getDerivedResource({url:i})}):iy.A.getSchemaLoader({schema:n})}function fy(e,t,i){const{schema:n,statistics:r}=t,o=r?.classes[i],s=n.classes[i].properties,a=Object.entries(s).map((([e,t])=>{const{type:i,componentType:n}=t,r=o?.properties[e].min,s=o?.properties[e].max,a=ey.A.getComponentCount(i);return{id:e,type:i,componentType:n,minValue:my(r,a),maxValue:my(s,a)}}));e.names=a.map((e=>e.id)),e.types=a.map((e=>e.type)),e.componentTypes=a.map((e=>e.componentType));const l=a.map((e=>e.minValue)),c=a.map((e=>e.maxValue)),u=l.some(f.A);e.minimumValues=u?l:void 0,e.maximumValues=u?c:void 0}function my(e,t){if(!(0,f.A)(e))return;const i=Array.isArray(e)?e:[e];return Array.from({length:t},((e,t)=>i[t]))}Object.defineProperties(cy.prototype,{readyPromise:{get:function(){return(0,ol.A)("Cesium3DTilesVoxelProvider.readyPromise","Cesium3DTilesVoxelProvider.readyPromise was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._readyPromise}},ready:{get:function(){return(0,ol.A)("Cesium3DTilesVoxelProvider.ready","Cesium3DTilesVoxelProvider.ready was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use Cesium3DTilesVoxelProvider.fromUrl instead."),this._ready}}}),cy.fromUrl=async function(e){Ce.A.defined("url",e);const t=we.A.createIfNeeded(e),i=await t.fetchJson();dy(i);const n=py(i,t);await n.load();const r=i.root,o=r.content.extensions["3DTILES_content_voxels"],s=o.class,a=(0,W_.A)(i,"3DTILES_metadata")?i.extensions["3DTILES_metadata"]:i,l=n.schema,c=new H_.A({metadataJson:a,schema:l}),u=new cy;fy(u,c,s);const d=new Z_.A(t,r,l),{shape:h,minBounds:p,maxBounds:m,shapeTransform:A,globalTransform:g}=hy(r);let _,y;return u.shape=h,u.minBounds=p,u.maxBounds=m,u.dimensions=Z.A.unpack(o.dimensions),u.shapeTransform=A,u.globalTransform=g,u.maximumTileCount=uy(c),(0,f.A)(o.padding)&&(_=Z.A.unpack(o.padding.before),y=Z.A.unpack(o.padding.after)),u.paddingBefore=_,u.paddingAfter=y,u._implicitTileset=d,iy.A.unload(n),u._ready=!0,u._readyPromise=Promise.resolve(u),u},cy.prototype.requestData=function(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=(0,p.A)(e.tileLevel,0),i=(0,p.A)(e.tileX,0),n=(0,p.A)(e.tileY,0),r=(0,p.A)(e.tileZ,0);if(0!==(0,p.A)(e.keyframe,0))return;const o=this._implicitTileset,s=this.names,a=new Y_.A({subdivisionScheme:o.subdivisionScheme,subtreeLevels:o.subtreeLevels,level:t,x:i,y:n,z:r}),l=a.isSubtreeRoot()&&a.level>0;return async function(e,t){const i=e._implicitTileset,n=e._subtreeCache;let r=n.find(t);if((0,f.A)(r))return r;const o=i.subtreeUriTemplate.getDerivedResource({templateValues:t.getTemplateValues()}),s=i.baseResource.getDerivedResource({url:o.url}),a=await s.fetchArrayBuffer();if(r=n.find(t),(0,f.A)(r))return r;const l=(0,ty.A)(a);return r=await j_.A.fromSubtreeJson(s,l.jsonPayload,l.binaryPayload,i,t),n.addSubtree(r),r}(this,l?a.getParentSubtreeCoordinates():a.getSubtreeCoordinates()).then((function(e){return(l?e.childSubtreeIsAvailableAtCoordinates(a):e.tileIsAvailableAtCoordinates(a))?async function(e,t){const i=e.contentUriTemplates[0].getDerivedResource({templateValues:t.getTemplateValues()}),n=e.baseResource.getDerivedResource({url:i.url}),r=await n.fetchArrayBuffer(),o=(0,ty.A)(r);return await sy.fromJson(n,o.jsonPayload,o.binaryPayload,e.metadataSchema)}(o,a):Promise.reject("Tile is not available")})).then((function(e){return s.map((function(t){return e.metadataTable.getPropertyTypedArray(t)}))}))};const Ay=cy;var gy=i(855927),_y=i(329554),yy=i(648117),vy=i(529755),by=i(741740),wy=i(724812),xy=i(485760),Cy=i(727541);function Sy(e){e=(0,p.A)(e,1),Ce.A.typeOf.number.greaterThan("radius",e,0),this._radius=(0,p.A)(e,1)}Object.defineProperties(Sy.prototype,{radius:{get:function(){return this._radius},set:function(e){Ce.A.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),Sy.prototype.emit=function(e){const t=T.A.randomBetween(0,T.A.TWO_PI),i=T.A.randomBetween(0,this._radius),n=i*Math.cos(t),r=i*Math.sin(t);e.position=Z.A.fromElements(n,r,0,e.position),e.velocity=Z.A.clone(Z.A.UNIT_Z,e.velocity)};const Ty=Sy;var Py=i(627853),Ey=i(23708),My=i(711284);const ky={CUMULUS:0,validate:function(e){return e===ky.CUMULUS}},Iy=Object.freeze(ky);function By(e,t){if(e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._show=(0,p.A)(e.show,!0),this._position=Z.A.clone((0,p.A)(e.position,Z.A.ZERO)),!(0,f.A)(e.scale)&&(0,f.A)(e.maximumSize))this._maximumSize=Z.A.clone(e.maximumSize),this._scale=new d.A(this._maximumSize.x,this._maximumSize.y);else{this._scale=d.A.clone((0,p.A)(e.scale,new d.A(20,12)));const t=new Z.A(this._scale.x,this._scale.y,Math.min(this._scale.x,this._scale.y)/1.5);this._maximumSize=Z.A.clone((0,p.A)(e.maximumSize,t))}this._slice=(0,p.A)(e.slice,-1),this._color=h.A.clone((0,p.A)(e.color,h.A.WHITE)),this._brightness=(0,p.A)(e.brightness,1),this._cloudCollection=t,this._index=-1}const Oy=By.SHOW_INDEX=0,Ry=By.POSITION_INDEX=1,Fy=By.SCALE_INDEX=2,Dy=By.MAXIMUM_SIZE_INDEX=3,Ly=By.SLICE_INDEX=4,Vy=By.BRIGHTNESS_INDEX=5,Ny=By.COLOR_INDEX=6;function Uy(e,t){const i=e._cloudCollection;(0,f.A)(i)&&(i._updateCloud(e,t),e._dirty=!0)}By.NUMBER_OF_PROPERTIES=7,Object.defineProperties(By.prototype,{show:{get:function(){return this._show},set:function(e){Ce.A.typeOf.bool("value",e),this._show!==e&&(this._show=e,Uy(this,Oy))}},position:{get:function(){return this._position},set:function(e){Ce.A.typeOf.object("value",e);const t=this._position;Z.A.equals(t,e)||(Z.A.clone(e,t),Uy(this,Ry))}},scale:{get:function(){return this._scale},set:function(e){Ce.A.typeOf.object("value",e);const t=this._scale;d.A.equals(t,e)||(d.A.clone(e,t),Uy(this,Fy))}},maximumSize:{get:function(){return this._maximumSize},set:function(e){Ce.A.typeOf.object("value",e);const t=this._maximumSize;Z.A.equals(t,e)||(Z.A.clone(e,t),Uy(this,Dy))}},color:{get:function(){return this._color},set:function(e){Ce.A.typeOf.object("value",e);const t=this._color;h.A.equals(t,e)||(h.A.clone(e,t),Uy(this,Ny))}},slice:{get:function(){return this._slice},set:function(e){Ce.A.typeOf.number("value",e),this._slice!==e&&(this._slice=e,Uy(this,Ly))}},brightness:{get:function(){return this._brightness},set:function(e){Ce.A.typeOf.number("value",e),this._brightness!==e&&(this._brightness=e,Uy(this,Vy))}}}),By.prototype._destroy=function(){this._cloudCollection=void 0};const Gy=By;let zy;const Ky=new Z.A,qy={positionHighAndScaleX:0,positionLowAndScaleY:1,packedAttribute0:2,packedAttribute1:3,color:4},Hy={direction:0,positionHighAndScaleX:1,positionLowAndScaleY:2,packedAttribute0:3,packedAttribute1:4,color:5},Wy=Gy.SHOW_INDEX,jy=Gy.POSITION_INDEX,Jy=Gy.SCALE_INDEX,Xy=Gy.MAXIMUM_SIZE_INDEX,$y=Gy.SLICE_INDEX,Yy=Gy.BRIGHTNESS_INDEX,Zy=Gy.NUMBER_OF_PROPERTIES,Qy=Gy.COLOR_INDEX;function ev(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!1,this._propertiesChanged=new Uint32Array(Zy),this._noiseTexture=void 0,this._textureSliceWidth=128,this._noiseTextureRows=4,this.noiseDetail=(0,p.A)(e.noiseDetail,16),this.noiseOffset=Z.A.clone((0,p.A)(e.noiseOffset,Z.A.ZERO)),this._loading=!1,this._ready=!1;const t=this;this._uniforms={u_noiseTexture:function(){return t._noiseTexture},u_noiseTextureDimensions:tv(t),u_noiseDetail:function(){return t.noiseDetail}},this._vaNoise=void 0,this._spNoise=void 0,this._spCreated=!1,this._sp=void 0,this._rs=void 0,this.show=(0,p.A)(e.show,!0),this._colorCommands=[],this.debugBillboards=(0,p.A)(e.debugBillboards,!1),this._compiledDebugBillboards=!1,this.debugEllipsoids=(0,p.A)(e.debugEllipsoids,!1),this._compiledDebugEllipsoids=!1}function tv(e){return function(){return Ky.x=e._textureSliceWidth,Ky.y=e._noiseTextureRows,Ky.z=1/e._noiseTextureRows,Ky}}function iv(e){const t=e.length;for(let i=0;i<t;++i)e[i]&&e[i]._destroy()}function nv(e){if(e._cloudsRemoved){e._cloudsRemoved=!1;const t=[],i=e._clouds,n=i.length;for(let e=0,r=0;e<n;++e){const n=i[e];(0,f.A)(n)&&(i._index=r++,t.push(n))}e._clouds=t}}Object.defineProperties(ev.prototype,{length:{get:function(){return nv(this),this._clouds.length}}}),ev.prototype.add=function(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=(0,p.A)(e.cloudType,Iy.CUMULUS);if(!Iy.validate(t))throw new S.A("invalid cloud type");let i;return t===Iy.CUMULUS&&(i=new Gy(e,this),i._index=this._clouds.length,this._clouds.push(i),this._createVertexArray=!0),i},ev.prototype.remove=function(e){return!!this.contains(e)&&(this._clouds[e._index]=void 0,this._cloudsRemoved=!0,this._createVertexArray=!0,e._destroy(),!0)},ev.prototype.removeAll=function(){iv(this._clouds),this._clouds=[],this._cloudsToUpdate=[],this._cloudsToUpdateIndex=0,this._cloudsRemoved=!1,this._createVertexArray=!0},ev.prototype._updateCloud=function(e,t){e._dirty||(this._cloudsToUpdate[this._cloudsToUpdateIndex++]=e),++this._propertiesChanged[t]},ev.prototype.contains=function(e){return(0,f.A)(e)&&e._cloudCollection===this},ev.prototype.get=function(e){return Ce.A.typeOf.number("index",e),nv(this),this._clouds[e]};const rv=new Float32Array([-1,-1,1,-1,1,1,-1,1]),ov=new Uint16Array([0,1,2,0,2,3]);let sv;function av(e){let t=e.cache.cloudCollection_indexBufferBatched;if((0,f.A)(t))return t;const i=new Uint16Array(98298);for(let e=0,t=0;e<98298;e+=6,t+=4)i[e]=t,i[e+1]=t+1,i[e+2]=t+2,i[e+3]=t,i[e+4]=t+2,i[e+5]=t+3;return t=Fu.A.createIndexBuffer({context:e,typedArray:i,usage:Du.A.STATIC_DRAW,indexDatatype:kp.A.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferBatched=t,t}function lv(e){let t=e.cache.cloudCollection_indexBufferInstanced;return(0,f.A)(t)||(t=Fu.A.createIndexBuffer({context:e,typedArray:new Uint16Array([0,1,2,0,2,3]),usage:Du.A.STATIC_DRAW,indexDatatype:kp.A.UNSIGNED_SHORT}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_indexBufferInstanced=t),t}function cv(e){let t=e.cache.cloudCollection_vertexBufferInstanced;return(0,f.A)(t)||(t=Fu.A.createVertexBuffer({context:e,typedArray:new Float32Array([0,0,1,0,1,1,0,1]),usage:Du.A.STATIC_DRAW}),t.vertexArrayDestroyable=!1,e.cache.cloudCollection_vertexBufferInstanced=t),t}const uv=new Xh.A;function dv(e,t,i,n){let r;const o=i[zy.positionHighAndScaleX],s=i[zy.positionLowAndScaleY],a=n.position;Xh.A.fromCartesian(a,uv);const l=n.scale,c=uv.high,u=uv.low;e._instanced?(r=n._index,o(r,c.x,c.y,c.z,l.x),s(r,u.x,u.y,u.z,l.y)):(r=4*n._index,o(r+0,c.x,c.y,c.z,l.x),o(r+1,c.x,c.y,c.z,l.x),o(r+2,c.x,c.y,c.z,l.x),o(r+3,c.x,c.y,c.z,l.x),s(r+0,u.x,u.y,u.z,l.y),s(r+1,u.x,u.y,u.z,l.y),s(r+2,u.x,u.y,u.z,l.y),s(r+3,u.x,u.y,u.z,l.y))}function hv(e,t,i,n){let r;const o=i[zy.packedAttribute0],s=n.show,a=n.brightness;e._instanced?(r=n._index,o(r,s,a,0,0)):(r=4*n._index,o(r+0,s,a,0,0),o(r+1,s,a,1,0),o(r+2,s,a,1,1),o(r+3,s,a,0,1))}function pv(e,t,i,n){let r;const o=i[zy.packedAttribute1],s=n.maximumSize,a=n.slice;e._instanced?(r=n._index,o(r,s.x,s.y,s.z,a)):(r=4*n._index,o(r+0,s.x,s.y,s.z,a),o(r+1,s.x,s.y,s.z,a),o(r+2,s.x,s.y,s.z,a),o(r+3,s.x,s.y,s.z,a))}function fv(e,t,i,n){let r;const o=i[zy.color],s=n.color,a=h.A.floatToByte(s.red),l=h.A.floatToByte(s.green),c=h.A.floatToByte(s.blue),u=h.A.floatToByte(s.alpha);e._instanced?(r=n._index,o(r,a,l,c,u)):(r=4*n._index,o(r+0,a,l,c,u),o(r+1,a,l,c,u),o(r+2,a,l,c,u),o(r+3,a,l,c,u))}function mv(e,t,i,n){dv(e,0,i,n),hv(e,0,i,n),pv(e,0,i,n),fv(e,0,i,n)}const Av=[];ev.prototype.update=function(e){if(nv(this),!this.show)return;const t=this.debugBillboards||this.debugEllipsoids;this._ready=!!t||(0,f.A)(this._noiseTexture),this._ready||this._loading||t||function(e,t,i,n){const r=e,o=r._textureSliceWidth,s=r._noiseTextureRows;if(o/s<1||o%s!=0)throw new S.A("noiseTextureRows must evenly divide textureSliceWidth");const a=t.context;r._vaNoise=function(e){const t=Fu.A.createVertexBuffer({context:e,typedArray:rv,usage:Du.A.STATIC_DRAW}),i=Fu.A.createIndexBuffer({context:e,typedArray:ov,usage:Du.A.STATIC_DRAW,indexDatatype:kp.A.UNSIGNED_SHORT}),n=[{index:0,vertexBuffer:t,componentsPerAttribute:2,componentDatatype:yh.A.FLOAT}];return new md.A({context:e,attributes:n,indexBuffer:i})}(a),r._spNoise=sd.A.fromCache({context:a,vertexShaderSource:i,fragmentShaderSource:n,attributeLocations:{position:0}});const l=r.noiseDetail,c=r.noiseOffset;r._noiseTexture=new cd.A({context:a,width:o*o/s,height:o*s,pixelDatatype:Yu.A.UNSIGNED_BYTE,pixelFormat:Zf.A.RGBA,sampler:new td.A({wrapS:pd.A.REPEAT,wrapT:pd.A.REPEAT,minificationFilter:hd.A.NEAREST,magnificationFilter:dd.A.NEAREST})});const u=new Vu.A({vertexArray:r._vaNoise,shaderProgram:r._spNoise,outputTexture:r._noiseTexture,uniformMap:{u_noiseTextureDimensions:tv(r),u_noiseDetail:function(){return l},u_noiseOffset:function(){return c}},persists:!1,owner:e,postExecute:function(e){r._ready=!0,r._loading=!1}});t.commandList.push(u),r._loading=!0}(this,e,lg,ag),this._instanced=e.context.instancedArrays,zy=this._instanced?Hy:qy,sv=this._instanced?lv:av;const i=this._clouds.length,n=this._cloudsToUpdate,r=this._cloudsToUpdateIndex;this._createVertexArray?function(e,t){const i=e,n=t.context;i._createVertexArray=!1,i._vaf=i._vaf&&i._vaf.destroy();const r=e._clouds,o=r.length;if(o>0){i._vaf=function(e,t,i){const n=[{index:zy.positionHighAndScaleX,componentsPerAttribute:4,componentDatatype:yh.A.FLOAT,usage:Du.A.STATIC_DRAW},{index:zy.positionLowAndScaleY,componentsPerAttribute:4,componentDatatype:yh.A.FLOAT,usage:Du.A.STATIC_DRAW},{index:zy.packedAttribute0,componentsPerAttribute:4,componentDatatype:yh.A.FLOAT,usage:Du.A.STATIC_DRAW},{index:zy.packedAttribute1,componentsPerAttribute:4,componentDatatype:yh.A.FLOAT,usage:Du.A.STATIC_DRAW},{index:zy.color,componentsPerAttribute:4,componentDatatype:yh.A.UNSIGNED_BYTE,normalize:!0,usage:Du.A.STATIC_DRAW}];i&&n.push({index:zy.direction,componentsPerAttribute:2,componentDatatype:yh.A.FLOAT,vertexBuffer:cv(e)});const r=i?t:4*t;return new Ad.A(e,n,r,i)}(n,o,i._instanced);const t=i._vaf.writers;let s;for(s=0;s<o;++s)mv(e,0,t,r[s]);i._vaf.commit(sv(n))}}(this,e):r>0&&function(e,t){const i=t.context,n=e,r=n._clouds.length,o=n._cloudsToUpdate,s=n._cloudsToUpdateIndex,a=n._propertiesChanged,l=Av;l.length=0,(a[jy]||a[Jy])&&l.push(dv),(a[Wy]||a[Yy])&&l.push(hv),(a[Xy]||a[$y])&&l.push(pv),a[Qy]&&l.push(fv);const c=l.length,u=n._vaf.writers;let d,h,p;if(s/r>.1){for(d=0;d<s;++d)for(h=o[d],h._dirty=!1,p=0;p<c;++p)l[p](e,t,u,h);n._vaf.commit(sv(i))}else{for(d=0;d<s;++d){for(h=o[d],h._dirty=!1,p=0;p<c;++p)l[p](e,t,u,h);n._instanced?n._vaf.subCommit(h._index,1):n._vaf.subCommit(4*h._index,4)}n._vaf.endSubCommits()}n._cloudsToUpdateIndex=0}(this,e),r>1.5*i&&(n.length=i),!(0,f.A)(this._vaf)||!(0,f.A)(this._vaf.va)||!this._ready&!t||(this._spCreated&&this.debugBillboards===this._compiledDebugBillboards&&this.debugEllipsoids===this._compiledDebugEllipsoids||function(e,t,i,n){const r=t.context,o=e,s=new ad.A({defines:[],sources:[i]});o._instanced&&s.defines.push("INSTANCED");const a=new ad.A({defines:[],sources:[n]});o.debugBillboards&&a.defines.push("DEBUG_BILLBOARDS"),o.debugEllipsoids&&a.defines.push("DEBUG_ELLIPSOIDS"),o._sp=sd.A.replaceCache({context:r,shaderProgram:o._sp,vertexShaderSource:s,fragmentShaderSource:a,attributeLocations:zy}),o._rs=Zu.A.fromCache({depthTest:{enabled:!0,func:AA.A.LESS},depthMask:!1,blending:m_.A.ALPHA_BLEND}),o._spCreated=!0,o._compiledDebugBillboards=o.debugBillboards,o._compiledDebugEllipsoids=o.debugEllipsoids}(this,e,sg,og),function(e,t){const i=e,n=t.passes,r=i._uniforms,o=t.commandList;if(n.render){const t=i._colorCommands,n=i._vaf.va,s=n.length;t.length=s;for(let a=0;a<s;a++){let s=t[a];(0,f.A)(s)||(s=t[a]=new qu.A),s.pass=Xu.A.TRANSLUCENT,s.owner=e,s.uniformMap=r,s.count=n[a].indicesCount,s.vertexArray=n[a].va,s.shaderProgram=i._sp,s.renderState=i._rs,i._instanced&&(s.count=6,s.instanceCount=i._clouds.length),o.push(s)}}}(this,e))},ev.prototype.isDestroyed=function(){return!1},ev.prototype.destroy=function(){return this._noiseTexture=this._noiseTexture&&this._noiseTexture.destroy(),this._sp=this._sp&&this._sp.destroy(),this._vaf=this._vaf&&this._vaf.destroy(),iv(this._clouds),(0,lA.A)(this)};const gv=ev;var _v=i(583511),yv=i(33138);const vv=T.A.toRadians(30);function bv(e){this._angle=(0,p.A)(e,vv)}Object.defineProperties(bv.prototype,{angle:{get:function(){return this._angle},set:function(e){Ce.A.typeOf.number("value",e),this._angle=e}}}),bv.prototype.emit=function(e){const t=Math.tan(this._angle),i=T.A.randomBetween(0,T.A.TWO_PI),n=T.A.randomBetween(0,t),r=n*Math.cos(i),o=n*Math.sin(i);e.velocity=Z.A.fromElements(r,o,1,e.velocity),Z.A.normalize(e.velocity,e.velocity),e.position=Z.A.clone(Z.A.ZERO,e.position)};const wv=bv;var xv=i(35204),Cv=i(937069),Sv=i(527083);function Tv(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).attributeName;let i=e.perInstanceAttribute;if(!(0,f.A)(t))throw new S.A("options.attributeName is required.");(0,f.A)(i)||(i=!1);let n=(0,p.A)(e.glslDatatype,"vec3");const r=`v_${t}`;let o;if("normal"===t||"tangent"===t||"bitangent"===t)o=`vec4 getColor() { return vec4((${r} + vec3(1.0)) * 0.5, 1.0); }\n`;else switch("st"===t&&(n="vec2"),n){case"float":o=`vec4 getColor() { return vec4(vec3(${r}), 1.0); }\n`;break;case"vec2":o=`vec4 getColor() { return vec4(${r}, 0.0, 1.0); }\n`;break;case"vec3":o=`vec4 getColor() { return vec4(${r}, 1.0); }\n`;break;case"vec4":o=`vec4 getColor() { return ${r}; }\n`;break;default:throw new S.A("options.glslDatatype must be float, vec2, vec3, or vec4.")}const s=`in vec3 position3DHigh;\nin vec3 position3DLow;\nin float batchId;\n${i?"":`in ${n} ${t};\n`}out ${n} ${r};\nvoid main()\n{\nvec4 p = czm_translateRelativeToEye(position3DHigh, position3DLow);\n${i?`${r} = czm_batchTable_${t}(batchId);\n`:`${r} = ${t};\n`}gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}`,a=`in ${n} ${r};\n${o}\nvoid main()\n{\nout_FragColor = getColor();\n}`;this.material=void 0,this.translucent=(0,p.A)(e.translucent,!1),this._vertexShaderSource=(0,p.A)(e.vertexShaderSource,s),this._fragmentShaderSource=(0,p.A)(e.fragmentShaderSource,a),this._renderState=Yg.A.getDefaultRenderState(!1,!1,e.renderState),this._closed=(0,p.A)(e.closed,!1),this._attributeName=t,this._glslDatatype=n}Object.defineProperties(Tv.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},attributeName:{get:function(){return this._attributeName}},glslDatatype:{get:function(){return this._glslDatatype}}}),Tv.prototype.getFragmentShaderSource=Yg.A.prototype.getFragmentShaderSource,Tv.prototype.isTranslucent=Yg.A.prototype.isTranslucent,Tv.prototype.getRenderState=Yg.A.prototype.getRenderState;const Pv=Tv;var Ev=i(199744),Mv=i(809418),kv=i(234957),Iv=i(842153);function Bv(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this.length=(0,p.A)(e.length,1e7),this._length=void 0,this.width=(0,p.A)(e.width,2),this._width=void 0,this.show=(0,p.A)(e.show,!0),this.modelMatrix=Yd.A.clone((0,p.A)(e.modelMatrix,Yd.A.IDENTITY)),this._modelMatrix=new Yd.A,this.id=e.id,this._id=void 0,this._primitive=void 0}Bv.prototype.update=function(e){if(this.show){if(!(0,f.A)(this._primitive)||!Yd.A.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=Yd.A.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,(0,f.A)(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);const e=new lp.A({geometry:new sm.A({positions:[Z.A.ZERO,Z.A.UNIT_X],width:this.width,vertexFormat:kv.A.VERTEX_FORMAT,colors:[h.A.RED,h.A.RED],arcType:$.A.NONE}),modelMatrix:Yd.A.multiplyByUniformScale(this.modelMatrix,this.length,new Yd.A),id:this.id,pickPrimitive:this}),t=new lp.A({geometry:new sm.A({positions:[Z.A.ZERO,Z.A.UNIT_Y],width:this.width,vertexFormat:kv.A.VERTEX_FORMAT,colors:[h.A.GREEN,h.A.GREEN],arcType:$.A.NONE}),modelMatrix:Yd.A.multiplyByUniformScale(this.modelMatrix,this.length,new Yd.A),id:this.id,pickPrimitive:this}),i=new lp.A({geometry:new sm.A({positions:[Z.A.ZERO,Z.A.UNIT_Z],width:this.width,vertexFormat:kv.A.VERTEX_FORMAT,colors:[h.A.BLUE,h.A.BLUE],arcType:$.A.NONE}),modelMatrix:Yd.A.multiplyByUniformScale(this.modelMatrix,this.length,new Yd.A),id:this.id,pickPrimitive:this});this._primitive=new Iv.A({geometryInstances:[e,t,i],appearance:new kv.A,asynchronous:!1})}this._primitive.update(e)}},Bv.prototype.isDestroyed=function(){return!1},Bv.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),(0,lA.A)(this)};const Ov=Bv;var Rv=i(523721),Fv=i(626355),Dv=i(384292),Lv=i(77191);const Vv=function(e){if(Ce.A.typeOf.object("options",e),Ce.A.typeOf.object("options.direction",e.direction),Z.A.equals(e.direction,Z.A.ZERO))throw new S.A("options.direction cannot be zero-length");this.direction=Z.A.clone(e.direction),this.color=h.A.clone((0,p.A)(e.color,h.A.WHITE)),this.intensity=(0,p.A)(e.intensity,1)};var Nv=i(253478),Uv=i(836721),Gv=i(445848),zv=i(168976);const Kv="in vec3 v_positionMC;\nin vec3 v_positionEC;\nin vec2 v_st;\n\nvoid main()\n{\n    czm_materialInput materialInput;\n\n    vec3 normalEC = normalize(czm_normal3D * czm_geodeticSurfaceNormal(v_positionMC, vec3(0.0), vec3(1.0)));\n#ifdef FACE_FORWARD\n    normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\n#endif\n\n    materialInput.s = v_st.s;\n    materialInput.st = v_st;\n    materialInput.str = vec3(v_st, 0.0);\n\n    // Convert tangent space material normal to eye space\n    materialInput.normalEC = normalEC;\n    materialInput.tangentToEyeMatrix = czm_eastNorthUpToEyeCoordinates(v_positionMC, materialInput.normalEC);\n\n    // Convert view vector to world space\n    vec3 positionToEyeEC = -v_positionEC;\n    materialInput.positionToEyeEC = positionToEyeEC;\n\n    czm_material material = czm_getMaterial(materialInput);\n\n#ifdef FLAT\n    out_FragColor = vec4(material.diffuse + material.emission, material.alpha);\n#else\n    out_FragColor = czm_phong(normalize(positionToEyeEC), material, czm_lightDirectionEC);\n#endif\n}\n",qv="in vec3 position3DHigh;\nin vec3 position3DLow;\nin vec2 st;\nin float batchId;\n\nout vec3 v_positionMC;\nout vec3 v_positionEC;\nout vec2 v_st;\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionMC = position3DHigh + position3DLow;           // position in model coordinates\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;     // position in eye coordinates\n    v_st = st;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n";var Hv=i(608191);function Wv(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=(0,p.A)(e.translucent,!0),i=(0,p.A)(e.aboveGround,!1);this.material=(0,f.A)(e.material)?e.material:Hv.A.fromType(Hv.A.ColorType),this.translucent=(0,p.A)(e.translucent,!0),this._vertexShaderSource=(0,p.A)(e.vertexShaderSource,qv),this._fragmentShaderSource=(0,p.A)(e.fragmentShaderSource,Kv),this._renderState=Yg.A.getDefaultRenderState(t,!i,e.renderState),this._closed=!1,this._flat=(0,p.A)(e.flat,!1),this._faceForward=(0,p.A)(e.faceForward,i),this._aboveGround=i}Object.defineProperties(Wv.prototype,{vertexShaderSource:{get:function(){return this._vertexShaderSource}},fragmentShaderSource:{get:function(){return this._fragmentShaderSource}},renderState:{get:function(){return this._renderState}},closed:{get:function(){return this._closed}},vertexFormat:{get:function(){return Wv.VERTEX_FORMAT}},flat:{get:function(){return this._flat}},faceForward:{get:function(){return this._faceForward}},aboveGround:{get:function(){return this._aboveGround}}}),Wv.VERTEX_FORMAT=lh.A.POSITION_AND_ST,Wv.prototype.getFragmentShaderSource=Yg.A.prototype.getFragmentShaderSource,Wv.prototype.isTranslucent=Yg.A.prototype.isTranslucent,Wv.prototype.getRenderState=Yg.A.prototype.getRenderState;const jv=Wv;var Jv=i(84269),Xv=i(470622),$v=i(203576),Yv=i(5244);function Zv(e){if(!(0,f.A)(e)||!(0,f.A)(e.scene))throw new S.A("options.scene is required.");this._scene=e.scene,this.samplingWindow=(0,p.A)(e.samplingWindow,Zv.defaultSettings.samplingWindow),this.quietPeriod=(0,p.A)(e.quietPeriod,Zv.defaultSettings.quietPeriod),this.warmupPeriod=(0,p.A)(e.warmupPeriod,Zv.defaultSettings.warmupPeriod),this.minimumFrameRateDuringWarmup=(0,p.A)(e.minimumFrameRateDuringWarmup,Zv.defaultSettings.minimumFrameRateDuringWarmup),this.minimumFrameRateAfterWarmup=(0,p.A)(e.minimumFrameRateAfterWarmup,Zv.defaultSettings.minimumFrameRateAfterWarmup),this._lowFrameRate=new m.A,this._nominalFrameRate=new m.A,this._frameTimes=[],this._needsQuietPeriod=!0,this._quietPeriodEndTime=0,this._warmupPeriodEndTime=0,this._frameRateIsLow=!1,this._lastFramesPerSecond=void 0,this._pauseCount=0;const t=this;this._preUpdateRemoveListener=this._scene.preUpdate.addEventListener((function(e,i){!function(e){if(e._pauseCount>0)return;const t=(0,eo.A)();if(e._needsQuietPeriod)e._needsQuietPeriod=!1,e._frameTimes.length=0,e._quietPeriodEndTime=t+e.quietPeriod/jm.A.SECONDS_PER_MILLISECOND,e._warmupPeriodEndTime=e._quietPeriodEndTime+(e.warmupPeriod+e.samplingWindow)/jm.A.SECONDS_PER_MILLISECOND;else if(t>=e._quietPeriodEndTime){e._frameTimes.push(t);const i=t-e.samplingWindow/jm.A.SECONDS_PER_MILLISECOND;if(e._frameTimes.length>=2&&e._frameTimes[0]<=i){for(;e._frameTimes.length>=2&&e._frameTimes[1]<i;)e._frameTimes.shift();const n=(t-e._frameTimes[0])/(e._frameTimes.length-1);e._lastFramesPerSecond=1e3/n,n>1e3/(t>e._warmupPeriodEndTime?e.minimumFrameRateAfterWarmup:e.minimumFrameRateDuringWarmup)?e._frameRateIsLow||(e._frameRateIsLow=!0,e._needsQuietPeriod=!0,e.lowFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond)):e._frameRateIsLow&&(e._frameRateIsLow=!1,e._needsQuietPeriod=!0,e.nominalFrameRate.raiseEvent(e.scene,e._lastFramesPerSecond))}}}(t)})),this._hiddenPropertyName=void 0!==document.hidden?"hidden":void 0!==document.mozHidden?"mozHidden":void 0!==document.msHidden?"msHidden":void 0!==document.webkitHidden?"webkitHidden":void 0;const i=void 0!==document.hidden?"visibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":void 0!==document.webkitHidden?"webkitvisibilitychange":void 0;function n(){var e;e=t,document[e._hiddenPropertyName]?e.pause():e.unpause()}this._visibilityChangeRemoveListener=void 0,(0,f.A)(i)&&(document.addEventListener(i,n,!1),this._visibilityChangeRemoveListener=function(){document.removeEventListener(i,n,!1)})}Zv.defaultSettings={samplingWindow:5,quietPeriod:2,warmupPeriod:5,minimumFrameRateDuringWarmup:4,minimumFrameRateAfterWarmup:8},Zv.fromScene=function(e){if(!(0,f.A)(e))throw new S.A("scene is required.");return(0,f.A)(e._frameRateMonitor)&&!e._frameRateMonitor.isDestroyed()||(e._frameRateMonitor=new Zv({scene:e})),e._frameRateMonitor},Object.defineProperties(Zv.prototype,{scene:{get:function(){return this._scene}},lowFrameRate:{get:function(){return this._lowFrameRate}},nominalFrameRate:{get:function(){return this._nominalFrameRate}},lastFramesPerSecond:{get:function(){return this._lastFramesPerSecond}}}),Zv.prototype.pause=function(){++this._pauseCount,1===this._pauseCount&&(this._frameTimes.length=0,this._lastFramesPerSecond=void 0)},Zv.prototype.unpause=function(){--this._pauseCount,this._pauseCount<=0&&(this._pauseCount=0,this._needsQuietPeriod=!0)},Zv.prototype.isDestroyed=function(){return!1},Zv.prototype.destroy=function(){return this._preUpdateRemoveListener(),(0,f.A)(this._visibilityChangeRemoveListener)&&this._visibilityChangeRemoveListener(),(0,lA.A)(this)};const Qv=Zv;var eb=i(346400),tb=i(311664),ib=i(823064),nb=i(463823),rb=i(897741),ob=i(545880),sb=i(38867),ab=i(295550),lb=i(301947),cb=i(208375),ub=i(5105),db=i(738375),hb=i(386920),pb=i(201783),fb=i(395989),mb=i(385618),Ab=i(560710),gb=i(982504),_b=i(782556),yb=i(582998),vb=i(952575),bb=i(946240);function wb(){this._image=new Image}function xb(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tileDiscardPolicy=e.tileDiscardPolicy,this._tilingScheme=new xd.A({numberOfLevelZeroTilesX:2,numberOfLevelZeroTilesY:2,rectangle:new ve.A(-T.A.PI,-T.A.PI,T.A.PI,T.A.PI),ellipsoid:e.ellipsoid});let t=e.credit;"string"==typeof t&&(t=new ne.A(t)),this._credit=t,this._tileWidth=256,this._tileHeight=256,this._maximumLevel=23,(0,f.A)(this._tileDiscardPolicy)||(this._tileDiscardPolicy=new wb),this._errorEvent=new m.A,this._ready=!1;const i=this;let n,r;if((0,f.A)(e.url)){(0,ol.A)("GoogleEarthEnterpriseImageryProvider options.url","options.url was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead.");const t=we.A.createIfNeeded(e.url);r=new Mp(t)}(0,f.A)(e.metadata)&&((0,ol.A)("GoogleEarthEnterpriseImageryProvider options.metadata","options.metadata was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),r=e.metadata),this._metadata=r,(0,f.A)(r)&&(this._readyPromise=r.readyPromise.then((function(e){if(!r.imageryPresent){const e=new xe.A(`The server ${r.url} doesn't have imagery`);return n=Id.A.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)}return Id.A.reportSuccess(n),i._ready=e,e})).catch((function(e){return n=Id.A.reportError(n,i,i._errorEvent,e.message,void 0,void 0,void 0,e),Promise.reject(e)})))}wb.prototype.isReady=function(){return!0},wb.prototype.shouldDiscardImage=function(e){return e===this._image},Object.defineProperties(xb.prototype,{url:{get:function(){return this._metadata.url}},proxy:{get:function(){return this._metadata.proxy}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return this._maximumLevel}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){return this._tileDiscardPolicy}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.ready","GoogleEarthEnterpriseImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107. Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),this._ready}},readyPromise:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.readyPromise","GoogleEarthEnterpriseImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107. Use GoogleEarthEnterpriseImageryProvider.fromMetadata instead."),this._readyPromise}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!1}},defaultAlpha:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultAlpha","GoogleEarthEnterpriseImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultAlpha","GoogleEarthEnterpriseImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultNightAlpha","GoogleEarthEnterpriseImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultNightAlpha","GoogleEarthEnterpriseImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultDayAlpha","GoogleEarthEnterpriseImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultDayAlpha","GoogleEarthEnterpriseImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultBrightness","GoogleEarthEnterpriseImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultBrightness","GoogleEarthEnterpriseImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultContrast","GoogleEarthEnterpriseImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultContrast","GoogleEarthEnterpriseImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultHue","GoogleEarthEnterpriseImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultHue","GoogleEarthEnterpriseImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultSaturation","GoogleEarthEnterpriseImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultSaturation","GoogleEarthEnterpriseImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultGamma","GoogleEarthEnterpriseImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultGamma","GoogleEarthEnterpriseImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,ol.A)("GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter","GoogleEarthEnterpriseImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),xb.fromMetadata=function(e,t){if(Ce.A.defined("metadata",e),!e.imageryPresent)throw new xe.A(`The server ${e.url} doesn't have imagery`);const i=new xb(t);return i._metadata=e,i._ready=!0,i._readyPromise=Promise.resolve(!0),i},xb.prototype.getTileCredits=function(e,t,i){const n=this._metadata,r=n.getTileInformation(e,t,i);if((0,f.A)(r)){const e=n.providers[r.imageryProvider];if((0,f.A)(e))return[e]}},xb.prototype.requestImage=function(e,t,i,n){const r=this._tileDiscardPolicy._image,o=this._metadata,s=Mp.tileXYToQuadKey(e,t,i),a=o.getTileInformation(e,t,i);if(!(0,f.A)(a)){if(o.isValid(s)){const r=new Td.A({throttle:n.throttle,throttleByServer:n.throttleByServer,type:n.type,priorityFunction:n.priorityFunction});return void o.populateSubtree(e,t,i,r)}return Promise.resolve(r)}if(!a.hasImagery())return Promise.resolve(r);const l=function(e,t,i,n,r,o){const s=Mp.tileXYToQuadKey(i,n,r);let a=t.imageryVersion;return a=(0,f.A)(a)&&a>0?a:1,e._metadata.resource.getDerivedResource({url:`flatfile?f1-0${s}-i.${a.toString()}`,request:o})}(this,a,e,t,i,n).fetchArrayBuffer();return(0,f.A)(l)?l.then((function(e){PA(o.key,e);let t,i=new Uint8Array(e);const n=o.protoImagery;if((0,f.A)(n)&&n||(t=function(e){const t="JFIF";if(e[6]===t.charCodeAt(0)&&e[7]===t.charCodeAt(1)&&e[8]===t.charCodeAt(2)&&e[9]===t.charCodeAt(3))return"image/jpeg";const i="PNG";return e[1]===i.charCodeAt(0)&&e[2]===i.charCodeAt(1)&&e[3]===i.charCodeAt(2)?"image/png":void 0}(i)),!(0,f.A)(t)&&(!(0,f.A)(n)||n)){const e=function(e){const t=pp.Reader.create(e),i=t.len,n={};for(;t.pos<i;){const e=t.uint32();let i;switch(e>>>3){case 1:n.imageType=t.uint32();break;case 2:n.imageData=t.bytes();break;case 3:n.alphaType=t.uint32();break;case 4:n.imageAlpha=t.bytes();break;case 5:if(i=n.copyrightIds,(0,f.A)(i)||(i=n.copyrightIds=[]),2==(7&e)){const e=t.uint32()+t.pos;for(;t.pos<e;)i.push(t.uint32())}else i.push(t.uint32());break;default:t.skipType(7&e)}}const r=n.imageType;if((0,f.A)(r))switch(r){case 0:n.imageType="image/jpeg";break;case 4:n.imageType="image/png";break;default:throw new xe.A("GoogleEarthEnterpriseImageryProvider: Unsupported image type.")}const o=n.alphaType;return(0,f.A)(o)&&0!==o&&(console.log("GoogleEarthEnterpriseImageryProvider: External alpha not supported."),delete n.alphaType,delete n.imageAlpha),n}(i);t=e.imageType,i=e.imageData}return(0,f.A)(t)&&(0,f.A)(i)?(0,UA.A)({uint8Array:i,format:t,flipY:!0}):r})):void 0},xb.prototype.pickFeatures=function(e,t,i,n,r){};const Cb=xb;var Sb=i(38300);const Tb=new h.A(1,1,1,.4),Pb=new h.A(0,1,0,.05),Eb=new h.A(0,.5,0,.2);function Mb(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0,this._tilingScheme=(0,f.A)(e.tilingScheme)?e.tilingScheme:new xd.A({ellipsoid:e.ellipsoid}),this._cells=(0,p.A)(e.cells,8),this._color=(0,p.A)(e.color,Tb),this._glowColor=(0,p.A)(e.glowColor,Pb),this._glowWidth=(0,p.A)(e.glowWidth,6),this._backgroundColor=(0,p.A)(e.backgroundColor,Eb),this._errorEvent=new m.A,this._tileWidth=(0,p.A)(e.tileWidth,256),this._tileHeight=(0,p.A)(e.tileHeight,256),this._canvasSize=(0,p.A)(e.canvasSize,256),this._canvas=this._createGridCanvas(),this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(Mb.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,ol.A)("GridImageryProvider.ready","GridImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,ol.A)("GridImageryProvider.readyPromise","GridImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}},defaultAlpha:{get:function(){return(0,ol.A)("GridImageryProvider.defaultAlpha","GridImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,ol.A)("GridImageryProvider.defaultAlpha","GridImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,ol.A)("GridImageryProvider.defaultNightAlpha","GridImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha},set:function(e){(0,ol.A)("GridImageryProvider.defaultNightAlpha","GridImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this.defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,ol.A)("GridImageryProvider.defaultDayAlpha","GridImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,ol.A)("GridImageryProvider.defaultDayAlpha","GridImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,ol.A)("GridImageryProvider.defaultBrightness","GridImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,ol.A)("GridImageryProvider.defaultBrightness","GridImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,ol.A)("GridImageryProvider.defaultContrast","GridImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,ol.A)("GridImageryProvider.defaultContrast","GridImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,ol.A)("GridImageryProvider.defaultHue","GridImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,ol.A)("GridImageryProvider.defaultHue","GridImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,ol.A)("GridImageryProvider.defaultSaturation","GridImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,ol.A)("GridImageryProvider.defaultSaturation","GridImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,ol.A)("GridImageryProvider.defaultGamma","GridImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,ol.A)("GridImageryProvider.defaultGamma","GridImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,ol.A)("GridImageryProvider.defaultMinificationFilter","GridImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,ol.A)("GridImageryProvider.defaultMinificationFilter","GridImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,ol.A)("GridImageryProvider.defaultMagnificationFilter","GridImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,ol.A)("GridImageryProvider.defaultMagnificationFilter","GridImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),Mb.prototype._drawGrid=function(e){const t=this._canvasSize;for(let i=0;i<=this._cells;++i){const n=1+i/this._cells*(t-1);e.moveTo(n,0),e.lineTo(n,t),e.moveTo(0,n),e.lineTo(t,n)}e.stroke()},Mb.prototype._createGridCanvas=function(){const e=document.createElement("canvas");e.width=this._canvasSize,e.height=this._canvasSize;const t=this._canvasSize,i=e.getContext("2d"),n=this._backgroundColor.toCssColorString();i.fillStyle=n,i.fillRect(0,0,t,t);const r=this._glowColor.toCssColorString();i.strokeStyle=r,i.lineWidth=this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i),i.lineWidth=.5*this._glowWidth,i.strokeRect(0,0,t,t),this._drawGrid(i);const o=this._color.toCssColorString();return i.strokeStyle=o,i.lineWidth=2,i.strokeRect(0,0,t,t),i.lineWidth=1,this._drawGrid(i),e},Mb.prototype.getTileCredits=function(e,t,i){},Mb.prototype.requestImage=function(e,t,i,n){return Promise.resolve(this._canvas)},Mb.prototype.pickFeatures=function(e,t,i,n,r){};const kb=Mb;var Ib=i(433052),Bb=i(623e3),Ob=i(834298);function Rb(e,t){this._parent=e,this._dataProvider=e._dataProvider,this._layer=e._layer,(0,f.A)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${t}`}):this._resource=this._parent.resource.getDerivedResource({url:t})}Object.defineProperties(Rb.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}}}),Rb.prototype.load=async function(){return this._data=await dw.loadJson(this._resource,this._dataProvider._traceFetches),this._data};const Fb=Rb;function Db(e,t){this._storageInfo=t,this._parent=e,this._dataProvider=e._dataProvider;const i=`attributes/${t.key}/0`;(0,f.A)(this._parent._nodeIndex)?this._resource=this._parent._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.attribute.resource}/${i}`}):this._resource=this._parent.resource.getDerivedResource({url:i})}Object.defineProperties(Db.prototype,{resource:{get:function(){return this._resource}},header:{get:function(){return this._header}},values:{get:function(){return(0,f.A)(this._values)&&(0,f.A)(this._values.attributeValues)?this._values.attributeValues:[]}},name:{get:function(){return this._storageInfo.name}}}),Db.prototype.load=function(){const e=this;return this._dataProvider._loadBinary(this._resource).then((function(t){const i=new DataView(t);let n=!0;if(i.getUint8(0)==="{".charCodeAt(0)&&(new TextDecoder).decode(t).includes("404")&&(n=!1,console.error(`Failed to load: ${e.resource.url}`)),n){e._data=t;let n=e._parseHeader(i);const o="UInt8"===(r=e._storageInfo.attributeValues.valueType)||"Int8"===r?1:"UInt16"===r||"Int16"===r?2:"UInt32"===r||"Int32"===r||"Oid32"===r||"Float32"===r?4:"UInt64"===r||"Int64"===r||"Float64"===r?8:0;o>0&&(n=Math.ceil(n/o)*o),e._parseBody(i,n)}var r}))},Db.prototype._parseValue=function(e,t,i){let n;if("UInt8"===t)n=e.getUint8(i),i+=1;else if("Int8"===t)n=e.getInt8(i),i+=1;else if("UInt16"===t)n=e.getUint16(i,!0),i+=2;else if("Int16"===t)n=e.getInt16(i,!0),i+=2;else if("UInt32"===t)n=e.getUint32(i,!0),i+=4;else if("Oid32"===t)n=e.getUint32(i,!0),i+=4;else if("Int32"===t)n=e.getInt32(i,!0),i+=4;else if("UInt64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=t+Math.pow(2,32)*r,i+=8}else if("Int64"===t){const t=e.getUint32(i,!0),r=e.getUint32(i+4,!0);n=r<Math.pow(2,31)?t+Math.pow(2,32)*r:t+Math.pow(2,32)*(r-Math.pow(2,32)),i+=8}else"Float32"===t?(n=e.getFloat32(i,!0),i+=4):"Float64"===t?(n=e.getFloat64(i,!0),i+=8):"String"===t&&(n=String.fromCharCode(e.getUint8(i)),i+=1);return{value:n,offset:i}},Db.prototype._parseHeader=function(e){let t=0;this._header={};for(let i=0;i<this._storageInfo.header.length;i++){const n=this._storageInfo.header[i],r=this._parseValue(e,n.valueType,t);this._header[n.property]=r.value,t=r.offset}return t},Db.prototype._parseBody=function(e,t){this._values={};for(let i=0;i<this._storageInfo.ordering.length;i++){const n=this._storageInfo.ordering[i],r=this._storageInfo[n];if((0,f.A)(r)){this._values[n]=[];for(let i=0;i<this._header.count;++i)if("String"!==r.valueType){const i=this._parseValue(e,r.valueType,t);this._values[n].push(i.value),t=i.offset}else{const o=this._values.attributeByteCounts[i];let s="";for(let i=0;i<o;++i){const i=this._parseValue(e,r.valueType,t);0!==i.value.charCodeAt(0)&&(s+=i.value),t=i.offset}this._values[n].push(s)}}}};const Lb=Db;function Vb(e,t){const i=e._dataProvider,n=e._layer;let r;r=(0,f.A)(e._nodeIndex)?n.resource.getDerivedResource({url:`nodes/${e._data.mesh.geometry.resource}/${t}`}):e.resource.getDerivedResource({url:t}),this._parent=e,this._dataProvider=i,this._layer=n,this._resource=r,this._customAttributes=void 0}Object.defineProperties(Vb.prototype,{resource:{get:function(){return this._resource}},data:{get:function(){return this._data}},customAttributes:{get:function(){return this._customAttributes}}}),Vb.prototype.load=function(){const e=this;return this._dataProvider._loadBinary(this._resource).then((function(t){return e._data=t,t}))};const Nb=new Z.A,Ub=new Z.A,Gb=new Z.A,zb=new Z.A,Kb=new Z.A;function qb(e,t,i,n){const r=Z.A.subtract(n,i,Nb),o=Z.A.cross(r,Z.A.subtract(e,i,Ub),zb),s=Z.A.cross(r,Z.A.subtract(t,i,Gb),Kb);return Z.A.dot(o,s)>=0}const Hb=new Z.A,Wb=new Z.A,jb=new Z.A,Jb=new Z.A,Xb=new Z.A,$b=new Z.A,Yb=new Z.A,Zb=new Z.A,Qb=new Z.A,ew=new Z.A;Vb.prototype.getClosestPointIndexOnTriangle=function(e,t,i){if((0,f.A)(this._customAttributes)&&(0,f.A)(this._customAttributes.positions)){const n=new Z.A(e,t,i);n.x-=this._customAttributes.cartesianCenter.x,n.y-=this._customAttributes.cartesianCenter.y,n.z-=this._customAttributes.cartesianCenter.z,Dt.A.multiplyByVector(this._customAttributes.parentRotation,n,n);let r,o,s,a,l=Number.MAX_VALUE;const c=this._customAttributes.positions,u=this._customAttributes.indices;let d;d=(0,f.A)(u)?u.length:c.length/3;for(let e=0;e<d;e++){let t,i,d;(0,f.A)(u)?(t=u[e],i=u[e+1],d=u[e+2]):(t=3*e,i=3*e+1,d=3*e+2);const h=Z.A.fromElements(c[3*t],c[3*t+1],c[3*t+2],Hb),p=Z.A.fromElements(c[3*i],c[3*i+1],c[3*i+2],Wb),m=new Z.A(c[3*d],c[3*d+1],c[3*d+2],jb);if(!qb(n,h,p,m)||!qb(n,p,h,m)||!qb(n,m,h,p))continue;const A=Z.A.subtract(p,h,Jb),g=Z.A.subtract(m,h,Xb),_=Z.A.cross(A,g,$b);if(0===Z.A.magnitude(_))continue;const y=Z.A.normalize(_,Yb),v=Z.A.subtract(n,h,Zb),b=Math.abs(Z.A.dot(v,y));if(b<l){l=b,r=e;const c=Z.A.magnitudeSquared(Z.A.subtract(n,h,v)),u=Z.A.magnitudeSquared(Z.A.subtract(n,p,Qb)),f=Z.A.magnitudeSquared(Z.A.subtract(n,m,ew));c<u&&c<f?(s=t,a=h,o=c):u<f?(s=i,a=p,o=u):(s=d,a=m,o=f)}}if((0,f.A)(r))return{index:s,distanceSquared:o,distance:Math.sqrt(o),queriedPosition:n,closestPosition:Z.A.clone(a)}}return{index:-1,distanceSquared:Number.Infinity,distance:Number.Infinity}},Vb.prototype._generateGltf=function(e,t,i,n,r,o){let s,a={pbrMetallicRoughness:{metallicFactor:0},doubleSided:!0,name:"Material"},l=!1,c="";if((0,f.A)(this._parent._data.mesh)&&(0,f.A)(this._layer._data.materialDefinitions)){const e=this._parent._data.mesh.material.definition;if(e>=0&&e<this._layer._data.materialDefinitions.length&&(s=this._layer._data.materialDefinitions[e],a=s,(0,f.A)(a.pbrMetallicRoughness)&&(0,f.A)(a.pbrMetallicRoughness.baseColorTexture))){l=!0,a.pbrMetallicRoughness.baseColorTexture.index=0;let e="0";if((0,f.A)(this._layer._data.textureSetDefinitions))for(let t=0;t<this._layer._data.textureSetDefinitions.length;t++){const i=this._layer._data.textureSetDefinitions[t];for(let t=0;t<i.formats.length;t++){const n=i.formats[t];if("jpg"===n.format){e=n.name;break}}}(0,f.A)(this._parent._data.mesh)&&this._parent._data.mesh.material.resource>=0&&(c=this._layer.resource.getDerivedResource({url:`nodes/${this._parent._data.mesh.material.resource}/textures/${e}`}).url)}}else(0,f.A)(this._parent._data.textureData)&&(l=!0,c=this._parent.resource.getDerivedResource({url:`${this._parent._data.textureData[0].href}`}).url,a.pbrMetallicRoughness.baseColorTexture={index:0});let u=[],d=[],h=[];return l&&(u=[{sampler:0,source:0}],d=[{uri:c}],h=[{magFilter:9729,minFilter:9986,wrapS:10497,wrapT:10497}]),{scene:0,scenes:[{nodes:e}],nodes:t,meshes:i,buffers:n,bufferViews:r,accessors:o,materials:[a],textures:u,images:d,samplers:h,asset:{version:"2.0"}}};const tw=Vb;function iw(e,t,i){let n,r,o,s;i?(n=0,r=e):(n=e._level+1,r=e._layer),"number"==typeof t?o=t:s=e.resource.getDerivedResource({url:`${t}/`}),this._parent=e,this._dataProvider=e._dataProvider,this._isRoot=i,this._level=n,this._layer=r,this._nodeIndex=o,this._resource=s,this._isLoading=!1,this._tile=void 0,this._data=void 0,this._geometryData=[],this._featureData=[],this._fields={},this._children=[],this._childrenReadyPromise=void 0,this._globalTransform=void 0,this._inverseGlobalTransform=void 0,this._inverseRotationMatrix=void 0}function nw(e,t,i,n){return n[e+t*i]}function rw(e,t,i){const n=i.nativeExtent;let r=(e-n.west)/(n.east-n.west)*(i.width-1),o=(t-n.south)/(n.north-n.south)*(i.height-1);const s=Math.floor(r);let a=Math.floor(o);r-=s,o-=a;const l=s<i.width?s+1:s;let c=a<i.height?a+1:a;a=i.height-1-a,c=i.height-1-c;let u=(d=r,h=o,p=nw(s,a,i.width,i.buffer),f=nw(l,a,i.width,i.buffer),m=nw(s,c,i.width,i.buffer),A=nw(l,c,i.width,i.buffer),(p*(1-d)+f*d)*(1-h)+(m*(1-d)+A*d)*h);var d,h,p,f,m,A;return u=u*i.scale+i.offset,u}Object.defineProperties(iw.prototype,{resource:{get:function(){return this._resource}},layer:{get:function(){return this._layer}},parent:{get:function(){return this._parent}},children:{get:function(){return this._children}},geometryData:{get:function(){return this._geometryData}},featureData:{get:function(){return this._featureData}},fields:{get:function(){return this._fields}},tile:{get:function(){return this._tile}},data:{get:function(){return this._data}}}),iw.prototype.load=async function(){const e=this;function t(){if(!e._isRoot){const t=e._create3DTileDefinition();e._tile=new P_.A(e._layer._tileset,e._dataProvider.resource,t,e._parent._tile),e._tile._i3sNode=e}}if(!(0,f.A)(this._nodeIndex)){const i=await dw.loadJson(this._resource,this._dataProvider._traceFetches);return e._data=i,void t()}const i=await this._layer._getNodeInNodePages(this._nodeIndex);let n;e._data=i,e._isRoot?n="nodes/root/":(0,f.A)(i.mesh)&&(n=`../${i.mesh.geometry.resource}/`),(0,f.A)(n)&&(e._resource=e._parent.resource.getDerivedResource({url:n})),t()},iw.prototype.loadFields=function(){const e=this._layer._data.attributeStorageInfo,t=this;function i(e,i){const n=new Lb(t,e[i]);return t._fields[n._storageInfo.name]=n,n.load()}const n=[];if((0,f.A)(e))for(let t=0;t<e.length;t++)n.push(i(e,t));return Promise.all(n)},iw.prototype.getFieldsForPickedPosition=function(e){const t=this.geometryData[0];if(!(0,f.A)(t.customAttributes.featureIndex))return{};const i=t.getClosestPointIndexOnTriangle(e.x,e.y,e.z);if(-1===i.index||i.index>t.customAttributes.featureIndex.length)return{};const n=t.customAttributes.featureIndex[i.index];return this.getFieldsForFeature(n)},iw.prototype.getFieldsForFeature=function(e){const t={};for(const i in this.fields)if(this.fields.hasOwnProperty(i)){const n=this.fields[i];e>=0&&e<n.values.length&&(t[n.name]=n.values[e])}return t},iw.prototype._loadChildren=function(){const e=this;if((0,f.A)(this._childrenReadyPromise))return this._childrenReadyPromise;const t=[];if((0,f.A)(e._data.children))for(let i=0;i<e._data.children.length;i++){const n=e._data.children[i],r=new iw(e,(0,p.A)(n.href,n),!1);e._children.push(r),t.push(r.load())}return this._childrenReadyPromise=Promise.all(t).then((function(){for(let t=0;t<e._children.length;t++)e._tile.children.push(e._children[t]._tile)})),this._childrenReadyPromise},iw.prototype._loadGeometryData=function(){const e=[];if((0,f.A)(this._data.geometryData))for(let t=0;t<this._data.geometryData.length;t++){const i=new tw(this,this._data.geometryData[t].href);this._geometryData.push(i),e.push(i.load())}else if((0,f.A)(this._data.mesh)){const t=this._layer._findBestGeometryBuffers(this._data.mesh.geometry.definition,["position","uv0"]),i=`./geometries/${t.bufferIndex}/`,n=new tw(this,i);n._geometryDefinitions=t.definition,n._geometryBufferInfo=t.geometryBufferInfo,this._geometryData.push(n),e.push(n.load())}return Promise.all(e)},iw.prototype._loadFeatureData=function(){const e=[];if((0,f.A)(this._data.featureData))for(let t=0;t<this._data.featureData.length;t++){const i=new Fb(this,this._data.featureData[t].href);this._featureData.push(i),e.push(i.load())}return Promise.all(e)},iw.prototype._clearGeometryData=function(){this._geometryData=[]},iw.prototype._create3DTileDefinition=function(){const e=this._data.obb,t=this._data.mbs;if(!(0,f.A)(e)&&!(0,f.A)(t))return void console.error("Failed to load I3S node. Bounding volume is required.");let i;if(i=(0,f.A)(e)?Q.A.fromDegrees(e.center[0],e.center[1],e.center[2]):Q.A.fromDegrees(t[0],t[1],t[2]),(0,f.A)(this._dataProvider._geoidDataList)&&(0,f.A)(i))for(let e=0;e<this._dataProvider._geoidDataList.length;e++){const t=this._dataProvider._geoidDataList[e],n=t.projection.project(i);if(n.x>t.nativeExtent.west&&n.x<t.nativeExtent.east&&n.y>t.nativeExtent.south&&n.y<t.nativeExtent.north){i.height+=rw(n.x,n.y,t);break}}let n,r={},o=0;(0,f.A)(e)?(r={box:[0,0,0,e.halfSize[0],0,0,0,e.halfSize[1],0,0,0,e.halfSize[2]]},o=Math.max(Math.max(this._data.obb.halfSize[0],this._data.obb.halfSize[1]),this._data.obb.halfSize[2]),n=oe.A.WGS84.cartographicToCartesian(i)):(r={sphere:[0,0,0,t[3]]},n=oe.A.WGS84.cartographicToCartesian(i),o=this._data.mbs[3]),o*=2;let s=1/0;if((0,f.A)(this._data.lodThreshold))"maxScreenThresholdSQ"===this._layer._data.nodePages.lodSelectionMetricType?s=o/Math.sqrt(this._data.lodThreshold/(.25*Math.PI)):"maxScreenThreshold"===this._layer._data.nodePages.lodSelectionMetricType?s=o/this._data.lodThreshold:console.error("Invalid lodSelectionMetricType in Layer");else if((0,f.A)(this._data.lodSelection))for(let e=0;e<this._data.lodSelection.length;e++)"maxScreenThreshold"===this._data.lodSelection[e].metricType&&(s=o/this._data.lodSelection[e].maxError);s===1/0&&(s=1e5);const a=16*s,l=new io.A(0,0,0);let c=Lt.A.headingPitchRollQuaternion(n,l);(0,f.A)(this._data.obb)&&(c=new ye.A(this._data.obb.quaternion[0],this._data.obb.quaternion[1],this._data.obb.quaternion[2],this._data.obb.quaternion[3]));const u=Dt.A.fromQuaternion(c),d=Dt.A.inverse(u,new Dt.A),h=new Yd.A(u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,n.x,n.y,n.z,1),p=Yd.A.inverse(h,new Yd.A),m=Yd.A.clone(h);(0,f.A)(this._parent._globalTransform)&&Yd.A.multiply(h,this._parent._inverseGlobalTransform,m),this._globalTransform=h,this._inverseGlobalTransform=p,this._inverseRotationMatrix=d;const A=[];for(let e=0;e<this._children.length;e++)A.push(this._children[e]._create3DTileDefinition());return{children:A,refine:"REPLACE",boundingVolume:r,transform:[m[0],m[4],m[8],m[12],m[1],m[5],m[9],m[13],m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15]],content:{uri:(0,f.A)(this._resource)?this._resource.url:void 0},geometricError:a}},iw.prototype._createI3SDecoderTask=async function(e,t){const i=t.geometryData._parent._data,n=t.geometryData._parent._inverseRotationMatrix;let r=0,o=0,s=0;(0,f.A)(i.obb)?(r=i.obb.center[0],o=i.obb.center[1],s=i.obb.center[2]):(0,f.A)(i.mbs)&&(r=i.mbs[0],o=i.mbs[1],s=i.mbs[2]);const a=Dt.A.fromRotationX(-T.A.PI_OVER_TWO),l=new Dt.A;Dt.A.multiply(a,n,l);const c=Q.A.fromDegrees(r,o,s),u=oe.A.WGS84.cartographicToCartesian(c),d={binaryData:t.geometryData._data,featureData:(0,f.A)(t.featureData)&&(0,f.A)(t.featureData[0])?t.featureData[0].data:void 0,schema:t.defaultGeometrySchema,bufferInfo:t.geometryData._geometryBufferInfo,ellipsoidRadiiSquare:oe.A.WGS84.radiiSquared,url:t.url,geoidDataList:t.geometryData._dataProvider._geoidDataList,cartographicCenter:c,cartesianCenter:u,parentRotation:l};return e.scheduleTask(d,[])},iw.prototype._createContentURL=async function(){let e={scene:0,scenes:[{nodes:[0]}],nodes:[{name:"singleNode"}],meshes:[],buffers:[],bufferViews:[],accessors:[],materials:[],textures:[],images:[],samplers:[],asset:{version:"2.0"}};const t=await this._dataProvider.getDecoderTaskProcessor(),i=[this._loadGeometryData()];this._dataProvider.legacyVersion16&&i.push(this._loadFeatureData());const n=this;return Promise.all(i).then((function(){let i=Promise.resolve();if((0,f.A)(n._geometryData)&&n._geometryData.length>0){const r={geometryData:n._geometryData[0],featureData:n._featureData,defaultGeometrySchema:n._layer._data.store.defaultGeometrySchema,url:n._geometryData[0].resource.url,tile:n._tile},o=n._createI3SDecoderTask(t,r);if(!(0,f.A)(o))return;i=o.then((function(t){e=r.geometryData._generateGltf(t.meshData.nodesInScene,t.meshData.nodes,t.meshData.meshes,t.meshData.buffers,t.meshData.bufferViews,t.meshData.accessors),n._geometryData[0]._customAttributes=t.meshData._customAttributes}))}return i.then((function(){const t=n._dataProvider._binarizeGltf(e),i=new Blob([t],{type:"application/binary"});return URL.createObjectURL(i)}))}))},P_.A.prototype._hookedRequestContent=P_.A.prototype.requestContent,P_.A.prototype.requestContent=function(){return this.tileset._isI3STileSet?this._isLoading?void 0:(this._isLoading=!0,this._i3sNode._createContentURL().then((e=>{if((0,f.A)(e))return this._contentResource=new we.A({url:e}),this._hookedRequestContent();this._isLoading=!1})).then((e=>(this._isLoading=!1,e)))):this._hookedRequestContent()},Object.defineProperties(P_.A.prototype,{i3sNode:{get:function(){return this._i3sNode}}});const ow=iw;function sw(e,t,i){this._dataProvider=e,(0,f.A)(t.href)||(t.href=`./layers/${i}`);const n=this._dataProvider.resource.getUrlComponent();let r="";r=n.match(/layers\/\d/)?`${n}`.replace(/\/+$/,""):`${n}`.replace(/\/?$/,"/").concat(`${t.href}`),this._version=t.store.version;const o=this._version.split(".");this._majorVersion=parseInt(o[0]),this._minorVersion=o.length>1?parseInt(o[1]):0,this._resource=new we.A({url:r}),this._resource.setQueryParameters(this._dataProvider.resource.queryParameters),this._resource.appendForwardSlash(),this._data=t,this._rootNode=void 0,this._nodePages={},this._nodePageFetches={},this._extent=void 0,this._tileset=void 0,this._geometryDefinitions=void 0,this._computeGeometryDefinitions(!0),this._computeExtent()}Object.defineProperties(sw.prototype,{resource:{get:function(){return this._resource}},rootNode:{get:function(){return this._rootNode}},tileset:{get:function(){return this._tileset}},data:{get:function(){return this._data}},version:{get:function(){return this._version}},majorVersion:{get:function(){return this._majorVersion}},minorVersion:{get:function(){return this._minorVersion}},legacyVersion16:{get:function(){if((0,f.A)(this.version))return this.majorVersion<1||1===this.majorVersion&&this.minorVersion<=6}}}),sw.prototype.load=async function(){if(4326!==this._data.spatialReference.wkid)throw new xe.A(`Unsupported spatial reference: ${this._data.spatialReference.wkid}`);if(await this._dataProvider.loadGeoidData(),await this._loadRootNode(),await this._create3DTileset(),this._rootNode._tile=this._tileset._root,this._tileset._root._i3sNode=this._rootNode,this.legacyVersion16)return this._rootNode._loadChildren()},sw.prototype._computeGeometryDefinitions=function(e){if(this._geometryDefinitions=[],(0,f.A)(this._data.geometryDefinitions))for(let t=0;t<this._data.geometryDefinitions.length;t++){const i=[],n=this._data.geometryDefinitions[t].geometryBuffers;for(let t=0;t<n.length;t++){const r=n[t],o=[];let s=!1;if((0,f.A)(r.compressedAttributes)&&e){s=!0;const e=r.compressedAttributes.attributes;for(let t=0;t<e.length;t++)o.push(e[t])}else for(const e in r)"offset"!==e&&o.push(e);i.push({compressed:s,attributes:o,index:n.indexOf(r)})}i.sort((function(e,t){return e.compressed&&!t.compressed?-1:!e.compressed&&t.compressed?1:e.attributes.length-t.attributes.length})),this._geometryDefinitions.push(i)}},sw.prototype._findBestGeometryBuffers=function(e,t){const i=this._geometryDefinitions[e];if((0,f.A)(i))for(let e=0;e<i.length;++e){const n=i[e];let r=!1;const o=n.attributes;for(let e=0;e<t.length;e++)if(!o.includes(t[e])){r=!0;break}if(!r)return{bufferIndex:n.index,definition:i,geometryBufferInfo:n}}return 0},sw.prototype._loadRootNode=function(){if((0,f.A)(this._data.nodePages)){let e=0;(0,f.A)(this._data.nodePages.rootIndex)&&(e=this._data.nodePages.rootIndex),this._rootNode=new ow(this,e,!0)}else this._rootNode=new ow(this,this._data.store.rootNode,!0);return this._rootNode.load()},sw.prototype._getNodeInNodePages=function(e){const t=Math.floor(e/this._data.nodePages.nodesPerPage),i=e%this._data.nodePages.nodesPerPage,n=this;return this._loadNodePage(t).then((function(){return n._nodePages[t][i]}))},sw._fetchJson=function(e){return e.fetchJson()},sw.prototype._loadNodePage=function(e){const t=this;if(!(0,f.A)(this._nodePageFetches[e])){const i=this.resource.getDerivedResource({url:`nodepages/${e}/`}),n=sw._fetchJson(i).then((function(i){return(0,f.A)(i.error)&&200!==i.error.code?Promise.reject(i.error):(t._nodePages[e]=i.nodes,i)}));this._nodePageFetches[e]=n}return this._nodePageFetches[e]},sw.prototype._computeExtent=function(){(0,f.A)(this._data.fullExtent)?this._extent=ve.A.fromDegrees(this._data.fullExtent.xmin,this._data.fullExtent.ymin,this._data.fullExtent.xmax,this._data.fullExtent.ymax):(0,f.A)(this._data.store.extent)&&(this._extent=ve.A.fromDegrees(this._data.store.extent[0],this._data.store.extent[1],this._data.store.extent[2],this._data.store.extent[3]))},sw.prototype._create3DTileset=async function(){const e={asset:{version:"1.0"},geometricError:Number.MAX_VALUE,root:this._rootNode._create3DTileDefinition()},t=new Blob([JSON.stringify(e)],{type:"application/json"}),i=URL.createObjectURL(t),n={};if((0,f.A)(this._dataProvider._cesium3dTilesetOptions))for(const e in this._dataProvider._cesium3dTilesetOptions)this._dataProvider._cesium3dTilesetOptions.hasOwnProperty(e)&&(n[e]=this._dataProvider._cesium3dTilesetOptions[e]);this._tileset=await gy.A.fromUrl(i,n),this._tileset.show=this._dataProvider.show,this._tileset._isI3STileSet=!0,this._tileset.tileUnload.addEventListener((function(e){e._i3sNode._clearGeometryData(),URL.revokeObjectURL(e._contentResource._url),e._contentResource=e._i3sNode.resource})),this._tileset.tileVisible.addEventListener((function(e){(0,f.A)(e._i3sNode)&&e._i3sNode._loadChildren()}))};const aw=sw;var lw=i(24827);function cw(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._name=e.name,this._show=(0,p.A)(e.show,!0),this._geoidTiledTerrainProvider=e.geoidTiledTerrainProvider,this._traceFetches=(0,p.A)(e.traceFetches,!1),this._cesium3dTilesetOptions=(0,p.A)(e.cesium3dTilesetOptions,p.A.EMPTY_OBJECT),this._layers=[],this._data=void 0,this._extent=void 0,this._geoidDataPromise=void 0,this._geoidDataList=void 0,this._decoderTaskProcessor=void 0,this._taskProcessorReadyPromise=void 0,(0,f.A)(e.url)&&((0,ol.A)("I3SDataProvider options.url","I3SDataProvider constructor parameter options.url was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._readyPromise=void 0,this._ready=!1,this._resource=we.A.createIfNeeded(e.url),this._load())}Object.defineProperties(cw.prototype,{name:{get:function(){return this._name}},show:{get:function(){return this._show},set:function(e){Ce.A.defined("value",e),this._show=e;for(let e=0;e<this._layers.length;e++)(0,f.A)(this._layers[e]._tileset)&&(this._layers[e]._tileset.show=this._show)}},traceFetches:{get:function(){return this._traceFetches},set:function(e){Ce.A.defined("value",e),this._traceFetches=e}},geoidTiledTerrainProvider:{get:function(){return this._geoidTiledTerrainProvider}},layers:{get:function(){return this._layers}},data:{get:function(){return this._data}},extent:{get:function(){return this._extent}},readyPromise:{get:function(){return(0,ol.A)("I3SDataProvider.readyPromise","I3SDataProvider.readyPromise was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._readyPromise}},ready:{get:function(){return(0,ol.A)("I3SDataProvider.ready","I3SDataProvider.ready was deprecated in CesiumJS 1.104. It will be removed in 1.107. Use I3SDataProvider.fromUrl instead."),this._ready}},resource:{get:function(){return this._resource}}}),cw.prototype.destroy=function(){for(let e=0;e<this._layers.length;e++)(0,f.A)(this._layers[e]._tileset)&&this._layers[e]._tileset.destroy();return(0,lA.A)(this)},cw.prototype.isDestroyed=function(){return!1},cw.prototype.update=function(e){for(let t=0;t<this._layers.length;t++)(0,f.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.update(e)},cw.prototype.prePassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,f.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.prePassesUpdate(e)},cw.prototype.postPassesUpdate=function(e){for(let t=0;t<this._layers.length;t++)(0,f.A)(this._layers[t]._tileset)&&this._layers[t]._tileset.postPassesUpdate(e)},cw.prototype.updateForPass=function(e,t){for(let i=0;i<this._layers.length;i++)(0,f.A)(this._layers[i]._tileset)&&this._layers[i]._tileset.updateForPass(e,t)},cw.fromUrl=async function(e,t){Ce.A.defined("url",e),t=(0,p.A)(t,p.A.EMPTY_OBJECT);const i=we.A.createIfNeeded(e),n=await cw.loadJson(i),r=new cw(t);if(r._resource=i,r._data=n,(0,f.A)(n.layers))for(let e=0;e<n.layers.length;e++){const t=new aw(r,n.layers[e],e);r._layers.push(t)}else{const e=new aw(r,n,n.id);r._layers.push(e)}r._computeExtent();const o=[];for(let e=0;e<r._layers.length;e++)o.push(r._layers[e].load());return await Promise.all(o),r._ready=!0,r._readyPromise=Promise.resolve(r),r},cw.prototype._load=function(){const e=this;return this._readyPromise=cw.loadJson(this._resource,this._traceFetches).then((function(t){if(e._data=t,(0,f.A)(t.layers))for(let i=0;i<t.layers.length;i++){const n=new aw(e,t.layers[i],i);e._layers.push(n)}else{const i=new aw(e,t,t.id);e._layers.push(i)}e._computeExtent();const i=[];for(let t=0;t<e._layers.length;t++)i.push(e._layers[t].load());return Promise.all(i).then((function(){return e._ready=!0,e}))})),this._readyPromise},cw._fetchJson=function(e){return e.fetchJson()},cw.loadJson=async function(e,t){t&&console.log("I3S FETCH:",e.url);const i=await cw._fetchJson(e);if((0,f.A)(i.error)){if(console.error("Failed to fetch I3S ",e.url),(0,f.A)(i.error.message)&&console.error(i.error.message),(0,f.A)(i.error.details))for(let e=0;e<i.error.details.length;e++)console.log(i.error.details[e]);throw new xe.A(i.error)}return i},cw.prototype._loadBinary=function(e){return this._traceFetches&&console.log("I3S FETCH:",e.url),e.fetchArrayBuffer()},cw.prototype._binarizeGltf=function(e){const t=(new TextEncoder).encode(JSON.stringify(e)),i=new Uint8Array(t.byteLength+20),n={magic:new Uint8Array(i.buffer,0,4),version:new Uint32Array(i.buffer,4,1),length:new Uint32Array(i.buffer,8,1),chunkLength:new Uint32Array(i.buffer,12,1),chunkType:new Uint32Array(i.buffer,16,1),chunkData:new Uint8Array(i.buffer,20,t.byteLength)};return n.magic[0]="g".charCodeAt(),n.magic[1]="l".charCodeAt(),n.magic[2]="T".charCodeAt(),n.magic[3]="F".charCodeAt(),n.version[0]=2,n.length[0]=i.byteLength,n.chunkLength[0]=t.byteLength,n.chunkType[0]=1313821514,n.chunkData.set(t),i},cw.prototype.getDecoderTaskProcessor=function(){if((0,f.A)(this._taskProcessorReadyPromise))return this._taskProcessorReadyPromise;if(!(0,f.A)(this._decoderTaskProcessor)){const e=new vp.A("decodeI3S");this._taskProcessorReadyPromise=e.initWebAssemblyModule({modulePath:"ThirdParty/Workers/draco_decoder_nodejs.js",wasmBinaryFile:"ThirdParty/draco_decoder.wasm"}).then((()=>e)),this._decoderTaskProcessor=e}return this._taskProcessorReadyPromise};const uw=new d.A;cw.prototype.loadGeoidData=async function(){return(0,f.A)(this._geoidDataPromise)||(this._geoidDataPromise=async function(e){const t=e._geoidTiledTerrainProvider;if((0,f.A)(t))try{const r=await(i=t,n=e._extent,function(e,t){const i=e.tilingScheme,n=[],r={},o=e._lodCount,s=Q.A.fromRadians(t.west,t.north),a=Q.A.fromRadians(t.east,t.south),l=i.positionToTileXY(s,o),c=i.positionToTileXY(a,o);for(let t=l.x;t<=c.x;t++)for(let s=l.y;s<=c.y;s++){const a=d.A.fromElements(t,s,uw),l=a.toString();if(!r.hasOwnProperty(l)){const t={x:a.x,y:a.y,level:o,tilingScheme:i,terrainProvider:e,positions:[]};r[l]=t,n.push(t)}}const u=[];for(let e=0;e<n.length;++e){const t=n[e],i=t.terrainProvider.requestTileGeometry(t.x,t.y,t.level);u.push(i)}return Promise.all(u).then((function(e){const t=[];for(let r=0;r<e.length;r++){const o={tilingScheme:i,x:n[r].x,y:n[r].y,level:n[r].level},s=e[r];let a="Geographic";i._projection instanceof gA.A&&(a="WebMercator");const l={projectionType:a,projection:i._projection,nativeExtent:i.tileXYToNativeRectangle(o.x,o.y,o.level),height:s._height,width:s._width,scale:s._structure.heightScale,offset:s._structure.heightOffset};if(s._encoding===Cd.A.LERC){const e=lw.decode(s._buffer);l.buffer=e.pixels[0]}else l.buffer=s._buffer;t.push(l)}return t}))}(i,n));e._geoidDataList=r}catch(e){console.log("Error retrieving Geoid Terrain tiles - no geoid conversion will be performed.")}else console.log("No Geoid Terrain service provided - no geoid conversion will be performed.");var i,n}(this)),this._geoidDataPromise},cw.prototype._computeExtent=function(){let e;for(let t=0;t<this._layers.length;t++)if((0,f.A)(this._layers[t]._extent)){const i=this._layers[t]._extent;(0,f.A)(e)?ve.A.union(e,i,e):e=ve.A.clone(i)}this._extent=e};const dw=cw;var hw=i(680278),pw=i(208198),fw=i(17656),mw=i(451227),Aw=i(869327),gw=i(789989),_w=i(553909),yw=i(921243),vw=i(961965),bw=i(1235),ww=i(829513),xw=i(586067),Cw=i(123314),Sw=i(866857),Tw=i(819598),Pw=i(670549),Ew=i(231097),Mw=i(647474),kw=i(666203),Iw=i(784749),Bw=i(301866),Ow=i(566798),Rw=i(465674);function Fw(){}Object.defineProperties(Fw.prototype,{color:{get:S.A.throwInstantiationError},intensity:{get:S.A.throwInstantiationError}});const Dw=Fw;var Lw=i(77879),Vw=i(847072),Nw=i(66458);const Uw=/\/$/,Gw=new ne.A('&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a> &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> <strong><a href="https://www.mapbox.com/map-feedback/">Improve this map</a></strong>');function zw(e){const t=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).styleId;if(!(0,f.A)(t))throw new S.A("options.styleId is required.");const i=e.accessToken;if(!(0,f.A)(i))throw new S.A("options.accessToken is required.");this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0;const n=we.A.createIfNeeded((0,p.A)(e.url,"https://api.mapbox.com/styles/v1/"));this._styleId=t,this._accessToken=i;const r=(0,p.A)(e.tilesize,512);this._tilesize=r;const o=(0,p.A)(e.username,"mapbox");this._username=o;const s=(0,f.A)(e.scaleFactor)?"@2x":"";let a,l=n.getUrlComponent();Uw.test(l)||(l+="/"),l+=`${this._username}/${t}/tiles/${this._tilesize}/{z}/{x}/{y}${s}`,n.url=l,n.setQueryParameters({access_token:i}),(0,f.A)(e.credit)?(a=e.credit,"string"==typeof a&&(a=new ne.A(a))):a=Gw,this._resource=n,this._imageryProvider=new Nw.A({url:n,credit:a,ellipsoid:e.ellipsoid,minimumLevel:e.minimumLevel,maximumLevel:e.maximumLevel,rectangle:e.rectangle}),this._ready=!0,this._readyPromise=Promise.resolve(!0)}Object.defineProperties(zw.prototype,{url:{get:function(){return this._imageryProvider.url}},ready:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.ready","MapboxStyleImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._imageryProvider.ready}},readyPromise:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.readyPromise","MapboxStyleImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._imageryProvider.readyPromise}},rectangle:{get:function(){return this._imageryProvider.rectangle}},tileWidth:{get:function(){return this._imageryProvider.tileWidth}},tileHeight:{get:function(){return this._imageryProvider.tileHeight}},maximumLevel:{get:function(){return this._imageryProvider.maximumLevel}},minimumLevel:{get:function(){return this._imageryProvider.minimumLevel}},tilingScheme:{get:function(){return this._imageryProvider.tilingScheme}},tileDiscardPolicy:{get:function(){return this._imageryProvider.tileDiscardPolicy}},errorEvent:{get:function(){return this._imageryProvider.errorEvent}},credit:{get:function(){return this._imageryProvider.credit}},proxy:{get:function(){return this._imageryProvider.proxy}},hasAlphaChannel:{get:function(){return this._imageryProvider.hasAlphaChannel}},defaultAlpha:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultAlpha","MapboxStyleImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultAlpha","MapboxStyleImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultNightAlpha","MapboxStyleImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultNightAlpha","MapboxStyleImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultDayAlpha","MapboxStyleImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultDayAlpha","MapboxStyleImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultBrightness","MapboxStyleImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultBrightness","MapboxStyleImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultContrast","MapboxStyleImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultContrast","MapboxStyleImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultHue","MapboxStyleImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultHue","MapboxStyleImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultSaturation","MapboxStyleImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultSaturation","MapboxStyleImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultGamma","MapboxStyleImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultGamma","MapboxStyleImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultMinificationFilter","MapboxStyleImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultMinificationFilter","MapboxStyleImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,ol.A)("MapboxStyleImageryProvider.defaultMagnificationFilter","MapboxStyleImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,ol.A)("MapboxStyleImageryProvider.defaultMagnificationFilter","MapboxStyleImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),zw.prototype.getTileCredits=function(e,t,i){},zw.prototype.requestImage=function(e,t,i,n){return this._imageryProvider.requestImage(e,t,i,n)},zw.prototype.pickFeatures=function(e,t,i,n,r){return this._imageryProvider.pickFeatures(e,t,i,n,r)},zw._defaultCredit=Gw;const Kw=zw;var qw=i(551549),Hw=i(866109),Ww=i(32335),jw=i(343674),Jw=i(568748),Xw=i(965976),$w=i(266262),Yw=i(901717),Zw=i(4024),Qw=i(729295),ex=i(140182),tx=i(598361),ix=i(304686),nx=i(995537),rx=i(534095),ox=i(409816),sx=i(952392),ax=i(433184),lx=i(311994),cx=i(566334),ux=i(736125);const dx=new d.A(1,1);function hx(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this.mass=(0,p.A)(e.mass,1),this.position=Z.A.clone((0,p.A)(e.position,Z.A.ZERO)),this.velocity=Z.A.clone((0,p.A)(e.velocity,Z.A.ZERO)),this.life=(0,p.A)(e.life,Number.MAX_VALUE),this.image=e.image,this.startColor=h.A.clone((0,p.A)(e.startColor,h.A.WHITE)),this.endColor=h.A.clone((0,p.A)(e.endColor,h.A.WHITE)),this.startScale=(0,p.A)(e.startScale,1),this.endScale=(0,p.A)(e.endScale,1),this.imageSize=d.A.clone((0,p.A)(e.imageSize,dx)),this._age=0,this._normalizedAge=0,this._billboard=void 0}Object.defineProperties(hx.prototype,{age:{get:function(){return this._age}},normalizedAge:{get:function(){return this._normalizedAge}}});const px=new Z.A;hx.prototype.update=function(e,t){return Z.A.multiplyByScalar(this.velocity,e,px),Z.A.add(this.position,px,this.position),(0,f.A)(t)&&t(this,e),this._age+=e,this.life===Number.MAX_VALUE?this._normalizedAge=0:this._normalizedAge=this._age/this.life,this._age<=this.life};const fx=hx;function mx(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this.time=(0,p.A)(e.time,0),this.minimum=(0,p.A)(e.minimum,0),this.maximum=(0,p.A)(e.maximum,50),this._complete=!1}Object.defineProperties(mx.prototype,{complete:{get:function(){return this._complete}}});const Ax=mx;function gx(e){throw new S.A("This type should not be instantiated directly.  Instead, use BoxEmitter, CircleEmitter, ConeEmitter or SphereEmitter.")}gx.prototype.emit=function(e){S.A.throwInstantiationError()};const _x=gx,yx=new d.A(1,1);function vx(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this.show=(0,p.A)(e.show,!0),this.updateCallback=e.updateCallback,this.loop=(0,p.A)(e.loop,!0),this.image=(0,p.A)(e.image,void 0);let t=e.emitter;(0,f.A)(t)||(t=new Ty(.5)),this._emitter=t,this._bursts=e.bursts,this._modelMatrix=Yd.A.clone((0,p.A)(e.modelMatrix,Yd.A.IDENTITY)),this._emitterModelMatrix=Yd.A.clone((0,p.A)(e.emitterModelMatrix,Yd.A.IDENTITY)),this._matrixDirty=!0,this._combinedMatrix=new Yd.A,this._startColor=h.A.clone((0,p.A)(e.color,(0,p.A)(e.startColor,h.A.WHITE))),this._endColor=h.A.clone((0,p.A)(e.color,(0,p.A)(e.endColor,h.A.WHITE))),this._startScale=(0,p.A)(e.scale,(0,p.A)(e.startScale,1)),this._endScale=(0,p.A)(e.scale,(0,p.A)(e.endScale,1)),this._emissionRate=(0,p.A)(e.emissionRate,5),this._minimumSpeed=(0,p.A)(e.speed,(0,p.A)(e.minimumSpeed,1)),this._maximumSpeed=(0,p.A)(e.speed,(0,p.A)(e.maximumSpeed,1)),this._minimumParticleLife=(0,p.A)(e.particleLife,(0,p.A)(e.minimumParticleLife,5)),this._maximumParticleLife=(0,p.A)(e.particleLife,(0,p.A)(e.maximumParticleLife,5)),this._minimumMass=(0,p.A)(e.mass,(0,p.A)(e.minimumMass,1)),this._maximumMass=(0,p.A)(e.mass,(0,p.A)(e.maximumMass,1)),this._minimumImageSize=d.A.clone((0,p.A)(e.imageSize,(0,p.A)(e.minimumImageSize,yx))),this._maximumImageSize=d.A.clone((0,p.A)(e.imageSize,(0,p.A)(e.maximumImageSize,yx))),this._sizeInMeters=(0,p.A)(e.sizeInMeters,!1),this._lifetime=(0,p.A)(e.lifetime,Number.MAX_VALUE),this._billboardCollection=void 0,this._particles=[],this._particlePool=[],this._previousTime=void 0,this._currentTime=0,this._carryOver=0,this._complete=new m.A,this._isComplete=!1,this._updateParticlePool=!0,this._particleEstimate=0}function bx(e){let t=e._particlePool.pop();return(0,f.A)(t)||(t=new fx),t}function wx(e,t){e._particlePool.push(t)}function xx(e){(0,f.A)(e._billboard)&&(e._billboard.show=!1)}function Cx(e,t){let i=t._billboard;(0,f.A)(i)||(i=t._billboard=e._billboardCollection.add({image:t.image})),i.width=t.imageSize.x,i.height=t.imageSize.y,i.position=t.position,i.sizeInMeters=e.sizeInMeters,i.show=!0;const n=T.A.lerp(t.startColor.red,t.endColor.red,t.normalizedAge),r=T.A.lerp(t.startColor.green,t.endColor.green,t.normalizedAge),o=T.A.lerp(t.startColor.blue,t.endColor.blue,t.normalizedAge),s=T.A.lerp(t.startColor.alpha,t.endColor.alpha,t.normalizedAge);i.color=new h.A(n,r,o,s),i.scale=T.A.lerp(t.startScale,t.endScale,t.normalizedAge)}function Sx(e,t){t.startColor=h.A.clone(e._startColor,t.startColor),t.endColor=h.A.clone(e._endColor,t.endColor),t.startScale=e._startScale,t.endScale=e._endScale,t.image=e.image,t.life=T.A.randomBetween(e._minimumParticleLife,e._maximumParticleLife),t.mass=T.A.randomBetween(e._minimumMass,e._maximumMass),t.imageSize.x=T.A.randomBetween(e._minimumImageSize.x,e._maximumImageSize.x),t.imageSize.y=T.A.randomBetween(e._minimumImageSize.y,e._maximumImageSize.y),t._normalizedAge=0,t._age=0;const i=T.A.randomBetween(e._minimumSpeed,e._maximumSpeed);Z.A.multiplyByScalar(t.velocity,i,t.velocity),e._particles.push(t)}Object.defineProperties(vx.prototype,{emitter:{get:function(){return this._emitter},set:function(e){Ce.A.defined("value",e),this._emitter=e}},bursts:{get:function(){return this._bursts},set:function(e){this._bursts=e,this._updateParticlePool=!0}},modelMatrix:{get:function(){return this._modelMatrix},set:function(e){Ce.A.defined("value",e),this._matrixDirty=this._matrixDirty||!Yd.A.equals(this._modelMatrix,e),Yd.A.clone(e,this._modelMatrix)}},emitterModelMatrix:{get:function(){return this._emitterModelMatrix},set:function(e){Ce.A.defined("value",e),this._matrixDirty=this._matrixDirty||!Yd.A.equals(this._emitterModelMatrix,e),Yd.A.clone(e,this._emitterModelMatrix)}},startColor:{get:function(){return this._startColor},set:function(e){Ce.A.defined("value",e),h.A.clone(e,this._startColor)}},endColor:{get:function(){return this._endColor},set:function(e){Ce.A.defined("value",e),h.A.clone(e,this._endColor)}},startScale:{get:function(){return this._startScale},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._startScale=e}},endScale:{get:function(){return this._endScale},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._endScale=e}},emissionRate:{get:function(){return this._emissionRate},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._emissionRate=e,this._updateParticlePool=!0}},minimumSpeed:{get:function(){return this._minimumSpeed},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumSpeed=e}},maximumSpeed:{get:function(){return this._maximumSpeed},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumSpeed=e}},minimumParticleLife:{get:function(){return this._minimumParticleLife},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumParticleLife=e}},maximumParticleLife:{get:function(){return this._maximumParticleLife},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumParticleLife=e,this._updateParticlePool=!0}},minimumMass:{get:function(){return this._minimumMass},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._minimumMass=e}},maximumMass:{get:function(){return this._maximumMass},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._maximumMass=e}},minimumImageSize:{get:function(){return this._minimumImageSize},set:function(e){Ce.A.typeOf.object("value",e),Ce.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._minimumImageSize=e}},maximumImageSize:{get:function(){return this._maximumImageSize},set:function(e){Ce.A.typeOf.object("value",e),Ce.A.typeOf.number.greaterThanOrEquals("value.x",e.x,0),Ce.A.typeOf.number.greaterThanOrEquals("value.y",e.y,0),this._maximumImageSize=e}},sizeInMeters:{get:function(){return this._sizeInMeters},set:function(e){Ce.A.typeOf.bool("value",e),this._sizeInMeters=e}},lifetime:{get:function(){return this._lifetime},set:function(e){Ce.A.typeOf.number.greaterThanOrEquals("value",e,0),this._lifetime=e}},complete:{get:function(){return this._complete}},isComplete:{get:function(){return this._isComplete}}});const Tx=new Z.A;vx.prototype.update=function(e){if(!this.show)return;(0,f.A)(this._billboardCollection)||(this._billboardCollection=new c_.A),this._updateParticlePool&&(function(e){const t=e._emissionRate,i=e._maximumParticleLife;let n=0;const r=e._bursts;if((0,f.A)(r)){const e=r.length;for(let t=0;t<e;++t)n+=r[t].maximum}const o=e._billboardCollection,s=e.image,a=Math.ceil(t*i+n),l=e._particles,c=e._particlePool,u=Math.max(a-l.length-c.length,0);for(let e=0;e<u;++e){const e=new fx;e._billboard=o.add({image:s,show:!1}),c.push(e)}e._particleEstimate=a}(this),this._updateParticlePool=!1);let t=0;this._previousTime&&(t=fe.A.secondsDifference(e.time,this._previousTime)),t<0&&(t=0);const i=this._particles,n=this._emitter,r=this.updateCallback;let o,s,a=i.length;for(o=0;o<a;++o)s=i[o],s.update(t,r)?Cx(this,s):(xx(s),wx(this,s),i[o]=i[a-1],--o,--a);i.length=a;const l=function(e,t){if(e._isComplete)return 0;const i=(t=T.A.mod(t,e._lifetime))*e._emissionRate;let n=Math.floor(i);if(e._carryOver+=i-n,e._carryOver>1&&(n++,e._carryOver-=1),(0,f.A)(e.bursts)){const t=e.bursts.length;for(let i=0;i<t;i++){const t=e.bursts[i],r=e._currentTime;(0,f.A)(t)&&!t._complete&&r>t.time&&(n+=T.A.randomBetween(t.minimum,t.maximum),t._complete=!0)}}return n}(this,t);if(l>0&&(0,f.A)(n)){this._matrixDirty&&(this._combinedMatrix=Yd.A.multiply(this.modelMatrix,this.emitterModelMatrix,this._combinedMatrix),this._matrixDirty=!1);const e=this._combinedMatrix;for(o=0;o<l;o++)s=bx(this),this._emitter.emit(s),Z.A.add(s.position,s.velocity,Tx),Yd.A.multiplyByPoint(e,Tx,Tx),s.position=Yd.A.multiplyByPoint(e,s.position,s.position),Z.A.subtract(Tx,s.position,s.velocity),Z.A.normalize(s.velocity,s.velocity),Sx(this,s),Cx(this,s)}if(this._billboardCollection.update(e),this._previousTime=fe.A.clone(e.time,this._previousTime),this._currentTime+=t,this._lifetime!==Number.MAX_VALUE&&this._currentTime>this._lifetime)if(this.loop){if(this._currentTime=T.A.mod(this._currentTime,this._lifetime),this.bursts){const e=this.bursts.length;for(o=0;o<e;o++)this.bursts[o]._complete=!1}}else this._isComplete=!0,this._complete.raiseEvent(this);e.frameNumber%120==0&&function(e){const t=e._particles,i=e._particlePool,n=e._billboardCollection,r=t.length,o=i.length,s=e._particleEstimate,a=o-Math.max(s-r-o,0);for(let e=a;e<o;++e){const t=i[e];n.remove(t._billboard)}i.length=a}(this)},vx.prototype.isDestroyed=function(){return!1},vx.prototype.destroy=function(){return this._billboardCollection=this._billboardCollection&&this._billboardCollection.destroy(),(0,lA.A)(this)};const Px=vx;var Ex=i(612123),Mx=i(467302),kx=i(670270),Ix=i(425415),Bx=i(981152),Ox=i(878471),Rx=i(679854),Fx=i(259069),Dx=i(534135),Lx=i(929771),Vx=i(520853),Nx=i(24013),Ux=i(154622),Gx=i(891674),zx=i(920757),Kx=i(421549),qx=i(201733),Hx=i(517290),Wx=i(380590),jx=i(339600),Jx=i(922990),Xx=i(493721),$x=i(289758),Yx=i(632791),Zx=i(871160),Qx=i(828847),eC=i(663386),tC=i(287659),iC=i(105792),nC=i(875037),rC=i(1229),oC=i(798732),sC=i(67521),aC=i(980840);function lC(){S.A.throwInstantiationError()}lC.computeDefaultLevelZeroMaximumGeometricError=function(e){return 2*e.ellipsoid.maximumRadius*Math.PI*.25/(65*e.getNumberOfXTilesAtLevel(0))},Object.defineProperties(lC.prototype,{quadtree:{get:S.A.throwInstantiationError,set:S.A.throwInstantiationError},ready:{get:S.A.throwInstantiationError},tilingScheme:{get:S.A.throwInstantiationError},errorEvent:{get:S.A.throwInstantiationError}}),lC.prototype.update=S.A.throwInstantiationError,lC.prototype.beginUpdate=S.A.throwInstantiationError,lC.prototype.endUpdate=S.A.throwInstantiationError,lC.prototype.getLevelMaximumGeometricError=S.A.throwInstantiationError,lC.prototype.loadTile=S.A.throwInstantiationError,lC.prototype.computeTileVisibility=S.A.throwInstantiationError,lC.prototype.showTileThisFrame=S.A.throwInstantiationError,lC.prototype.computeDistanceToTile=S.A.throwInstantiationError,lC.prototype.isDestroyed=S.A.throwInstantiationError,lC.prototype.destroy=S.A.throwInstantiationError;const cC=lC;var uC=i(147795),dC=i(366165),hC=i(569445),pC=i(48660),fC=i(589834),mC=i(464088),AC=i(413285),gC=i(78173),_C=i(619872),yC=i(373749),vC=i(681750),bC=i(33559),wC=i(395250),xC=i(556541),CC=i(920685),SC=i(148784),TC=i(533872);function PC(e){e=(0,p.A)(e,1),Ce.A.typeOf.number.greaterThan("radius",e,0),this._radius=(0,p.A)(e,1)}Object.defineProperties(PC.prototype,{radius:{get:function(){return this._radius},set:function(e){Ce.A.typeOf.number.greaterThan("value",e,0),this._radius=e}}}),PC.prototype.emit=function(e){const t=T.A.randomBetween(0,T.A.TWO_PI),i=T.A.randomBetween(0,T.A.PI),n=T.A.randomBetween(0,this._radius),r=n*Math.cos(t)*Math.sin(i),o=n*Math.sin(t)*Math.sin(i),s=n*Math.cos(i);e.position=Z.A.fromElements(r,o,s,e.position),e.velocity=Z.A.normalize(e.position,e.velocity)};const EC=PC;var MC=i(913419),kC=i(992881),IC=i(938987),BC=i(896464),OC=i(138151),RC=i(590732);function FC(){}FC.prototype.evaluate=function(e,t){S.A.throwInstantiationError()},FC.prototype.evaluateColor=function(e,t){S.A.throwInstantiationError()},FC.prototype.getShaderFunction=function(e,t,i,n){S.A.throwInstantiationError()},FC.prototype.getVariables=function(){S.A.throwInstantiationError()};const DC=FC;var LC=i(874818),VC=i(205672),NC=i(380983),UC=i(768213),GC=i(557417),zC=i(640809),KC=i(71160),qC=i(892240),HC=i(413690),WC=i(224159),jC=i(315747);function JC(){}JC.prototype.boundingVolume=void 0,JC.prototype.boundingSphere=void 0,JC.prototype.distanceToCamera=function(e){S.A.throwInstantiationError()},JC.prototype.intersectPlane=function(e){S.A.throwInstantiationError()},JC.prototype.createDebugVolume=function(e){S.A.throwInstantiationError()};const XC=JC;function $C(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT),this._tilingScheme=(0,f.A)(e.tilingScheme)?e.tilingScheme:new xd.A({ellipsoid:e.ellipsoid}),this._color=(0,p.A)(e.color,h.A.YELLOW),this._errorEvent=new m.A,this._tileWidth=(0,p.A)(e.tileWidth,256),this._tileHeight=(0,p.A)(e.tileHeight,256),this._ready=!0,this._readyPromise=Promise.resolve(!0),this._defaultAlpha=void 0,this._defaultNightAlpha=void 0,this._defaultDayAlpha=void 0,this._defaultBrightness=void 0,this._defaultContrast=void 0,this._defaultHue=void 0,this._defaultSaturation=void 0,this._defaultGamma=void 0,this._defaultMinificationFilter=void 0,this._defaultMagnificationFilter=void 0}Object.defineProperties($C.prototype,{proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){}},minimumLevel:{get:function(){}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.ready","TileCoordinatesImageryProvider.ready was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),!0}},readyPromise:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.readyPromise","TileCoordinatesImageryProvider.readyPromise was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107."),this._readyPromise}},credit:{get:function(){}},hasAlphaChannel:{get:function(){return!0}},defaultAlpha:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultAlpha","TileCoordinatesImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultAlpha","TileCoordinatesImageryProvider.defaultAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.alpha instead."),this._defaultAlpha=e}},defaultNightAlpha:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultNightAlpha","TileCoordinatesImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultNightAlpha","TileCoordinatesImageryProvider.defaultNightAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.nightAlpha instead."),this._defaultNightAlpha=e}},defaultDayAlpha:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultDayAlpha","TileCoordinatesImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultDayAlpha","TileCoordinatesImageryProvider.defaultDayAlpha was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.dayAlpha instead."),this._defaultDayAlpha=e}},defaultBrightness:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultBrightness","TileCoordinatesImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultBrightness","TileCoordinatesImageryProvider.defaultBrightness was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.brightness instead."),this._defaultBrightness=e}},defaultContrast:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultContrast","TileCoordinatesImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultContrast","TileCoordinatesImageryProvider.defaultContrast was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.contrast instead."),this._defaultContrast=e}},defaultHue:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultHue","TileCoordinatesImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultHue","TileCoordinatesImageryProvider.defaultHue was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.hue instead."),this._defaultHue=e}},defaultSaturation:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultSaturation","TileCoordinatesImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultSaturation","TileCoordinatesImageryProvider.defaultSaturation was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.saturation instead."),this._defaultSaturation=e}},defaultGamma:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultGamma","TileCoordinatesImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultGamma","TileCoordinatesImageryProvider.defaultGamma was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.gamma instead."),this._defaultGamma=e}},defaultMinificationFilter:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultMinificationFilter","TileCoordinatesImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultMinificationFilter","TileCoordinatesImageryProvider.defaultMinificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.minificationFilter instead."),this._defaultMinificationFilter=e}},defaultMagnificationFilter:{get:function(){return(0,ol.A)("TileCoordinatesImageryProvider.defaultMagnificationFilter","TileCoordinatesImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter},set:function(e){(0,ol.A)("TileCoordinatesImageryProvider.defaultMagnificationFilter","TileCoordinatesImageryProvider.defaultMagnificationFilter was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use ImageryLayer.magnificationFilter instead."),this._defaultMagnificationFilter=e}}}),$C.prototype.getTileCredits=function(e,t,i){},$C.prototype.requestImage=function(e,t,i,n){const r=document.createElement("canvas");r.width=256,r.height=256;const o=r.getContext("2d"),s=this._color.toCssColorString();return o.strokeStyle=s,o.lineWidth=2,o.strokeRect(1,1,255,255),o.font="bold 25px Arial",o.textAlign="center",o.fillStyle=s,o.fillText(`L: ${i}`,124,86),o.fillText(`X: ${e}`,124,136),o.fillText(`Y: ${t}`,124,186),Promise.resolve(r)},$C.prototype.pickFeatures=function(e,t,i,n,r){};const YC=$C;function ZC(e){S.A.throwInstantiationError()}ZC.prototype.isReady=S.A.throwInstantiationError,ZC.prototype.shouldDiscardImage=S.A.throwInstantiationError;const QC=ZC;var eS=i(976092),tS=i(829670),iS=i(335859),nS=i(11745),rS=i(271101),oS=i(960847);const sS=Object.freeze({START:0,LOADING:1,READY:2,UPSAMPLED_ONLY:3});var aS=i(323314),lS=i(751069),cS=i(99520),uS=i(972757),dS=i(639475),hS=i(440463),pS=i(584247),fS=i(28940),mS=i(308521),AS=i(868897),gS=i(301350),_S=i(601165),yS=i(566453),vS=i(953681),bS=i(471293),wS=i(595826),xS=i(342767);function CS(e,t){this.show=!0,(0,f.A)(e)||(e=new Y.A),this.rectangle=Y.A.clone(e),(0,f.A)(t)||(t=Hv.A.fromType(Hv.A.ColorType,{color:new h.A(1,1,1,1)})),this.material=t,this._material=void 0,this._overlayCommand=void 0,this._rs=void 0}CS.prototype.update=function(e){if(!this.show)return;if(!(0,f.A)(this.material))throw new S.A("this.material must be defined.");if(!(0,f.A)(this.rectangle))throw new S.A("this.rectangle must be defined.");const t=this._rs;if((0,f.A)(t)&&Y.A.equals(t.viewport,this.rectangle)||(this._rs=Zu.A.fromCache({blending:m_.A.ALPHA_BLEND,viewport:this.rectangle})),e.passes.render){const t=e.context;if(this._material!==this.material||!(0,f.A)(this._overlayCommand)){this._material=this.material,(0,f.A)(this._overlayCommand)&&this._overlayCommand.shaderProgram.destroy();const e=new ad.A({sources:[this._material.shaderSource,Jg]});this._overlayCommand=t.createViewportQuadCommand(e,{renderState:this._rs,uniformMap:this._material._uniforms,owner:this}),this._overlayCommand.pass=Xu.A.OVERLAY}this._material.update(t),this._overlayCommand.renderState=this._rs,this._overlayCommand.uniformMap=this._material._uniforms,e.commandList.push(this._overlayCommand)}},CS.prototype.isDestroyed=function(){return!1},CS.prototype.destroy=function(){return(0,f.A)(this._overlayCommand)&&(this._overlayCommand.shaderProgram=this._overlayCommand.shaderProgram&&this._overlayCommand.shaderProgram.destroy()),(0,lA.A)(this)};const SS=CS;var TS=i(2930),PS=i(450339);function ES(){S.A.throwInstantiationError()}Object.defineProperties(ES.prototype,{ready:{get:S.A.throwInstantiationError},readyPromise:{get:S.A.throwInstantiationError},globalTransform:{get:S.A.throwInstantiationError},shapeTransform:{get:S.A.throwInstantiationError},shape:{get:S.A.throwInstantiationError},minBounds:{get:S.A.throwInstantiationError},maxBounds:{get:S.A.throwInstantiationError},dimensions:{get:S.A.throwInstantiationError},paddingBefore:{get:S.A.throwInstantiationError},paddingAfter:{get:S.A.throwInstantiationError},names:{get:S.A.throwInstantiationError},types:{get:S.A.throwInstantiationError},componentTypes:{get:S.A.throwInstantiationError},minimumValues:{get:S.A.throwInstantiationError},maximumValues:{get:S.A.throwInstantiationError},maximumTileCount:{get:S.A.throwInstantiationError},keyframeCount:{get:S.A.throwInstantiationError},timeIntervalCollection:{get:S.A.throwInstantiationError}}),ES.prototype.requestData=S.A.throwInstantiationError;const MS=ES;var kS=i(618291);function IS(){S.A.throwInstantiationError()}Object.defineProperties(IS.prototype,{orientedBoundingBox:{get:S.A.throwInstantiationError},boundingSphere:{get:S.A.throwInstantiationError},boundTransform:{get:S.A.throwInstantiationError},shapeTransform:{get:S.A.throwInstantiationError},shaderUniforms:{get:S.A.throwInstantiationError},shaderDefines:{get:S.A.throwInstantiationError},shaderMaximumIntersectionsLength:{get:S.A.throwInstantiationError}}),IS.prototype.update=S.A.throwInstantiationError,IS.prototype.computeOrientedBoundingBoxForTile=S.A.throwInstantiationError,IS.prototype.computeApproximateStepSize=S.A.throwInstantiationError,IS.DefaultMinBounds=S.A.throwInstantiationError,IS.DefaultMaxBounds=S.A.throwInstantiationError;const BS=IS;var OS=i(307452),RS=i(762270),FS=i(32706),DS=i(593054),LS=i(849750),VS=i(883734);const NS=new h.A,US=new h.A,GS=new h.A,zS=new h.A,KS=new Jd.A,qS=new Uint8Array(4);function HS(e,t,i,n){const r=t.height===i.height?0:(e-t.height)/(i.height-t.height);return h.A.lerp(t.color,i.color,r,n)}function WS(e,t){return{height:e,color:h.A.clone(t)}}function jS(e){return(e=(e=e.filter((function(e,t,i){const n=t>0,r=t<i.length-1,o=!n||e.height===i[t-1].height,s=!r||e.height===i[t+1].height;return!o||!s}))).filter((function(e,t,i){const n=t>0,r=t<i.length-1,o=!!n&&h.A.equals(e.color,i[t-1].color),s=!!r&&h.A.equals(e.color,i[t+1].color);return!o||!s}))).filter((function(e,t,i){const n=t>0,r=!!n&&h.A.equals(e.color,i[t-1].color),o=!n||e.height===i[t-1].height;return!r||!o}))}function JS(e){const{scene:t,layers:i}=(0,p.A)(e,p.A.EMPTY_OBJECT);Ce.A.typeOf.object("options.scene",t),Ce.A.defined("options.layers",i),Ce.A.typeOf.number.greaterThan("options.layers.length",i.length,0);const{context:n}=t,r=function(e){const t=function(e){let t,i;const n=[],r=e.length;for(t=0;t<r;t++){const r=e[t],o=r.entries,s=o.length;if(!Array.isArray(o)||0===s)throw new S.A("entries must be an array with size > 0.");let a=[];for(i=0;i<s;i++){const e=o[i];if(!(0,f.A)(e.height))throw new S.A("entry requires a height.");if(!(0,f.A)(e.color))throw new S.A("entry requires a color.");const t=T.A.clamp(e.height,JS._minimumHeight,JS._maximumHeight),n=h.A.clone(e.color,NS);n.red*=n.alpha,n.green*=n.alpha,n.blue*=n.alpha,a.push(WS(t,n))}let l=!0,c=!0;for(i=0;i<s-1;i++){const e=a[i+0],t=a[i+1];l=l&&e.height<=t.height,c=c&&e.height>=t.height}c?a=a.reverse():l||(0,zA.A)(a,(function(e,t){return T.A.sign(e.height-t.height)}));let u=(0,p.A)(r.extendDownwards,!1),d=(0,p.A)(r.extendUpwards,!1);1!==a.length||u||d||(u=!0,d=!0),u&&a.splice(0,0,WS(JS._minimumHeight,a[0].color)),d&&a.splice(a.length,0,WS(JS._maximumHeight,a[a.length-1].color)),a=jS(a),n.push(a)}return n}(e);let i,n=[],r=[];function o(e,t){n.push(WS(e,t))}function s(e,t,i){let n=h.A.multiplyByScalar(i,1-t.alpha,zS);n=h.A.add(n,t,n),o(e,n)}const a=t.length;for(i=0;i<a;i++){const e=t[i];let a=0,l=0;r=n,n=[];const c=e.length,u=r.length;for(;a<c||l<u;){const t=a<c?e[a]:void 0,i=a>0?e[a-1]:void 0,n=a<c-1?e[a+1]:void 0,d=l<u?r[l]:void 0,h=l>0?r[l-1]:void 0,p=l<u-1?r[l+1]:void 0;if((0,f.A)(t)&&(0,f.A)(d)&&t.height===d.height){const e=(0,f.A)(p)&&d.height===p.height,r=!(0,f.A)(h),c=!(0,f.A)(p),u=(0,f.A)(n)&&t.height===n.height,m=!(0,f.A)(i),A=!(0,f.A)(n);e?u?(s(t.height,t.color,d.color),s(t.height,n.color,p.color)):m?(o(t.height,d.color),s(t.height,t.color,p.color)):A?(s(t.height,t.color,d.color),o(t.height,p.color)):(s(t.height,t.color,d.color),s(t.height,t.color,p.color)):r?u?(o(t.height,t.color),s(t.height,n.color,d.color)):A?(o(t.height,t.color),o(t.height,d.color)):(m||o(t.height,t.color),s(t.height,t.color,d.color)):c?u?(s(t.height,t.color,d.color),o(t.height,n.color)):m?(o(t.height,d.color),o(t.height,t.color)):A?s(t.height,t.color,d.color):(s(t.height,t.color,d.color),o(t.height,t.color)):u?(s(t.height,t.color,d.color),s(t.height,n.color,d.color)):m?(o(t.height,d.color),s(t.height,t.color,d.color)):A?(s(t.height,t.color,d.color),o(t.height,d.color)):s(t.height,t.color,d.color),a+=u?2:1,l+=e?2:1}else if((0,f.A)(t)&&(0,f.A)(d)&&(0,f.A)(h)&&t.height<d.height){const e=HS(t.height,h,d,GS);(0,f.A)(i)?(0,f.A)(n)?s(t.height,t.color,e):(s(t.height,t.color,e),o(t.height,e)):(o(t.height,e),s(t.height,t.color,e)),a++}else if((0,f.A)(d)&&(0,f.A)(t)&&(0,f.A)(i)&&d.height<t.height){const e=HS(d.height,i,t,US);(0,f.A)(h)?(0,f.A)(p)?s(d.height,e,d.color):(s(d.height,e,d.color),o(d.height,e)):(o(d.height,e),s(d.height,e,d.color)),l++}else(0,f.A)(t)&&(!(0,f.A)(d)||t.height<d.height)?(!(0,f.A)(d)||(0,f.A)(h)||(0,f.A)(n)?((0,f.A)(d)||!(0,f.A)(h)||(0,f.A)(i)||(o(h.height,JS._emptyColor),o(t.height,JS._emptyColor)),o(t.height,t.color)):(o(t.height,t.color),o(t.height,JS._emptyColor),o(d.height,JS._emptyColor)),a++):(0,f.A)(d)&&(!(0,f.A)(t)||d.height<t.height)&&(o(d.height,d.color),l++)}}return jS(n)}(i),o=r.length;let s,a,l;if(JS._useFloatTexture(n)){a=Yu.A.FLOAT,l=n.webgl2?Zf.A.RED:Zf.A.LUMINANCE,s=new Float32Array(o);for(let e=0;e<o;e++)s[e]=r[e].height}else{a=Yu.A.UNSIGNED_BYTE,l=Zf.A.RGBA,s=new Uint8Array(4*o);for(let e=0;e<o;e++)Jd.A.packFloat(r[e].height,KS),Jd.A.pack(KS,s,4*e)}const c=cd.A.create({context:n,pixelFormat:l,pixelDatatype:a,source:{arrayBufferView:s,width:o,height:1},sampler:new td.A({wrapS:pd.A.CLAMP_TO_EDGE,wrapT:pd.A.CLAMP_TO_EDGE,minificationFilter:hd.A.NEAREST,magnificationFilter:dd.A.NEAREST})}),u=new Uint8Array(4*o);for(let e=0;e<o;e++)r[e].color.toBytes(qS),u[4*e+0]=qS[0],u[4*e+1]=qS[1],u[4*e+2]=qS[2],u[4*e+3]=qS[3];const d=cd.A.create({context:n,pixelFormat:Zf.A.RGBA,pixelDatatype:Yu.A.UNSIGNED_BYTE,source:{arrayBufferView:u,width:o,height:1},sampler:new td.A({wrapS:pd.A.CLAMP_TO_EDGE,wrapT:pd.A.CLAMP_TO_EDGE,minificationFilter:hd.A.LINEAR,magnificationFilter:dd.A.LINEAR})});return Hv.A.fromType("ElevationBand",{heights:c,colors:d})}JS._useFloatTexture=function(e){return e.floatingPointTexture},JS._maximumHeight=5906376425472,JS._minimumHeight=-5906376425472,JS._emptyColor=new h.A(0,0,0,0);const XS=JS,$S=async function(e,t){let i;e=(0,p.A)(e,uf.defaultApiKey);const n=uf.getDefaultApiKeyCredit(e);(0,f.A)(n)&&(i=[n]),(t=(0,p.A)(t,{})).showCreditsOnScreen=!0;const r=new we.A({url:`${uf.mapTilesApiEndpoint}3dtiles/root.json`,queryParameters:{key:e},credits:i});return gy.A.fromUrl(r,t)},YS=function(e){(0,ol.A)("createOsmBuildings","createOsmBuildings was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createOsmBuildingsAsync instead."),e=(0,hl.A)(e,{url:Mf.A.fromAssetId(96188)});const t=new gy.A(e);let i=e.style;if(!(0,f.A)(i)){const t=(0,p.A)(e.defaultColor,h.A.WHITE).toCssColorString();i=new K_.A({color:`Boolean(\${feature['cesium#color']}) ? color(\${feature['cesium#color']}) : ${t}`})}return t.style=i,t},ZS=async function(e){const t=await gy.A.fromIonAssetId(96188,e);let i=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).style;if(!(0,f.A)(i)){const t=(0,p.A)(e.defaultColor,h.A.WHITE).toCssColorString();i=new K_.A({color:`Boolean(\${feature['cesium#color']}) ? color(\${feature['cesium#color']}) : ${t}`})}return t.style=i,t},QS=function(e){const t=[];let i=(e=(0,p.A)(e,p.A.EMPTY_OBJECT)).geometry;if(!(0,f.A)(i))throw new S.A("options.geometry is required.");(0,f.A)(i.attributes)&&(0,f.A)(i.primitiveType)||(i=i.constructor.createGeometry(i));const n=i.attributes,r=Yd.A.clone((0,p.A)(e.modelMatrix,Yd.A.IDENTITY)),o=(0,p.A)(e.length,1e4);if((0,f.A)(n.normal)&&t.push(new lp.A({geometry:dp.A.createLineSegmentsForVectors(i,"normal",o),attributes:{color:new _h.A(1,0,0,1)},modelMatrix:r})),(0,f.A)(n.tangent)&&t.push(new lp.A({geometry:dp.A.createLineSegmentsForVectors(i,"tangent",o),attributes:{color:new _h.A(0,1,0,1)},modelMatrix:r})),(0,f.A)(n.bitangent)&&t.push(new lp.A({geometry:dp.A.createLineSegmentsForVectors(i,"bitangent",o),attributes:{color:new _h.A(0,0,1,1)},modelMatrix:r})),t.length>0)return new Iv.A({asynchronous:!1,geometryInstances:t,appearance:new Ex.A({flat:!0,translucent:!1})})},eT=function(e){(0,ol.A)("createWorldImagery","createWorldImagery was deprecated in CesiumJS 1.104.  It will be removed in CesiumJS 1.107.  Use createWorldImageryAsync instead."),e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=(0,p.A)(e.style,Ew.A.AERIAL),i=new Pw.A;return Pw.A._initialize(i,t,e),i};var tT=i(655028),iT=i(635649),nT=i(217543),rT=i(961624),oT=i(351554),sT=i(245329),aT=i(796170),lT=i(115959),cT=i(335724),uT=i(4471),dT=i(613161),hT=i(16620),pT=i(566732),fT=i(301005),mT=i(980509),AT=i(291192),gT=i(149800),_T=i(495702),yT=i(328326),vT=i(857831),bT=i(537335),wT=i(692608),xT=i(438376),CT=i(64137),ST=i(373785),TT=i(2218),PT=i(239942),ET=i(980360),MT=i(874099),kT=i(360069),IT=i(70966),BT=i(21561),OT=i(831373),RT=i(375916),FT=i(76846),DT=i(320441),LT=i(830539),VT=i(227798),NT=i(207131),UT=i(889216),GT=i(865114),zT=i(256773),KT=i(807783),qT=i(551672),HT=i(759889),WT=i(726401),jT=i(58747),JT=i(181163),XT=i(625322),$T=i(204410),YT=i(896077),ZT=i(575581),QT=i(490129),eP=i(75899),tP=i(295673),iP=i(370988),nP=i(419421),rP=i(563402),oP=i(143938),sP=i(801202),aP=i(403139),lP=i(325161),cP=i(261126),uP=i(221334),dP=i(980678),hP=i(768601),pP=i(501782),fP=i(828077),mP=i(7562),AP=i(34274),gP=i(494098),_P=i(443045),yP=i(40640),vP=i(752925),bP=i(249550),wP=i(365559),xP=i(427139),CP=i(844644),SP=i(638943),TP=i(732156),PP=i(377126),EP=i(279291),MP=i(547146),kP=i(934993),IP=i(712957);const BP="uniform sampler2D u_depthTexture;\n\nin vec2 v_textureCoordinates;\n\nvoid main()\n{\n    float z_window = czm_unpackDepth(texture(u_depthTexture, v_textureCoordinates));\n    z_window = czm_reverseLogDepth(z_window);\n    float n_range = czm_depthRange.near;\n    float f_range = czm_depthRange.far;\n    float z_ndc = (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n    float scale = pow(z_ndc * 0.5 + 0.5, 8.0);\n    out_FragColor = vec4(mix(vec3(0.0), vec3(1.0), scale), 1.0);\n}\n";var OP=i(388241),RP=i(780953),FP=i(347961),DP=i(602142),LP=i(947709),VP=i(724355),NP=i(573311),UP=i(90979),GP=i(307386),zP=i(812178),KP=i(951834),qP=i(382743),HP=i(186930),WP=i(138338),jP=i(864393),JP=i(189670),XP=i(485326),$P=i(741641),YP=i(418816),ZP=i(195987),QP=i(940702),eE=i(791533),tE=i(305725),iE=i(774390),nE=i(248877),rE=i(945042),oE=i(133240),sE=i(724447),aE=i(267047),lE=i(84334),cE=i(114098),uE=i(865980),dE=i(155463),hE=i(839078),pE=i(464335),fE=i(534702),mE=i(614480),AE=i(884137),gE=i(494490),_E=i(137261),yE=i(512286),vE=i(578283),bE=i(166479),wE=i(495331),xE=i(277315),CE=i(899557),SE=i(330483),TE=i(94334),PE=i(913081),EE=i(493435),ME=i(19120),kE=i(802227),IE=i(186919),BE=i(212642),OE=i(899700),RE=i(662274),FE=i(106430),DE=i(212525),LE=i(381508),VE=i(747680),NE=i(13916),UE=i(598073),GE=i(66502),zE=i(320578),KE=i(521032),qE=i(3282),HE=i(281810),WE=i(10803),jE=i(817082),JE=i(193497),XE=i(64389),$E=i(623379),YE=i(224975),ZE=i(56241),QE=i(156621),eM=i(275670),tM=i(4773),iM=i(41358),nM=i(647478),rM=i(303036),oM=i(542614),sM=i(270316),aM=i(242893),lM=i(947129),cM=i(127329),uM=i(657685),dM=i(922167),hM=i(136426),pM=i(885251),fM=i(850210),mM=i(814071),AM=i(746761),gM=i(496854),_M=i(566258),yM=i(650884),vM=i(226827),bM=i(471147),wM=i(163010),xM=i(604883),CM=i(799395),SM=i(601945),TM=i(31908),PM=i(752709),EM=i(623524),MM=i(366413),kM=i(214666),IM=i(531218),BM=i(252843),OM=i(391852),RM=i(456727),FM=i(942836),DM=i(821174);const LM=function(e){e=(0,p.A)(e,p.A.EMPTY_OBJECT);const t=(0,f.A)(e.typedArray);if(t===(0,f.A)(e.url))throw new S.A("exactly one of options.typedArray, options.url must be defined");if(t&&(!(0,f.A)(e.width)||!(0,f.A)(e.height)))throw new S.A("options.width and options.height are required when options.typedArray is defined");this.typedArray=e.typedArray,this.width=e.width,this.height=e.height,this.pixelFormat=(0,p.A)(e.pixelFormat,Zf.A.RGBA),this.pixelDatatype=(0,p.A)(e.pixelDatatype,Yu.A.UNSIGNED_BYTE);let i=e.url;"string"==typeof i&&(i=we.A.createIfNeeded(i)),this.resource=i;const n=(0,p.A)(e.repeat,!0)?pd.A.REPEAT:pd.A.CLAMP_TO_EDGE;this.sampler=new td.A({wrapS:n,wrapT:n,minificationFilter:e.minificationFilter,magnificationFilter:e.magnificationFilter,maximumAnisotropy:e.maximumAnisotropy})};var VM=i(807048),NM=i(671098);const UM=Object.freeze({FLOAT:"float",VEC2:"vec2",VEC3:"vec3",VEC4:"vec4",MAT2:"mat2",MAT3:"mat2",MAT4:"mat4"});var GM=i(6214),zM=i(150831),KM=i(433175),qM=i(779548),HM=i(945363),WM=i(575190),jM=i(703381),JM=i(960352),XM=i(550071),$M=i(291146),YM=i(680633),ZM=i(751418),QM=i(616053),ek=i(509473),tk=i(54754),ik=i(484374),nk=i(673089),rk=i(178303),ok=i(658594),sk=i(228970),ak=i(517382),lk=i(538496),ck=i(747543),uk=i(317374),dk=i(884252),hk=i(485806),pk=i(903149),fk=i(601995),mk=i(552111),Ak=i(154487),gk=i(856253),_k=i(685879),yk=i(570941),vk=i(819888),bk=i(656328),wk=i(915065),xk=i(564363),Ck=i(300255),Sk=i(658169),Tk=i(820965),Pk=i(106245),Ek=i(638211),Mk=i(702673),kk=i(461091),Ik=i(187411),Bk=i(812499),Ok=i(498386),Rk=i(264968),Fk=i(668784),Dk=i(922956),Lk=i(413799),Vk=i(919085),Nk=i(892987),Uk=i(498969),Gk=i(505559),zk=i(436749),Kk=i(68787),qk=i(441786),Hk=i(269453),Wk=i(817515),jk=i(698348),Jk=i(240790),Xk=i(12624),$k=i(13500),Yk=i(535480),Zk=i(915493),Qk=i(493458),eI=i(820789),tI=i(565274),iI=i(247408),nI=i(177627),rI=i(624782),oI=i(195814),sI=i(534173),aI=i(348941),lI=i(431443),cI=i(448358),uI=i(633899),dI=i(393597),hI=i(293367),pI=i(31862),fI=i(610675),mI=i(160958),AI=i(21038),gI=i(973717),_I=i(254805),yI=i(548051),vI=i(191195),bI=i(738340),wI=i(674794),xI=i(584312),CI=i(827266),SI=i(355870),TI=i(696042),PI=i(820121),EI=i(147769),MI=i(394839),kI=i(932901),II=i(527105),BI=i(916117),OI=i(755541),RI=i(463540),FI=i(967512),DI=i(199494),LI=i(82914),VI=i(568758),NI=i(562348),UI=i(19687),GI=i(501738),zI=i(660164),KI=i(480262),qI=i(608860),HI=i(980902),WI=i(367309),jI=i(880691),JI=i(231511),XI=i(293752),$I=i(617172),YI=i(169513),ZI=i(720547),QI=i(584783),eB=i(10451),tB=i(237688),iB=i(322556),nB=i(30284),rB=i(851714),oB=i(423340),sB=i(416407),aB=i(171037),lB=i(581607),cB=i(41715),uB=i(229806),dB=i(731759);const hB=function(e){let t;return function(i){const n=i.data,r=[],o={id:n.id,result:void 0,error:void 0};return Promise.resolve(function(e,t,i){let n;try{return n=e(t,i),n}catch(e){return Promise.reject(e)}}(e,n.parameters,r)).then((function(e){o.result=e})).catch((function(e){e instanceof Error?o.error={name:e.name,message:e.message,stack:e.stack}:o.error=e})).finally((function(){(0,f.A)(t)||(t=(0,p.A)(self.webkitPostMessage,self.postMessage)),n.canTransferArrayBuffer||(r.length=0);try{t(o,r)}catch(e){o.result=void 0,o.error=`postMessage failed with error: ${(0,MA.A)(e)}\n  with responseMessage: ${JSON.stringify(o)}`,t(o)}}))}};var pB=i(112306);const fB=function(){this.canExecute=void 0,this.beforeExecute=void 0,this.afterExecute=void 0,S.A.throwInstantiationError()},mB={createCheckbox:function(e,t,i){Ce.A.typeOf.string("labelText",e),Ce.A.typeOf.string("checkedBinding",t);const n=document.createElement("div"),r=document.createElement("label"),o=document.createElement("input");o.type="checkbox";let s=`checked: ${t}`;return(0,f.A)(i)&&(s+=`, enable: ${i}`),o.setAttribute("data-bind",s),r.appendChild(o),r.appendChild(document.createTextNode(e)),n.appendChild(r),n},createSection:function(e,t,i,n){Ce.A.defined("panel",e),Ce.A.typeOf.string("headerText",t),Ce.A.typeOf.string("sectionVisibleBinding",i),Ce.A.typeOf.string("toggleSectionVisibilityBinding",n);const r=document.createElement("div");r.className="cesium-cesiumInspector-section",r.setAttribute("data-bind",`css: { "cesium-cesiumInspector-section-collapsed": !${i} }`),e.appendChild(r);const o=document.createElement("h3");o.className="cesium-cesiumInspector-sectionHeader",o.appendChild(document.createTextNode(t)),o.setAttribute("data-bind",`click: ${n}`),r.appendChild(o);const s=document.createElement("div");return s.className="cesium-cesiumInspector-sectionContent",r.appendChild(s),s},createRangeInput:function(e,t,i,n,r,o){Ce.A.typeOf.string("rangeText",e),Ce.A.typeOf.string("sliderValueBinding",t),Ce.A.typeOf.number("min",i),Ce.A.typeOf.number("max",n),o=(0,p.A)(o,t);const s=document.createElement("input");s.setAttribute("data-bind",`value: ${o}`),s.type="number";const a=document.createElement("input");a.type="range",a.min=i,a.max=n,a.step=(0,p.A)(r,"any"),a.setAttribute("data-bind",`valueUpdate: "input", value: ${t}`);const l=document.createElement("div");l.appendChild(a);const c=document.createElement("div");return c.className="cesium-cesiumInspector-slider",c.appendChild(document.createTextNode(e)),c.appendChild(s),c.appendChild(l),c},createButton:function(e,t,i){Ce.A.typeOf.string("buttonText",e),Ce.A.typeOf.string("clickedBinding",t);const n=document.createElement("button");n.type="button",n.textContent=e,n.className="cesium-cesiumInspector-pickButton";let r=`click: ${t}`;return(0,f.A)(i)&&(r+=`, css: {"cesium-cesiumInspector-pickButtonHighlight" : ${i}}`),n.setAttribute("data-bind",r),n}},AB=mB;var gB=i(677854),_B=i(798518),yB=i(277441),vB=i(618168),bB=i(338863),wB=i(806441),xB=i(622463),CB=i(93017),SB=i(687194),TB=i(714018),PB=i(177647),EB=i(914684);function MB(e,t){t?e._eventHandler.setInputAction((function(t){const i=e._scene.pick(t.endPosition);(0,f.A)(i)&&i.primitive instanceof gy.A&&(e.tileset=i.primitive)}),Pm.A.MOUSE_MOVE):(e._eventHandler.removeInputAction(Pm.A.MOUSE_MOVE),e.picking=e.picking)}const kB={maximumFractionDigits:3};function IB(e){const t=e/1048576;return t<1?t.toLocaleString(void 0,kB):Math.round(t).toLocaleString()}function BB(e,t){if(!(0,f.A)(e))return"";const i=t?e._statisticsPerPass[N_.A.PICK]:e._statisticsPerPass[N_.A.RENDER];let n='<ul class="cesium-cesiumInspector-statistics">';return n+=`<li><strong>Visited: </strong>${i.visited.toLocaleString()}</li><li><strong>Selected: </strong>${i.selected.toLocaleString()}</li><li><strong>Commands: </strong>${i.numberOfCommands.toLocaleString()}</li>`,n+="</ul>",t||(n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Requests: </strong>${i.numberOfPendingRequests.toLocaleString()}</li><li><strong>Attempted: </strong>${i.numberOfAttemptedRequests.toLocaleString()}</li><li><strong>Processing: </strong>${i.numberOfTilesProcessing.toLocaleString()}</li><li><strong>Content Ready: </strong>${i.numberOfTilesWithContentReady.toLocaleString()}</li><li><strong>Total: </strong>${i.numberOfTilesTotal.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Features Selected: </strong>${i.numberOfFeaturesSelected.toLocaleString()}</li><li><strong>Features Loaded: </strong>${i.numberOfFeaturesLoaded.toLocaleString()}</li><li><strong>Points Selected: </strong>${i.numberOfPointsSelected.toLocaleString()}</li><li><strong>Points Loaded: </strong>${i.numberOfPointsLoaded.toLocaleString()}</li><li><strong>Triangles Selected: </strong>${i.numberOfTrianglesSelected.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Tiles styled: </strong>${i.numberOfTilesStyled.toLocaleString()}</li><li><strong>Features styled: </strong>${i.numberOfFeaturesStyled.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Children Union Culled: </strong>${i.numberOfTilesCulledWithChildrenUnion.toLocaleString()}</li>`,n+="</ul>",n+='<ul class="cesium-cesiumInspector-statistics">',n+=`<li><strong>Geometry Memory (MB): </strong>${IB(i.geometryByteLength)}</li><li><strong>Texture Memory (MB): </strong>${IB(i.texturesByteLength)}</li><li><strong>Batch Table Memory (MB): </strong>${IB(i.batchTableByteLength)}</li>`,n+="</ul>"),n}function OB(){const e=iy.A.statistics;return`\n  <ul class="cesium-cesiumInspector-statistics">\n    <li><strong>Geometry Memory (MB): </strong>${IB(e.geometryByteLength)}</li>\n    <li><strong>Texture Memory (MB): </strong>${IB(e.texturesByteLength)}</li>\n  </ul>\n  `}const RB=[{text:"Highlight",value:M_.A.HIGHLIGHT},{text:"Replace",value:M_.A.REPLACE},{text:"Mix",value:M_.A.MIX}],FB=new h.A(1,1,0,.4),DB=new h.A,LB=new h.A;function VB(e,t){Ce.A.typeOf.object("scene",e),Ce.A.typeOf.object("performanceContainer",t);const i=this,n=e.canvas;this._eventHandler=new Tm.A(n),this._scene=e,this._performanceContainer=t,this._canvas=n,this._performanceDisplay=new Mx.A({container:t}),this._statisticsText="",this._pickStatisticsText="",this._resourceCacheStatisticsText="",this._editorError="",this.performance=!1,this.showStatistics=!0,this.showPickStatistics=!0,this.showResourceCacheStatistics=!1,this.inspectorVisible=!0,this.tilesetVisible=!1,this.displayVisible=!1,this.updateVisible=!1,this.loggingVisible=!1,this.styleVisible=!1,this.tileDebugLabelsVisible=!1,this.optimizationVisible=!1,this.styleString="{}",this.hasEnabledWireframe=!1,this._tileset=void 0,this._feature=void 0,this._tile=void 0,EB.A.track(this,["performance","inspectorVisible","_statisticsText","_pickStatisticsText","_resourceCacheStatisticsText","_editorError","showPickStatistics","showStatistics","showResourceCacheStatistics","tilesetVisible","displayVisible","updateVisible","loggingVisible","styleVisible","optimizationVisible","tileDebugLabelsVisible","styleString","_feature","_tile","_tileset","hasEnabledWireframe"]),this._properties=EB.A.observable({}),this.properties=[],EB.A.defineProperty(this,"properties",(function(){const e=[],t=i._properties();for(const i in t)t.hasOwnProperty(i)&&e.push(i);return e}));const r=EB.A.observable();EB.A.defineProperty(this,"dynamicScreenSpaceError",{get:function(){return r()},set:function(e){r(e),(0,f.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceError=e)}}),this.dynamicScreenSpaceError=!1;const o=EB.A.observable();EB.A.defineProperty(this,"colorBlendMode",{get:function(){return o()},set:function(e){o(e),(0,f.A)(i._tileset)&&(i._tileset.colorBlendMode=e,i._scene.requestRender())}}),this.colorBlendMode=M_.A.HIGHLIGHT;const s=EB.A.observable(),a=EB.A.observable();EB.A.defineProperty(this,"picking",{get:function(){return a()},set:function(t){a(t),t?i._eventHandler.setInputAction((function(t){const n=e.pick(t.endPosition);if(n instanceof F_.A?(i.feature=n,i.tile=n.content.tile):(0,f.A)(n)&&(0,f.A)(n.content)?(i.feature=void 0,i.tile=n.content.tile):(i.feature=void 0,i.tile=void 0),(0,f.A)(i._tileset)){if(s&&(0,f.A)(n)&&(0,f.A)(n.content)){let r;e.pickPositionSupported&&(r=e.pickPosition(t.endPosition),(0,f.A)(r)&&(i._tileset.debugPickPosition=r)),i._tileset.debugPickedTile=n.content.tile}else i._tileset.debugPickedTile=void 0;i._scene.requestRender()}}),Pm.A.MOUSE_MOVE):(i.feature=void 0,i.tile=void 0,i._eventHandler.removeInputAction(Pm.A.MOUSE_MOVE))}}),this.picking=!0;const l=EB.A.observable();EB.A.defineProperty(this,"colorize",{get:function(){return l()},set:function(e){l(e),(0,f.A)(i._tileset)&&(i._tileset.debugColorizeTiles=e,i._scene.requestRender())}}),this.colorize=!1;const c=EB.A.observable();EB.A.defineProperty(this,"wireframe",{get:function(){return c()},set:function(e){c(e),(0,f.A)(i._tileset)&&(i._tileset.debugWireframe=e,i._scene.requestRender())}}),this.wireframe=!1;const u=EB.A.observable();EB.A.defineProperty(this,"showBoundingVolumes",{get:function(){return u()},set:function(e){u(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowBoundingVolume=e,i._scene.requestRender())}}),this.showBoundingVolumes=!1;const d=EB.A.observable();EB.A.defineProperty(this,"showContentBoundingVolumes",{get:function(){return d()},set:function(e){d(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowContentBoundingVolume=e,i._scene.requestRender())}}),this.showContentBoundingVolumes=!1;const h=EB.A.observable();EB.A.defineProperty(this,"showRequestVolumes",{get:function(){return h()},set:function(e){h(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowViewerRequestVolume=e,i._scene.requestRender())}}),this.showRequestVolumes=!1;const p=EB.A.observable();EB.A.defineProperty(this,"freezeFrame",{get:function(){return p()},set:function(e){p(e),(0,f.A)(i._tileset)&&(i._tileset.debugFreezeFrame=e,i._scene.debugShowFrustumPlanes=e,i._scene.requestRender())}}),this.freezeFrame=!1,EB.A.defineProperty(this,"showOnlyPickedTileDebugLabel",{get:function(){return s()},set:function(e){s(e),(0,f.A)(i._tileset)&&(i._tileset.debugPickedTileLabelOnly=e,i._scene.requestRender())}}),this.showOnlyPickedTileDebugLabel=!1;const m=EB.A.observable();EB.A.defineProperty(this,"showGeometricError",{get:function(){return m()},set:function(e){m(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowGeometricError=e,i._scene.requestRender())}}),this.showGeometricError=!1;const A=EB.A.observable();EB.A.defineProperty(this,"showRenderingStatistics",{get:function(){return A()},set:function(e){A(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowRenderingStatistics=e,i._scene.requestRender())}}),this.showRenderingStatistics=!1;const g=EB.A.observable();EB.A.defineProperty(this,"showMemoryUsage",{get:function(){return g()},set:function(e){g(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowMemoryUsage=e,i._scene.requestRender())}}),this.showMemoryUsage=!1;const _=EB.A.observable();EB.A.defineProperty(this,"showUrl",{get:function(){return _()},set:function(e){_(e),(0,f.A)(i._tileset)&&(i._tileset.debugShowUrl=e,i._scene.requestRender())}}),this.showUrl=!1;const y=EB.A.observable();EB.A.defineProperty(this,"maximumScreenSpaceError",{get:function(){return y()},set:function(e){e=Number(e),isNaN(e)||(y(e),(0,f.A)(i._tileset)&&(i._tileset.maximumScreenSpaceError=e))}}),this.maximumScreenSpaceError=16;const v=EB.A.observable();EB.A.defineProperty(this,"dynamicScreenSpaceErrorDensity",{get:function(){return v()},set:function(e){e=Number(e),isNaN(e)||(v(e),(0,f.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorDensity=e))}}),this.dynamicScreenSpaceErrorDensity=.00278,this.dynamicScreenSpaceErrorDensitySliderValue=void 0,EB.A.defineProperty(this,"dynamicScreenSpaceErrorDensitySliderValue",{get:function(){return Math.pow(v(),1/6)},set:function(e){v(Math.pow(e,6))}});const b=EB.A.observable();EB.A.defineProperty(this,"dynamicScreenSpaceErrorFactor",{get:function(){return b()},set:function(e){e=Number(e),isNaN(e)||(b(e),(0,f.A)(i._tileset)&&(i._tileset.dynamicScreenSpaceErrorFactor=e))}}),this.dynamicScreenSpaceErrorFactor=4;const w=(x=this,function(e){const t=x._scene.pick(e.position);(0,f.A)(t)&&t.primitive instanceof gy.A&&(x.tileset=t.primitive),x.pickActive=!1});var x;const C=EB.A.observable();EB.A.defineProperty(this,"pickActive",{get:function(){return C()},set:function(e){C(e),e?i._eventHandler.setInputAction(w,Pm.A.LEFT_CLICK):i._eventHandler.removeInputAction(Pm.A.LEFT_CLICK)}});const S=EB.A.observable();EB.A.defineProperty(this,"pointCloudShading",{get:function(){return S()},set:function(e){S(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.attenuation=e)}}),this.pointCloudShading=!1;const T=EB.A.observable();EB.A.defineProperty(this,"geometricErrorScale",{get:function(){return T()},set:function(e){e=Number(e),isNaN(e)||(T(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.geometricErrorScale=e))}}),this.geometricErrorScale=1;const P=EB.A.observable();EB.A.defineProperty(this,"maximumAttenuation",{get:function(){return P()},set:function(e){e=Number(e),isNaN(e)||(P(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.maximumAttenuation=0===e?void 0:e))}}),this.maximumAttenuation=0;const E=EB.A.observable();EB.A.defineProperty(this,"baseResolution",{get:function(){return E()},set:function(e){e=Number(e),isNaN(e)||(E(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.baseResolution=0===e?void 0:e))}}),this.baseResolution=0;const M=EB.A.observable();EB.A.defineProperty(this,"eyeDomeLighting",{get:function(){return M()},set:function(e){M(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLighting=e)}}),this.eyeDomeLighting=!1;const k=EB.A.observable();EB.A.defineProperty(this,"eyeDomeLightingStrength",{get:function(){return k()},set:function(e){e=Number(e),isNaN(e)||(k(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingStrength=e))}}),this.eyeDomeLightingStrength=1;const I=EB.A.observable();EB.A.defineProperty(this,"eyeDomeLightingRadius",{get:function(){return I()},set:function(e){e=Number(e),isNaN(e)||(I(e),(0,f.A)(i._tileset)&&(i._tileset.pointCloudShading.eyeDomeLightingRadius=e))}}),this.eyeDomeLightingRadius=1,this.pickActive=!1;const B=EB.A.observable();EB.A.defineProperty(this,"skipLevelOfDetail",{get:function(){return B()},set:function(e){B(e),(0,f.A)(i._tileset)&&(i._tileset.skipLevelOfDetail=e)}}),this.skipLevelOfDetail=!0;const O=EB.A.observable();EB.A.defineProperty(this,"skipScreenSpaceErrorFactor",{get:function(){return O()},set:function(e){e=Number(e),isNaN(e)||(O(e),(0,f.A)(i._tileset)&&(i._tileset.skipScreenSpaceErrorFactor=e))}}),this.skipScreenSpaceErrorFactor=16;const R=EB.A.observable();EB.A.defineProperty(this,"baseScreenSpaceError",{get:function(){return R()},set:function(e){e=Number(e),isNaN(e)||(R(e),(0,f.A)(i._tileset)&&(i._tileset.baseScreenSpaceError=e))}}),this.baseScreenSpaceError=1024;const F=EB.A.observable();EB.A.defineProperty(this,"skipLevels",{get:function(){return F()},set:function(e){e=Number(e),isNaN(e)||(F(e),(0,f.A)(i._tileset)&&(i._tileset.skipLevels=e))}}),this.skipLevels=1;const D=EB.A.observable();EB.A.defineProperty(this,"immediatelyLoadDesiredLevelOfDetail",{get:function(){return D()},set:function(e){D(e),(0,f.A)(i._tileset)&&(i._tileset.immediatelyLoadDesiredLevelOfDetail=e)}}),this.immediatelyLoadDesiredLevelOfDetail=!1;const L=EB.A.observable();EB.A.defineProperty(this,"loadSiblings",{get:function(){return L()},set:function(e){L(e),(0,f.A)(i._tileset)&&(i._tileset.loadSiblings=e)}}),this.loadSiblings=!1,this._style=void 0,this._shouldStyle=!1,this._definedProperties=["properties","dynamicScreenSpaceError","colorBlendMode","picking","colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","maximumScreenSpaceError","dynamicScreenSpaceErrorDensity","baseScreenSpaceError","skipScreenSpaceErrorFactor","skipLevelOfDetail","skipLevels","immediatelyLoadDesiredLevelOfDetail","loadSiblings","dynamicScreenSpaceErrorDensitySliderValue","dynamicScreenSpaceErrorFactor","pickActive","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl","pointCloudShading","geometricErrorScale","maximumAttenuation","baseResolution","eyeDomeLighting","eyeDomeLightingStrength","eyeDomeLightingRadius"],this._removePostRenderEvent=e.postRender.addEventListener((function(){i._update()})),(0,f.A)(this._tileset)||MB(this,!0)}function NB(e){if(!(0,f.A)(e))return!1;if(e.featuresLength>0)return!0;const t=e.innerContents;if((0,f.A)(t)){const e=t.length;for(let i=0;i<e;++i)if(!NB(t[i]))return!1;return!0}return!1}Object.defineProperties(VB.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},statisticsText:{get:function(){return this._statisticsText}},pickStatisticsText:{get:function(){return this._pickStatisticsText}},resourceCacheStatisticsText:{get:function(){return this._resourceCacheStatisticsText}},colorBlendModes:{get:function(){return RB}},editorError:{get:function(){return this._editorError}},tileset:{get:function(){return this._tileset},set:function(e){if(this._tileset=e,this._style=void 0,this.styleString="{}",this.feature=void 0,this.tile=void 0,(0,f.A)(e)){const t=this;e._readyPromise.then((function(e){t.isDestroyed()||t._properties(e.properties)}));const i=["colorize","wireframe","showBoundingVolumes","showContentBoundingVolumes","showRequestVolumes","freezeFrame","showOnlyPickedTileDebugLabel","showGeometricError","showRenderingStatistics","showMemoryUsage","showUrl"],n=i.length;for(let e=0;e<n;++e){const t=i[e];this[t]=this[t]}this.maximumScreenSpaceError=e.maximumScreenSpaceError,this.dynamicScreenSpaceError=e.dynamicScreenSpaceError,this.dynamicScreenSpaceErrorDensity=e.dynamicScreenSpaceErrorDensity,this.dynamicScreenSpaceErrorFactor=e.dynamicScreenSpaceErrorFactor,this.colorBlendMode=e.colorBlendMode,this.skipLevelOfDetail=e.skipLevelOfDetail,this.skipScreenSpaceErrorFactor=e.skipScreenSpaceErrorFactor,this.baseScreenSpaceError=e.baseScreenSpaceError,this.skipLevels=e.skipLevels,this.immediatelyLoadDesiredLevelOfDetail=e.immediatelyLoadDesiredLevelOfDetail,this.loadSiblings=e.loadSiblings,this.hasEnabledWireframe=e._enableDebugWireframe;const r=e.pointCloudShading;this.pointCloudShading=r.attenuation,this.geometricErrorScale=r.geometricErrorScale,this.maximumAttenuation=r.maximumAttenuation?r.maximumAttenuation:0,this.baseResolution=r.baseResolution?r.baseResolution:0,this.eyeDomeLighting=r.eyeDomeLighting,this.eyeDomeLightingStrength=r.eyeDomeLightingStrength,this.eyeDomeLightingRadius=r.eyeDomeLightingRadius,this._scene.requestRender()}else this._properties({});this._statisticsText=BB(e,!1),this._pickStatisticsText=BB(e,!0),this._resourceCacheStatisticsText=OB(),MB(this,!1)}},feature:{get:function(){return this._feature},set:function(e){if(this._feature===e)return;const t=this._feature;(0,f.A)(t)&&!t.content.isDestroyed()&&(!this.colorize&&(0,f.A)(this._style)?t.color=(0,f.A)(this._style.color)?this._style.color.evaluateColor(t,DB):h.A.WHITE:t.color=LB,this._scene.requestRender()),(0,f.A)(e)&&(h.A.clone(e.color,LB),e.color=FB,this._scene.requestRender()),this._feature=e}},tile:{get:function(){return this._tile},set:function(e){if(this._tile===e)return;const t=this._tile;!(0,f.A)(t)||t.isDestroyed()||NB(t.content)||(t.color=LB,this._scene.requestRender()),(0,f.A)(e)&&!NB(e.content)&&(h.A.clone(e.color,LB),e.color=FB,this._scene.requestRender()),this._tile=e}}}),VB.prototype.togglePickTileset=function(){this.pickActive=!this.pickActive},VB.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},VB.prototype.toggleTileset=function(){this.tilesetVisible=!this.tilesetVisible},VB.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},VB.prototype.toggleUpdate=function(){this.updateVisible=!this.updateVisible},VB.prototype.toggleLogging=function(){this.loggingVisible=!this.loggingVisible},VB.prototype.toggleStyle=function(){this.styleVisible=!this.styleVisible},VB.prototype.toggleTileDebugLabels=function(){this.tileDebugLabelsVisible=!this.tileDebugLabelsVisible},VB.prototype.toggleOptimization=function(){this.optimizationVisible=!this.optimizationVisible},VB.prototype.trimTilesCache=function(){(0,f.A)(this._tileset)&&this._tileset.trimLoadedTiles()},VB.prototype.compileStyle=function(){const e=this._tileset;if((0,f.A)(e)&&this.styleString!==JSON.stringify(e.style)){this._editorError="";try{0===this.styleString.length&&(this.styleString="{}"),this._style=new K_.A(JSON.parse(this.styleString)),this._shouldStyle=!0,this._scene.requestRender()}catch(e){this._editorError=e.toString()}this.feature=this._feature,this.tile=this._tile}},VB.prototype.styleEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileStyle();return!0},VB.prototype._update=function(){const e=this._tileset;if(this.performance&&this._performanceDisplay.update(),(0,f.A)(e)){if(e.isDestroyed())return this.tile=void 0,this.feature=void 0,void(this.tileset=void 0);const t=e.style;this._style!==e.style&&(this._shouldStyle?(e.style=this._style,this._shouldStyle=!1):(this._style=t,this.styleString=JSON.stringify(t.style,null,"  ")))}this.showStatistics&&(this._statisticsText=BB(e,!1),this._pickStatisticsText=BB(e,!0),this._resourceCacheStatisticsText=OB())},VB.prototype.isDestroyed=function(){return!1},VB.prototype.destroy=function(){this._eventHandler.destroy(),this._removePostRenderEvent();const e=this;return this._definedProperties.forEach((function(t){EB.A.getObservable(e,t).dispose()})),(0,lA.A)(this)},VB.getStatistics=BB;const UB=VB;function GB(e,t){Ce.A.defined("container",e),Ce.A.typeOf.object("scene",t),e=(0,nl.A)(e);const i=document.createElement("div"),n=document.createElement("div");n.setAttribute("data-bind","visible: performance");const r=new UB(t,n);this._viewModel=r,this._container=e,this._element=i;const o=document.createElement("div");o.textContent="3D Tiles Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleInspector"),i.appendChild(o),i.className="cesium-cesiumInspector cesium-3DTilesInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",i.appendChild(s);const a=AB.createSection,l=AB.createCheckbox,c=AB.createRangeInput,u=AB.createButton,d=a(s,"Tileset","tilesetVisible","toggleTileset"),h=a(s,"Display","displayVisible","toggleDisplay"),p=a(s,"Update","updateVisible","toggleUpdate"),f=a(s,"Logging","loggingVisible","toggleLogging"),m=a(s,"Tile Debug Labels","tileDebugLabelsVisible","toggleTileDebugLabels"),A=a(s,"Style","styleVisible","toggleStyle"),g=a(s,"Optimization","optimizationVisible","toggleOptimization"),_=document.createElement("div");_.className="field-group";const y=document.createElement("label");y.className="field-label",y.appendChild(document.createTextNode("Properties: "));const v=document.createElement("div");v.setAttribute("data-bind","text: properties"),_.appendChild(y),_.appendChild(v),d.appendChild(_),d.appendChild(u("Pick Tileset","togglePickTileset","pickActive")),d.appendChild(u("Trim Tiles Cache","trimTilesCache")),d.appendChild(l("Enable Picking","picking")),h.appendChild(l("Colorize","colorize"));const b=h.appendChild(l("Wireframe","wireframe","_tileset === undefined || hasEnabledWireframe")),w=document.createElement("p");w.setAttribute("data-bind","visible: _tileset !== undefined && !hasEnabledWireframe"),w.setAttribute("class","cesium-3DTilesInspector-disabledElementsInfo"),w.innerText="Set enableDebugWireframe to true in the tileset constructor to enable this option.",b.appendChild(w),h.appendChild(l("Bounding Volumes","showBoundingVolumes")),h.appendChild(l("Content Volumes","showContentBoundingVolumes")),h.appendChild(l("Request Volumes","showRequestVolumes")),h.appendChild(l("Point Cloud Shading","pointCloudShading"));const x=document.createElement("div");x.setAttribute("data-bind","visible: pointCloudShading"),x.appendChild(c("Geometric Error Scale","geometricErrorScale",0,2,.01)),x.appendChild(c("Maximum Attenuation","maximumAttenuation",0,32,1)),x.appendChild(c("Base Resolution","baseResolution",0,1,.01)),x.appendChild(l("Eye Dome Lighting (EDL)","eyeDomeLighting")),h.appendChild(x);const C=document.createElement("div");C.setAttribute("data-bind","visible: eyeDomeLighting"),C.appendChild(c("EDL Strength","eyeDomeLightingStrength",0,2,.1)),C.appendChild(c("EDL Radius","eyeDomeLightingRadius",0,4,.1)),x.appendChild(C),p.appendChild(l("Freeze Frame","freezeFrame")),p.appendChild(l("Dynamic Screen Space Error","dynamicScreenSpaceError"));const S=document.createElement("div");S.appendChild(c("Maximum Screen Space Error","maximumScreenSpaceError",0,128,1)),p.appendChild(S);const T=document.createElement("div");T.setAttribute("data-bind","visible: dynamicScreenSpaceError"),T.appendChild(c("Screen Space Error Density","dynamicScreenSpaceErrorDensitySliderValue",0,1,.005,"dynamicScreenSpaceErrorDensity")),T.appendChild(c("Screen Space Error Factor","dynamicScreenSpaceErrorFactor",1,10,.1)),p.appendChild(T),f.appendChild(l("Performance","performance")),f.appendChild(n),f.appendChild(l("Statistics","showStatistics"));const P=document.createElement("div");P.className="cesium-3dTilesInspector-statistics",P.setAttribute("data-bind","html: statisticsText, visible: showStatistics"),f.appendChild(P),f.appendChild(l("Pick Statistics","showPickStatistics"));const E=document.createElement("div");E.className="cesium-3dTilesInspector-statistics",E.setAttribute("data-bind","html: pickStatisticsText, visible: showPickStatistics"),f.appendChild(E),f.appendChild(l("Resource Cache Statistics","showResourceCacheStatistics"));const M=document.createElement("div");M.className="cesium-3dTilesInspector-statistics",M.setAttribute("data-bind","html: resourceCacheStatisticsText, visible: showResourceCacheStatistics"),f.appendChild(M);const k=document.createElement("div");A.appendChild(k),k.appendChild(document.createTextNode("Color Blend Mode: "));const I=document.createElement("select");I.setAttribute("data-bind",'options: colorBlendModes, optionsText: "text", optionsValue: "value", value: colorBlendMode'),k.appendChild(I);const B=document.createElement("textarea");B.setAttribute("data-bind","textInput: styleString, event: { keydown: styleEditorKeyPress }"),k.className="cesium-cesiumInspector-styleEditor",k.appendChild(B);const O=u("Compile (Ctrl+Enter)","compileStyle");k.appendChild(O);const R=document.createElement("div");R.className="cesium-cesiumInspector-error",R.setAttribute("data-bind","text: editorError"),k.appendChild(R),m.appendChild(l("Show Picked Only","showOnlyPickedTileDebugLabel")),m.appendChild(l("Geometric Error","showGeometricError")),m.appendChild(l("Rendering Statistics","showRenderingStatistics")),m.appendChild(l("Memory Usage (MB)","showMemoryUsage")),m.appendChild(l("Url","showUrl")),g.appendChild(l("Skip Tile LODs","skipLevelOfDetail"));const F=document.createElement("div");F.appendChild(c("Skip SSE Factor","skipScreenSpaceErrorFactor",1,50,1)),g.appendChild(F);const D=document.createElement("div");D.appendChild(c("SSE before skipping LOD","baseScreenSpaceError",0,4096,1)),g.appendChild(D);const L=document.createElement("div");L.appendChild(c("Min. levels to skip","skipLevels",0,10,1)),g.appendChild(L),g.appendChild(l("Load only tiles that meet the max SSE.","immediatelyLoadDesiredLevelOfDetail")),g.appendChild(l("Load siblings of visible tiles","loadSiblings")),EB.A.applyBindings(r,i)}Object.defineProperties(GB.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),GB.prototype.isDestroyed=function(){return!1},GB.prototype.destroy=function(){return EB.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,lA.A)(this)};const zB=GB;function KB(e,t,i){let n=Math.min(i,t);return n=Math.max(n,e),n}const qB=new _m.A,HB=new Z.A;function WB(e,t){if(!(0,f.A)(e))throw new S.A("scene is required");if(!(0,f.A)(t))throw new S.A("performanceContainer is required");const i=this,n=e.canvas,r=new Tm.A(n);this._eventHandler=r,this._scene=e,this._canvas=n,this._primitive=void 0,this._tile=void 0,this._modelMatrixPrimitive=void 0,this._performanceDisplay=void 0,this._performanceContainer=t;const o=this._scene.globe;let s;function a(e){const t=i._scene.pick({x:e.position.x,y:e.position.y});(0,f.A)(t)&&(i.primitive=(0,f.A)(t.collection)?t.collection:t.primitive),i._scene.requestRender(),i.pickPrimitiveActive=!1}function l(e){let t;const n=o.ellipsoid,r=i._scene.camera.getPickRay(e.position,qB),s=o.pick(r,i._scene,HB);if((0,f.A)(s)){const e=n.cartesianToCartographic(s),i=o._surface.tileProvider._tilesToRenderByTextureCount;for(let n=0;!t&&n<i.length;++n){const r=i[n];if((0,f.A)(r))for(let i=0;!t&&i<r.length;++i){const n=r[i];ve.A.contains(n.rectangle,e)&&(t=n)}}}i.tile=t,i.pickTileActive=!1}o.depthTestAgainstTerrain=!0,this.frustums=!1,this.frustumPlanes=!1,this.performance=!1,this.shaderCacheText="",this.primitiveBoundingSphere=!1,this.primitiveReferenceFrame=!1,this.filterPrimitive=!1,this.tileBoundingSphere=!1,this.filterTile=!1,this.wireframe=!1,this.depthFrustum=1,this._numberOfFrustums=1,this.suspendUpdates=!1,this.tileCoordinates=!1,this.frustumStatisticText=!1,this.tileText="",this.hasPickedPrimitive=!1,this.hasPickedTile=!1,this.pickPrimitiveActive=!1,this.pickTileActive=!1,this.dropDownVisible=!0,this.generalVisible=!0,this.primitivesVisible=!1,this.terrainVisible=!1,this.depthFrustumText="",EB.A.track(this,["frustums","frustumPlanes","performance","shaderCacheText","primitiveBoundingSphere","primitiveReferenceFrame","filterPrimitive","tileBoundingSphere","filterTile","wireframe","depthFrustum","suspendUpdates","tileCoordinates","frustumStatisticText","tileText","hasPickedPrimitive","hasPickedTile","pickPrimitiveActive","pickTileActive","dropDownVisible","generalVisible","primitivesVisible","terrainVisible","depthFrustumText"]),this._toggleDropDown=(0,yB.A)((function(){i.dropDownVisible=!i.dropDownVisible})),this._toggleGeneral=(0,yB.A)((function(){i.generalVisible=!i.generalVisible})),this._togglePrimitives=(0,yB.A)((function(){i.primitivesVisible=!i.primitivesVisible})),this._toggleTerrain=(0,yB.A)((function(){i.terrainVisible=!i.terrainVisible})),this._frustumsSubscription=EB.A.getObservable(this,"frustums").subscribe((function(e){i._scene.debugShowFrustums=e,i._scene.requestRender()})),this._frustumPlanesSubscription=EB.A.getObservable(this,"frustumPlanes").subscribe((function(e){i._scene.debugShowFrustumPlanes=e,i._scene.requestRender()})),this._performanceSubscription=EB.A.getObservable(this,"performance").subscribe((function(e){e?i._performanceDisplay=new Mx.A({container:i._performanceContainer}):i._performanceContainer.innerHTML=""})),this._showPrimitiveBoundingSphere=(0,yB.A)((function(){return i._primitive.debugShowBoundingVolume=i.primitiveBoundingSphere,i._scene.requestRender(),!0})),this._primitiveBoundingSphereSubscription=EB.A.getObservable(this,"primitiveBoundingSphere").subscribe((function(){i._showPrimitiveBoundingSphere()})),this._showPrimitiveReferenceFrame=(0,yB.A)((function(){if(i.primitiveReferenceFrame){const e=i._primitive.modelMatrix;i._modelMatrixPrimitive=new Ov({modelMatrix:e}),i._scene.primitives.add(i._modelMatrixPrimitive)}else(0,f.A)(i._modelMatrixPrimitive)&&(i._scene.primitives.remove(i._modelMatrixPrimitive),i._modelMatrixPrimitive=void 0);return i._scene.requestRender(),!0})),this._primitiveReferenceFrameSubscription=EB.A.getObservable(this,"primitiveReferenceFrame").subscribe((function(){i._showPrimitiveReferenceFrame()})),this._doFilterPrimitive=(0,yB.A)((function(){return i.filterPrimitive?i._scene.debugCommandFilter=function(e){return!(!(0,f.A)(i._modelMatrixPrimitive)||e.owner!==i._modelMatrixPrimitive._primitive)||!!(0,f.A)(i._primitive)&&(e.owner===i._primitive||e.owner===i._primitive._billboardCollection||e.owner.primitive===i._primitive)}:i._scene.debugCommandFilter=void 0,!0})),this._filterPrimitiveSubscription=EB.A.getObservable(this,"filterPrimitive").subscribe((function(){i._doFilterPrimitive(),i._scene.requestRender()})),this._wireframeSubscription=EB.A.getObservable(this,"wireframe").subscribe((function(e){o._surface.tileProvider._debug.wireframe=e,i._scene.requestRender()})),this._depthFrustumSubscription=EB.A.getObservable(this,"depthFrustum").subscribe((function(e){i._scene.debugShowDepthFrustum=e,i._scene.requestRender()})),this._incrementDepthFrustum=(0,yB.A)((function(){const e=i.depthFrustum+1;return i.depthFrustum=KB(1,i._numberOfFrustums,e),i._scene.requestRender(),!0})),this._decrementDepthFrustum=(0,yB.A)((function(){const e=i.depthFrustum-1;return i.depthFrustum=KB(1,i._numberOfFrustums,e),i._scene.requestRender(),!0})),this._suspendUpdatesSubscription=EB.A.getObservable(this,"suspendUpdates").subscribe((function(e){o._surface._debug.suspendLodUpdate=e,e||(i.filterTile=!1)})),this._showTileCoordinates=(0,yB.A)((function(){return i.tileCoordinates&&!(0,f.A)(s)?s=e.imageryLayers.addImageryProvider(new YC({tilingScheme:e.terrainProvider.tilingScheme})):!i.tileCoordinates&&(0,f.A)(s)&&(e.imageryLayers.remove(s),s=void 0),!0})),this._tileCoordinatesSubscription=EB.A.getObservable(this,"tileCoordinates").subscribe((function(){i._showTileCoordinates(),i._scene.requestRender()})),this._tileBoundingSphereSubscription=EB.A.getObservable(this,"tileBoundingSphere").subscribe((function(){i._showTileBoundingSphere(),i._scene.requestRender()})),this._showTileBoundingSphere=(0,yB.A)((function(){return i.tileBoundingSphere?o._surface.tileProvider._debug.boundingSphereTile=i._tile:o._surface.tileProvider._debug.boundingSphereTile=void 0,i._scene.requestRender(),!0})),this._doFilterTile=(0,yB.A)((function(){return i.filterTile?(i.suspendUpdates=!0,o._surface._tilesToRender=[],(0,f.A)(i._tile)&&i._tile.renderable&&o._surface._tilesToRender.push(i._tile)):i.suspendUpdates=!1,!0})),this._filterTileSubscription=EB.A.getObservable(this,"filterTile").subscribe((function(){i.doFilterTile(),i._scene.requestRender()})),this._pickPrimitive=(0,yB.A)((function(){i.pickPrimitiveActive=!i.pickPrimitiveActive})),this._pickPrimitiveActiveSubscription=EB.A.getObservable(this,"pickPrimitiveActive").subscribe((function(e){e?r.setInputAction(a,Pm.A.LEFT_CLICK):r.removeInputAction(Pm.A.LEFT_CLICK)})),this._pickTile=(0,yB.A)((function(){i.pickTileActive=!i.pickTileActive})),this._pickTileActiveSubscription=EB.A.getObservable(this,"pickTileActive").subscribe((function(e){e?r.setInputAction(l,Pm.A.LEFT_CLICK):r.removeInputAction(Pm.A.LEFT_CLICK)})),this._removePostRenderEvent=e.postRender.addEventListener((function(){i._update()}))}Object.defineProperties(WB.prototype,{scene:{get:function(){return this._scene}},performanceContainer:{get:function(){return this._performanceContainer}},toggleDropDown:{get:function(){return this._toggleDropDown}},showPrimitiveBoundingSphere:{get:function(){return this._showPrimitiveBoundingSphere}},showPrimitiveReferenceFrame:{get:function(){return this._showPrimitiveReferenceFrame}},doFilterPrimitive:{get:function(){return this._doFilterPrimitive}},incrementDepthFrustum:{get:function(){return this._incrementDepthFrustum}},decrementDepthFrustum:{get:function(){return this._decrementDepthFrustum}},showTileCoordinates:{get:function(){return this._showTileCoordinates}},showTileBoundingSphere:{get:function(){return this._showTileBoundingSphere}},doFilterTile:{get:function(){return this._doFilterTile}},toggleGeneral:{get:function(){return this._toggleGeneral}},togglePrimitives:{get:function(){return this._togglePrimitives}},toggleTerrain:{get:function(){return this._toggleTerrain}},pickPrimitive:{get:function(){return this._pickPrimitive}},pickTile:{get:function(){return this._pickTile}},selectParent:{get:function(){const e=this;return(0,yB.A)((function(){e.tile=e.tile.parent}))}},selectNW:{get:function(){const e=this;return(0,yB.A)((function(){e.tile=e.tile.northwestChild}))}},selectNE:{get:function(){const e=this;return(0,yB.A)((function(){e.tile=e.tile.northeastChild}))}},selectSW:{get:function(){const e=this;return(0,yB.A)((function(){e.tile=e.tile.southwestChild}))}},selectSE:{get:function(){const e=this;return(0,yB.A)((function(){e.tile=e.tile.southeastChild}))}},primitive:{get:function(){return this._primitive},set:function(e){const t=this._primitive;e!==t&&(this.hasPickedPrimitive=!0,(0,f.A)(t)&&(t.debugShowBoundingVolume=!1),this._scene.debugCommandFilter=void 0,(0,f.A)(this._modelMatrixPrimitive)&&(this._scene.primitives.remove(this._modelMatrixPrimitive),this._modelMatrixPrimitive=void 0),this._primitive=e,e.show=!1,setTimeout((function(){e.show=!0}),50),this.showPrimitiveBoundingSphere(),this.showPrimitiveReferenceFrame(),this.doFilterPrimitive())}},tile:{get:function(){return this._tile},set:function(e){if((0,f.A)(e)){if(this.hasPickedTile=!0,e!==this._tile){this.tileText=`L: ${e.level} X: ${e.x} Y: ${e.y}`,this.tileText+=`<br>SW corner: ${e.rectangle.west}, ${e.rectangle.south}`,this.tileText+=`<br>NE corner: ${e.rectangle.east}, ${e.rectangle.north}`;const t=e.data;(0,f.A)(t)&&(0,f.A)(t.tileBoundingRegion)?this.tileText+=`<br>Min: ${t.tileBoundingRegion.minimumHeight} Max: ${t.tileBoundingRegion.maximumHeight}`:this.tileText+="<br>(Tile is not loaded)"}this._tile=e,this.showTileBoundingSphere(),this.doFilterTile()}else this.hasPickedTile=!1,this._tile=void 0}}}),WB.prototype._update=function(){this.frustums&&(this.frustumStatisticText=function(e){let t;if((0,f.A)(e)){t="Command Statistics";const i=e.commandsInFrustums;for(const e in i)if(i.hasOwnProperty(e)){let n,r=parseInt(e,10);if(7===r)n="1, 2 and 3";else{const e=[];for(let t=2;t>=0;t--){const i=Math.pow(2,t);r>=i&&(e.push(t+1),r-=i)}n=e.reverse().join(" and ")}t+=`<br>&nbsp;&nbsp;&nbsp;&nbsp;${i[e]} in frustum ${n}`}t+=`<br>Total: ${e.totalCommands}`}return t}(this._scene.debugFrustumStatistics));const e=this._scene.numberOfFrustums;this._numberOfFrustums=e,this.depthFrustum=KB(1,e,this.depthFrustum),this.depthFrustumText=`${this.depthFrustum} of ${e}`,this.performance&&this._performanceDisplay.update(),this.primitiveReferenceFrame&&(this._modelMatrixPrimitive.modelMatrix=this._primitive.modelMatrix),this.shaderCacheText=`Cached shaders: ${this._scene.context.shaderCache.numberOfShaders}`},WB.prototype.isDestroyed=function(){return!1},WB.prototype.destroy=function(){return this._eventHandler.destroy(),this._removePostRenderEvent(),this._frustumsSubscription.dispose(),this._frustumPlanesSubscription.dispose(),this._performanceSubscription.dispose(),this._primitiveBoundingSphereSubscription.dispose(),this._primitiveReferenceFrameSubscription.dispose(),this._filterPrimitiveSubscription.dispose(),this._wireframeSubscription.dispose(),this._depthFrustumSubscription.dispose(),this._suspendUpdatesSubscription.dispose(),this._tileCoordinatesSubscription.dispose(),this._tileBoundingSphereSubscription.dispose(),this._filterTileSubscription.dispose(),this._pickPrimitiveActiveSubscription.dispose(),this._pickTileActiveSubscription.dispose(),(0,lA.A)(this)};const jB=WB;function JB(e,t){if(!(0,f.A)(e))throw new S.A("container is required.");if(!(0,f.A)(t))throw new S.A("scene is required.");e=(0,nl.A)(e);const i=document.createElement("div"),n=new jB(t,i);this._viewModel=n,this._container=e;const r=document.createElement("div");this._element=r;const o=document.createElement("div");o.textContent="Cesium Inspector",o.className="cesium-cesiumInspector-button",o.setAttribute("data-bind","click: toggleDropDown"),r.appendChild(o),r.className="cesium-cesiumInspector",r.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : dropDownVisible, "cesium-cesiumInspector-hidden" : !dropDownVisible }'),e.appendChild(this._element);const s=document.createElement("div");s.className="cesium-cesiumInspector-dropDown",r.appendChild(s);const a=AB.createSection,l=AB.createCheckbox,c=a(s,"General","generalVisible","toggleGeneral"),u=l("Show Frustums","frustums"),d=document.createElement("div");d.className="cesium-cesiumInspector-frustumStatistics",d.setAttribute("data-bind","visible: frustums, html: frustumStatisticText"),u.appendChild(d),c.appendChild(u),c.appendChild(l("Show Frustum Planes","frustumPlanes")),c.appendChild(l("Performance Display","performance")),i.className="cesium-cesiumInspector-performanceDisplay",c.appendChild(i);const h=document.createElement("div");h.className="cesium-cesiumInspector-shaderCache",h.setAttribute("data-bind","html: shaderCacheText"),c.appendChild(h);const p=document.createElement("div");c.appendChild(p);const m=document.createElement("span");m.setAttribute("data-bind",'html: "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Frustum:"'),p.appendChild(m);const A=document.createElement("span");A.setAttribute("data-bind","text: depthFrustumText"),p.appendChild(A);const g=document.createElement("input");g.type="button",g.value="-",g.className="cesium-cesiumInspector-pickButton",g.setAttribute("data-bind","click: decrementDepthFrustum"),p.appendChild(g);const _=document.createElement("input");_.type="button",_.value="+",_.className="cesium-cesiumInspector-pickButton",_.setAttribute("data-bind","click: incrementDepthFrustum"),p.appendChild(_);const y=a(s,"Primitives","primitivesVisible","togglePrimitives"),v=document.createElement("div");v.className="cesium-cesiumInspector-pickSection",y.appendChild(v);const b=document.createElement("input");b.type="button",b.value="Pick a primitive",b.className="cesium-cesiumInspector-pickButton",b.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickPrimitiveActive}, click: pickPrimitive');let w=document.createElement("div");w.className="cesium-cesiumInspector-center",w.appendChild(b),v.appendChild(w),v.appendChild(l("Show bounding sphere","primitiveBoundingSphere","hasPickedPrimitive")),v.appendChild(l("Show reference frame","primitiveReferenceFrame","hasPickedPrimitive")),this._primitiveOnly=l("Show only selected","filterPrimitive","hasPickedPrimitive"),v.appendChild(this._primitiveOnly);const x=a(s,"Terrain","terrainVisible","toggleTerrain"),C=document.createElement("div");C.className="cesium-cesiumInspector-pickSection",x.appendChild(C);const T=document.createElement("input");T.type="button",T.value="Pick a tile",T.className="cesium-cesiumInspector-pickButton",T.setAttribute("data-bind",'css: {"cesium-cesiumInspector-pickButtonHighlight" : pickTileActive}, click: pickTile'),w=document.createElement("div"),w.appendChild(T),w.className="cesium-cesiumInspector-center",C.appendChild(w);const P=document.createElement("div");C.appendChild(P);const E=document.createElement("input");E.type="button",E.value="Parent",E.className="cesium-cesiumInspector-pickButton",E.setAttribute("data-bind","click: selectParent");const M=document.createElement("input");M.type="button",M.value="NW",M.className="cesium-cesiumInspector-pickButton",M.setAttribute("data-bind","click: selectNW");const k=document.createElement("input");k.type="button",k.value="NE",k.className="cesium-cesiumInspector-pickButton",k.setAttribute("data-bind","click: selectNE");const I=document.createElement("input");I.type="button",I.value="SW",I.className="cesium-cesiumInspector-pickButton",I.setAttribute("data-bind","click: selectSW");const B=document.createElement("input");B.type="button",B.value="SE",B.className="cesium-cesiumInspector-pickButton",B.setAttribute("data-bind","click: selectSE");const O=document.createElement("div");O.className="cesium-cesiumInspector-tileText",P.className="cesium-cesiumInspector-frustumStatistics",P.appendChild(O),P.setAttribute("data-bind","visible: hasPickedTile"),O.setAttribute("data-bind","html: tileText");const R=document.createElement("div");R.className="cesium-cesiumInspector-relativeText",R.textContent="Select relative:",P.appendChild(R);const F=document.createElement("table"),D=document.createElement("tr"),L=document.createElement("tr"),V=document.createElement("td");V.appendChild(E);const N=document.createElement("td");N.appendChild(M);const U=document.createElement("td");U.appendChild(k),D.appendChild(V),D.appendChild(N),D.appendChild(U);const G=document.createElement("td"),z=document.createElement("td");z.appendChild(I);const K=document.createElement("td");K.appendChild(B),L.appendChild(G),L.appendChild(z),L.appendChild(K),F.appendChild(D),F.appendChild(L),P.appendChild(F),C.appendChild(l("Show bounding volume","tileBoundingSphere","hasPickedTile")),C.appendChild(l("Show only selected","filterTile","hasPickedTile")),x.appendChild(l("Wireframe","wireframe")),x.appendChild(l("Suspend LOD update","suspendUpdates")),x.appendChild(l("Show tile coordinates","tileCoordinates")),EB.A.applyBindings(n,this._element)}Object.defineProperties(JB.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),JB.prototype.isDestroyed=function(){return!1},JB.prototype.destroy=function(){return EB.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,lA.A)(this)};const XB=JB;var $B=i(877987),YB=i(377909),ZB=i(413369),QB=i(300347),eO=i(217263),tO=i(863529),iO=i(506527),nO=i(504377),rO=i(221899),oO=i(720749);function sO(e){if(!(0,f.A)(e)||!(0,f.A)(e.scene))throw new S.A("options.scene is required.");this._scene=e.scene,this.lowFrameRateMessage=(0,p.A)(e.lowFrameRateMessage,"This application appears to be performing poorly on your system.  Please try using a different web browser or updating your video drivers."),this.lowFrameRateMessageDismissed=!1,this.showingLowFrameRateMessage=!1,EB.A.track(this,["lowFrameRateMessage","lowFrameRateMessageDismissed","showingLowFrameRateMessage"]);const t=this;this._dismissMessage=(0,yB.A)((function(){t.showingLowFrameRateMessage=!1,t.lowFrameRateMessageDismissed=!0}));const i=Qv.fromScene(e.scene);this._unsubscribeLowFrameRate=i.lowFrameRate.addEventListener((function(){t.lowFrameRateMessageDismissed||(t.showingLowFrameRateMessage=!0)})),this._unsubscribeNominalFrameRate=i.nominalFrameRate.addEventListener((function(){t.showingLowFrameRateMessage=!1}))}Object.defineProperties(sO.prototype,{scene:{get:function(){return this._scene}},dismissMessage:{get:function(){return this._dismissMessage}}}),sO.prototype.destroy=function(){return this._unsubscribeLowFrameRate(),this._unsubscribeNominalFrameRate(),(0,lA.A)(this)};const aO=sO;function lO(e){if(!(0,f.A)(e)||!(0,f.A)(e.container))throw new S.A("options.container is required.");if(!(0,f.A)(e.scene))throw new S.A("options.scene is required.");const t=(0,nl.A)(e.container),i=new aO(e),n=document.createElement("div");n.className="cesium-performance-watchdog-message-area",n.setAttribute("data-bind","visible: showingLowFrameRateMessage");const r=document.createElement("button");r.setAttribute("type","button"),r.className="cesium-performance-watchdog-message-dismiss",r.innerHTML="&times;",r.setAttribute("data-bind","click: dismissMessage"),n.appendChild(r);const o=document.createElement("div");o.className="cesium-performance-watchdog-message",o.setAttribute("data-bind","html: lowFrameRateMessage"),n.appendChild(o),t.appendChild(n),EB.A.applyBindings(i,n),this._container=t,this._viewModel=i,this._element=n}Object.defineProperties(lO.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),lO.prototype.isDestroyed=function(){return!1},lO.prototype.destroy=function(){return this._viewModel.destroy(),EB.A.cleanNode(this._element),this._container.removeChild(this._element),(0,lA.A)(this)};const cO=lO;var uO=i(72211),dO=i(522437),hO=i(288823),pO=i(828033),fO=i(363439),mO=i(956009),AO=i(973292),gO=i(595394),_O=i(544835),yO=i(273578),vO=i(249944),bO=i(674221),wO=i(316375),xO=i(123905);const CO=function(e){Ce.A.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-cesium3DTilesInspectorContainer",e.container.appendChild(t);const i=new zB(t,e.scene);Object.defineProperties(e,{cesium3DTilesInspector:{get:function(){return i}}})},SO=function(e){if(!(0,f.A)(e))throw new S.A("viewer is required.");const t=document.createElement("div");t.className="cesium-viewer-cesiumInspectorContainer",e.container.appendChild(t);const i=new XB(t,e.scene);Object.defineProperties(e,{cesiumInspector:{get:function(){return i}}})};function TO(e){e.stopPropagation(),e.preventDefault()}function PO(e,t){const i=e;(0,f.A)(i)&&(i.removeEventListener("drop",t,!1),i.removeEventListener("dragenter",TO,!1),i.removeEventListener("dragover",TO,!1),i.removeEventListener("dragexit",TO,!1))}function EO(e,t){e.addEventListener("drop",t,!1),e.addEventListener("dragenter",TO,!1),e.addEventListener("dragover",TO,!1),e.addEventListener("dragexit",TO,!1)}function MO(e,t,i,n){const r=e.scene;return function(o){const s=t.name;try{let a;if(/\.czml$/i.test(s))a=Ki.load(JSON.parse(o.target.result),{sourceUri:s});else if(/\.geojson$/i.test(s)||/\.json$/i.test(s)||/\.topojson$/i.test(s))a=Yi.A.load(JSON.parse(o.target.result),{sourceUri:s,clampToGround:n});else if(/\.(kml|kmz)$/i.test(s))a=Rc.load(t,{sourceUri:s,proxy:i,camera:r.camera,canvas:r.canvas,clampToGround:n,screenOverlayContainer:e.container});else{if(!/\.gpx$/i.test(s))return void e.dropError.raiseEvent(e,s,`Unrecognized file: ${s}`);a=Wr.load(t,{sourceUri:s,proxy:i})}(0,f.A)(a)&&e.dataSources.add(a).then((function(t){e.flyToOnDrop&&e.flyTo(t)})).catch((function(t){e.dropError.raiseEvent(e,s,t)}))}catch(t){e.dropError.raiseEvent(e,s,t)}}}function kO(e,t){return function(i){e.dropError.raiseEvent(e,t.name,i.target.error)}}const IO=function(e,t){if(!(0,f.A)(e))throw new S.A("viewer is required.");if(e.hasOwnProperty("dropTarget"))throw new S.A("dropTarget is already defined by another mixin.");if(e.hasOwnProperty("dropEnabled"))throw new S.A("dropEnabled is already defined by another mixin.");if(e.hasOwnProperty("dropError"))throw new S.A("dropError is already defined by another mixin.");if(e.hasOwnProperty("clearOnDrop"))throw new S.A("clearOnDrop is already defined by another mixin.");if(e.hasOwnProperty("flyToOnDrop"))throw new S.A("flyToOnDrop is already defined by another mixin.");t=(0,p.A)(t,p.A.EMPTY_OBJECT);let i=!0,n=(0,p.A)(t.flyToOnDrop,!0);const r=new m.A;let o=(0,p.A)(t.clearOnDrop,!0),s=(0,p.A)(t.dropTarget,e.container),a=(0,p.A)(t.clampToGround,!0),l=t.proxy;function c(t){TO(t),o&&(e.entities.removeAll(),e.dataSources.removeAll());const i=t.dataTransfer.files,n=i.length;for(let t=0;t<n;t++){const n=i[t],r=new FileReader;r.onload=MO(e,n,l,a),r.onerror=kO(e,n),r.readAsText(n)}}s=(0,nl.A)(s),Object.defineProperties(e,{dropTarget:{get:function(){return s},set:function(e){if(!(0,f.A)(e))throw new S.A("value is required.");PO(s,c),s=e,EO(s,c)}},dropEnabled:{get:function(){return i},set:function(e){e!==i&&(e?EO(s,c):PO(s,c),i=e)}},dropError:{get:function(){return r}},clearOnDrop:{get:function(){return o},set:function(e){o=e}},flyToOnDrop:{get:function(){return n},set:function(e){n=e}},proxy:{get:function(){return l},set:function(e){l=e}},clampToGround:{get:function(){return a},set:function(e){a=e}}}),EO(s,c),e.destroy=ZA(e,e.destroy,(function(){e.dropEnabled=!1})),e._handleDrop=c},BO=function(e,t){if(!(0,f.A)(e))throw new S.A("viewer is required.");t=(0,p.A)(t,p.A.EMPTY_OBJECT);const i=new cO({scene:e.scene,container:e.bottomContainer,lowFrameRateMessage:t.lowFrameRateMessage});Object.defineProperties(e,{performanceWatchdog:{get:function(){return i}}})};function OO(e){const t=e.split("\n");let i;for(i=0;i<t.length&&!t[i].match(/\S/);i++);if(i===t.length)return"";let n="";const r=/^\s*/,o=t[i].match(r)[0].length;for(let e=i;e<t.length;e++){let i=t[e];i.match(r)[0].length>=o&&(i=i.slice(o)),n+=`${i}\n`}return n}function RO(e){Ce.A.typeOf.object("scene",e),this._scene=e,this._voxelPrimitive=void 0,this._customShaderCompilationRemoveCallback=void 0,this._definedProperties=[],this._getPrimitiveFunctions=[],this._modelMatrixReady=!1;const t=this;function i(i){const{name:n,initialValue:r}=i;t._definedProperties.push(n);let o=i.setPrimitiveFunction;!0===o&&(o=function(e){t._voxelPrimitive[n]=e});let s=i.getPrimitiveFunction;!0===s&&(s=function(){t[n]=t._voxelPrimitive[n]}),(0,f.A)(s)&&t._getPrimitiveFunctions.push(s);const a=EB.A.observable();return EB.A.defineProperty(t,n,{get:function(){return a()},set:function(i){"number"==typeof r&&"string"==typeof i&&(i=Number(i),isNaN(i)&&(i=r)),"boolean"==typeof r&&"number"==typeof i&&(i=1===i),a(i),(0,f.A)(o)&&(0,f.A)(t._voxelPrimitive)&&(o(i),e.requestRender())}}),t[n]=r,a}function n(e,i){return function(n){const r=t._voxelPrimitive[e].clone();r[i]=n,t._voxelPrimitive[e]=r}}i({name:"inspectorVisible",initialValue:!0}),i({name:"displayVisible",initialValue:!1}),i({name:"transformVisible",initialValue:!1}),i({name:"boundsVisible",initialValue:!1}),i({name:"clippingVisible",initialValue:!1}),i({name:"shaderVisible",initialValue:!1}),i({name:"shaderString",initialValue:"",getPrimitiveFunction:function(){const e=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=OO(e)}}),i({name:"shaderCompilationMessage",initialValue:""}),i({name:"shaderCompilationSuccess",initialValue:!0}),i({name:"depthTest",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"show",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"disableUpdate",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"debugDraw",initialValue:!1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"jitter",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"nearestSampling",initialValue:!0,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"screenSpaceError",initialValue:4,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"stepSize",initialValue:1,setPrimitiveFunction:!0,getPrimitiveFunction:!0}),i({name:"shapeIsBox",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsBox=e===ly.A.BOX}}),i({name:"shapeIsEllipsoid",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsEllipsoid=e===ly.A.ELLIPSOID}}),i({name:"shapeIsCylinder",getPrimitiveFunction:function(){const e=t._voxelPrimitive.shape;t.shapeIsCylinder=e===ly.A.CYLINDER}}),i({name:"boundsBoxMaxX",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsBoxMaxX=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsBoxMinX",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsBoxMinX=t._voxelPrimitive.minBounds.x}}),i({name:"boundsBoxMaxY",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsBoxMaxY=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsBoxMinY",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsBoxMinY=t._voxelPrimitive.minBounds.y}}),i({name:"boundsBoxMaxZ",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsBoxMaxZ=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsBoxMinZ",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsBoxMinZ=t._voxelPrimitive.minBounds.z}}),i({name:"boundsEllipsoidMaxLongitude",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLongitude=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsEllipsoidMinLongitude",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLongitude=t._voxelPrimitive.minBounds.x}}),i({name:"boundsEllipsoidMaxLatitude",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxLatitude=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsEllipsoidMinLatitude",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsEllipsoidMinLatitude=t._voxelPrimitive.minBounds.y}}),i({name:"boundsEllipsoidMaxHeight",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsEllipsoidMaxHeight=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsEllipsoidMinHeight",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsEllipsoidMinHeight=t._voxelPrimitive.minBounds.z}}),i({name:"boundsCylinderMaxRadius",initialValue:0,setPrimitiveFunction:n("maxBounds","x"),getPrimitiveFunction:function(){t.boundsCylinderMaxRadius=t._voxelPrimitive.maxBounds.x}}),i({name:"boundsCylinderMinRadius",initialValue:0,setPrimitiveFunction:n("minBounds","x"),getPrimitiveFunction:function(){t.boundsCylinderMinRadius=t._voxelPrimitive.minBounds.x}}),i({name:"boundsCylinderMaxHeight",initialValue:0,setPrimitiveFunction:n("maxBounds","y"),getPrimitiveFunction:function(){t.boundsCylinderMaxHeight=t._voxelPrimitive.maxBounds.y}}),i({name:"boundsCylinderMinHeight",initialValue:0,setPrimitiveFunction:n("minBounds","y"),getPrimitiveFunction:function(){t.boundsCylinderMinHeight=t._voxelPrimitive.minBounds.y}}),i({name:"boundsCylinderMaxAngle",initialValue:0,setPrimitiveFunction:n("maxBounds","z"),getPrimitiveFunction:function(){t.boundsCylinderMaxAngle=t._voxelPrimitive.maxBounds.z}}),i({name:"boundsCylinderMinAngle",initialValue:0,setPrimitiveFunction:n("minBounds","z"),getPrimitiveFunction:function(){t.boundsCylinderMinAngle=t._voxelPrimitive.minBounds.z}}),i({name:"clippingBoxMaxX",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMaxX=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingBoxMinX",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingBoxMinX=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingBoxMaxY",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMaxY=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingBoxMinY",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingBoxMinY=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingBoxMaxZ",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMaxZ=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingBoxMinZ",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingBoxMinZ=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingEllipsoidMaxLongitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLongitude=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingEllipsoidMinLongitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLongitude=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingEllipsoidMaxLatitude",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxLatitude=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingEllipsoidMinLatitude",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingEllipsoidMinLatitude=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingEllipsoidMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMaxHeight=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingEllipsoidMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingEllipsoidMinHeight=t._voxelPrimitive.minClippingBounds.z}}),i({name:"clippingCylinderMaxRadius",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMaxRadius=t._voxelPrimitive.maxClippingBounds.x}}),i({name:"clippingCylinderMinRadius",initialValue:0,setPrimitiveFunction:n("minClippingBounds","x"),getPrimitiveFunction:function(){t.clippingCylinderMinRadius=t._voxelPrimitive.minClippingBounds.x}}),i({name:"clippingCylinderMaxHeight",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMaxHeight=t._voxelPrimitive.maxClippingBounds.y}}),i({name:"clippingCylinderMinHeight",initialValue:0,setPrimitiveFunction:n("minClippingBounds","y"),getPrimitiveFunction:function(){t.clippingCylinderMinHeight=t._voxelPrimitive.minClippingBounds.y}}),i({name:"clippingCylinderMaxAngle",initialValue:0,setPrimitiveFunction:n("maxClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMaxAngle=t._voxelPrimitive.maxClippingBounds.z}}),i({name:"clippingCylinderMinAngle",initialValue:0,setPrimitiveFunction:n("minClippingBounds","z"),getPrimitiveFunction:function(){t.clippingCylinderMinAngle=t._voxelPrimitive.minClippingBounds.z}}),i({name:"translationX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.translationX=Yd.A.getTranslation(t._voxelPrimitive.modelMatrix,new Z.A).x}}),i({name:"translationY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.translationY=Yd.A.getTranslation(t._voxelPrimitive.modelMatrix,new Z.A).y}}),i({name:"translationZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.translationZ=Yd.A.getTranslation(t._voxelPrimitive.modelMatrix,new Z.A).z}}),i({name:"scaleX",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.scaleX=Yd.A.getScale(t._voxelPrimitive.modelMatrix,new Z.A).x}}),i({name:"scaleY",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.scaleY=Yd.A.getScale(t._voxelPrimitive.modelMatrix,new Z.A).y}}),i({name:"scaleZ",initialValue:1,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)},getPrimitiveFunction:function(){t.scaleZ=Yd.A.getScale(t._voxelPrimitive.modelMatrix,new Z.A).z}}),i({name:"angleX",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)}}),i({name:"angleY",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)}}),i({name:"angleZ",initialValue:0,setPrimitiveFunction:function(){t._modelMatrixReady&&NO(t)}})}const FO=new Z.A,DO=new Z.A,LO=new io.A,VO=new Dt.A;function NO(e){const t=Z.A.fromElements(e.translationX,e.translationY,e.translationZ,FO),i=Z.A.fromElements(e.scaleX,e.scaleY,e.scaleZ,DO),n=LO;n.heading=e.angleX,n.pitch=e.angleY,n.roll=e.angleZ;const r=Dt.A.fromHeadingPitchRoll(n,VO),o=Dt.A.multiplyByScale(r,i,r);e._voxelPrimitive.modelMatrix=Yd.A.fromRotationTranslation(o,t,e._voxelPrimitive.modelMatrix)}Object.defineProperties(RO.prototype,{scene:{get:function(){return this._scene}},voxelPrimitive:{get:function(){return this._voxelPrimitive},set:function(e){if((0,f.A)(this._customShaderCompilationRemoveCallback)&&this._customShaderCompilationRemoveCallback(),(0,f.A)(e)){this._voxelPrimitive=e;const t=this;t._voxelPrimitive._readyPromise.then((function(){t._customShaderCompilationRemoveCallback=t._voxelPrimitive.customShaderCompilationEvent.addEventListener((function(e){const i=t._voxelPrimitive.customShader.fragmentShaderText;t.shaderString=OO(i),(0,f.A)(e)?(t.shaderCompilationMessage=e.message,t.shaderCompilationSuccess=!1):(t.shaderCompilationMessage="Shader compiled successfully!",t.shaderCompilationSuccess=!0)})),t._modelMatrixReady=!1;for(let e=0;e<t._getPrimitiveFunctions.length;e++)t._getPrimitiveFunctions[e]();t._modelMatrixReady=!0,NO(t)}))}}}}),RO.prototype.toggleInspector=function(){this.inspectorVisible=!this.inspectorVisible},RO.prototype.toggleDisplay=function(){this.displayVisible=!this.displayVisible},RO.prototype.toggleTransform=function(){this.transformVisible=!this.transformVisible},RO.prototype.toggleBounds=function(){this.boundsVisible=!this.boundsVisible},RO.prototype.toggleClipping=function(){this.clippingVisible=!this.clippingVisible},RO.prototype.toggleShader=function(){this.shaderVisible=!this.shaderVisible},RO.prototype.compileShader=function(){(0,f.A)(this._voxelPrimitive)&&(this._voxelPrimitive.customShader=new FE.A({fragmentShaderText:this.shaderString,uniforms:this._voxelPrimitive.customShader.uniforms}))},RO.prototype.shaderEditorKeyPress=function(e,t){if(9===t.keyCode){t.preventDefault();const e=t.target,i=e.selectionStart,n=e.selectionEnd;let r=n;const o=e.value.slice(i,n).split("\n"),s=o.length;let a;if(t.shiftKey)for(a=0;a<s;++a)" "===o[a][0]&&(" "===o[a][1]?(o[a]=o[a].substr(2),r-=2):(o[a]=o[a].substr(1),r-=1));else for(a=0;a<s;++a)o[a]=`  ${o[a]}`,r+=2;const l=o.join("\n");e.value=e.value.slice(0,i)+l+e.value.slice(n),e.selectionStart=i!==n?i:r,e.selectionEnd=r}else!t.ctrlKey||10!==t.keyCode&&13!==t.keyCode||this.compileShader();return!0},RO.prototype.isDestroyed=function(){return!1},RO.prototype.destroy=function(){const e=this;return this._definedProperties.forEach((function(t){EB.A.getObservable(e,t).dispose()})),(0,lA.A)(this)};const UO=RO;function GO(e,t){Ce.A.defined("container",e),Ce.A.typeOf.object("scene",t),e=(0,nl.A)(e);const i=document.createElement("div"),n=new UO(t);this._viewModel=n,this._container=e,this._element=i;const r=document.createElement("div");r.textContent="Voxel Inspector",r.className="cesium-cesiumInspector-button",r.setAttribute("data-bind","click: toggleInspector"),i.appendChild(r),i.className="cesium-cesiumInspector cesium-VoxelInspector",i.setAttribute("data-bind",'css: { "cesium-cesiumInspector-visible" : inspectorVisible, "cesium-cesiumInspector-hidden" : !inspectorVisible}'),e.appendChild(i);const o=document.createElement("div");o.className="cesium-cesiumInspector-dropDown",i.appendChild(o);const s=AB.createSection,a=AB.createCheckbox,l=AB.createRangeInput,c=AB.createButton,u=s(o,"Display","displayVisible","toggleDisplay"),d=s(o,"Transform","transformVisible","toggleTransform"),h=s(o,"Bounds","boundsVisible","toggleBounds"),p=s(o,"Clipping","clippingVisible","toggleClipping"),f=s(o,"Shader","shaderVisible","toggleShader");u.appendChild(a("Depth Test","depthTest")),u.appendChild(a("Show","show")),u.appendChild(a("Disable Update","disableUpdate")),u.appendChild(a("Debug Draw","debugDraw")),u.appendChild(a("Jitter","jitter")),u.appendChild(a("Nearest Sampling","nearestSampling")),u.appendChild(l("Screen Space Error","screenSpaceError",0,128)),u.appendChild(l("Step Size","stepSize",0,2));const m=T.A.PI;d.appendChild(l("Translation X","translationX",-10,10)),d.appendChild(l("Translation Y","translationY",-10,10)),d.appendChild(l("Translation Z","translationZ",-10,10)),d.appendChild(l("Scale X","scaleX",0,10)),d.appendChild(l("Scale Y","scaleY",0,10)),d.appendChild(l("Scale Z","scaleZ",0,10)),d.appendChild(l("Heading","angleX",-m,+m)),d.appendChild(l("Pitch","angleY",-m,+m)),d.appendChild(l("Roll","angleZ",-m,+m));const A=ly.A.getMinBounds(ly.A.BOX),g=ly.A.getMaxBounds(ly.A.BOX),_=Z.A.fromElements(ly.A.getMinBounds(ly.A.ELLIPSOID).x,ly.A.getMinBounds(ly.A.ELLIPSOID).y,-oe.A.WGS84.maximumRadius,new Z.A),y=Z.A.fromElements(ly.A.getMaxBounds(ly.A.ELLIPSOID).x,ly.A.getMaxBounds(ly.A.ELLIPSOID).y,1e7,new Z.A),v=ly.A.getMinBounds(ly.A.CYLINDER),b=ly.A.getMaxBounds(ly.A.CYLINDER);zO("Max X","Min X","Max Y","Min Y","Max Z","Min Z","boundsBoxMaxX","boundsBoxMinX","boundsBoxMaxY","boundsBoxMinY","boundsBoxMaxZ","boundsBoxMinZ",A,g,"shapeIsBox",h),zO("Max Longitude","Min Longitude","Max Latitude","Min Latitude","Max Height","Min Height","boundsEllipsoidMaxLongitude","boundsEllipsoidMinLongitude","boundsEllipsoidMaxLatitude","boundsEllipsoidMinLatitude","boundsEllipsoidMaxHeight","boundsEllipsoidMinHeight",_,y,"shapeIsEllipsoid",h),zO("Max Radius","Min Radius","Max Height","Min Height","Max Angle","Min Angle","boundsCylinderMaxRadius","boundsCylinderMinRadius","boundsCylinderMaxHeight","boundsCylinderMinHeight","boundsCylinderMaxAngle","boundsCylinderMinAngle",v,b,"shapeIsCylinder",h),zO("Max X","Min X","Max Y","Min Y","Max Z","Min Z","clippingBoxMaxX","clippingBoxMinX","clippingBoxMaxY","clippingBoxMinY","clippingBoxMaxZ","clippingBoxMinZ",A,g,"shapeIsBox",p),zO("Max Longitude","Min Longitude","Max Latitude","Min Latitude","Max Height","Min Height","clippingEllipsoidMaxLongitude","clippingEllipsoidMinLongitude","clippingEllipsoidMaxLatitude","clippingEllipsoidMinLatitude","clippingEllipsoidMaxHeight","clippingEllipsoidMinHeight",_,y,"shapeIsEllipsoid",p),zO("Max Radius","Min Radius","Max Height","Min Height","Max Angle","Min Angle","clippingCylinderMaxRadius","clippingCylinderMinRadius","clippingCylinderMaxHeight","clippingCylinderMinHeight","clippingCylinderMaxAngle","clippingCylinderMinAngle",v,b,"shapeIsCylinder",p);const w=document.createElement("div");f.appendChild(w);const x=document.createElement("textarea");x.setAttribute("data-bind","textInput: shaderString, event: { keydown: shaderEditorKeyPress }"),w.className="cesium-cesiumInspector-styleEditor",w.appendChild(x);const C=c("Compile (Ctrl+Enter)","compileShader");w.appendChild(C);const S=document.createElement("label");S.style.display="block",S.setAttribute("data-bind","text: shaderCompilationMessage, style: {color: shaderCompilationSuccess ? 'green' : 'red'}"),w.appendChild(S),EB.A.applyBindings(n,i)}function zO(e,t,i,n,r,o,s,a,l,c,u,d,h,p,f,m){const A=AB.createRangeInput,g=h,_=p,y=m.appendChild(document.createElement("div"));y.setAttribute("data-bind",`if: ${f}`),y.appendChild(A(e,s,g.x,_.x)),y.appendChild(A(t,a,g.x,_.x)),y.appendChild(A(i,l,g.y,_.y)),y.appendChild(A(n,c,g.y,_.y)),y.appendChild(A(r,u,g.z,_.z)),y.appendChild(A(o,d,g.z,_.z))}Object.defineProperties(GO.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),GO.prototype.isDestroyed=function(){return!1},GO.prototype.destroy=function(){return EB.A.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),(0,lA.A)(this)};const KO=GO,qO=function(e){Ce.A.typeOf.object("viewer",e);const t=document.createElement("div");t.className="cesium-viewer-voxelInspectorContainer",e.container.appendChild(t);const i=new KO(t,e.scene);Object.defineProperties(e,{voxelInspector:{get:function(){return i}}})},HO="1.106.1"}}]);