"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[18155],{57234:(e,o,n)=>{n.r(o),n.d(o,{default:()=>R});var r=n(273517),l=n.n(r),t=n(811668),a=n(801081),i=n(962193),d=n.n(i),u=n(8117),s=n(393149),c=n(425380),p=n(8571),m=n(836970),w=n(164045),v=n(172175),g=n(66178),y=n(61365);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(null,arguments)}var f={button:(0,w.A)(m.A),menuItem:u.Dr},E=(0,t.connect)((0,a.Mz)([v.xF,y.Y8],function(e,o){return{resourceData:e,downloading:o}}),{onAction:g.vz})(function(e){var o,n,r=e.resource,t=e.resourceData,a=e.variant,i=e.size,s=e.onAction,m=void 0===s?function(){}:s,w=e.renderType,v=void 0===w?"button":w,g=e.showIcon,y=e.downloadMsgId,E=void 0===y?"gnviewer.download":y,R=e.allowedSources,_=void 0===R?[c.m7.LOCAL,c.m7.REMOTE]:R,h=e.downloading,A=f[v],D="menuItem"!==v,I=null!=r?r:t,C=(0,c.yy)(I),k=(0,c.ow)(I),O=!Boolean(null==C?void 0:C.ajaxSafe);return d()(null==I?void 0:I.download_urls)&&(null==I||null===(o=I.perms)||void 0===o||!o.includes("download_resourcebase"))||null==I||null===(n=I.perms)||void 0===n||!n.includes("download_resourcebase")||!D&&O||[c.sy.REST_MAP,c.sy.REST_IMG].includes(null==I?void 0:I.ptype)||!_.includes(null==I?void 0:I.sourcetype)?null:O?C.url?l().createElement(A,b({},D&&{variant:a,size:i},g&&{tooltipId:E},{download:!0,href:C.url,target:"_blank",rel:"noopener noreferrer"}),g?l().createElement(u.e6,{glyph:k?"new-window":"download"}):l().createElement(p.A,{msgId:E})):null:l().createElement(A,b({disabled:!!h,onClick:function(){return h?null:m(I)}},D&&{variant:a,size:i},g&&{tooltipId:E}),g?l().createElement(u.e6,{glyph:"download"}):l().createElement(p.A,{msgId:E}))});const R=(0,s.i1)("DownloadResource",{component:E,containers:{ActionNavbar:{name:"DownloadResource",Component:E,priority:1},ResourcesGrid:{name:"downloadResource",target:"cardOptions",detailsToolbar:!0,Component:E,priority:1},ResourceDetails:{name:"DownloadResource",target:"toolbar",Component:E,priority:1,position:1},LayerDownload:{name:"DownloadResource",Component:E,priority:1}},epics:{},reducers:{}})}}]);