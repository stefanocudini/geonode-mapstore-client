"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2970],{539495:(n,e,t)=>{t.r(e),t.d(e,{default:()=>j});var r=t(273517),o=t.n(r),a=t(605556),l=t.n(a),u=t(393149),i=t(811668),c=t(801081),s=t(8571),f=t(836970),d=t(794689),v=t(425380),b=t(904059),p=t(273494),m=t(415392),y=t(270368),g=t(97401),h=t(777693);var C=["onAdd","onZoomTo"],A=["enabled"];function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},w.apply(null,arguments)}function O(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function E(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(-1!==e.indexOf(r))continue;t[r]=n[r]}return t}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],-1===e.indexOf(t)&&{}.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function S(n){var e,t,a=n.onAdd,l=n.onZoomTo,u=E(n,C),i=function(){var n=(0,r.useRef)();return(0,r.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),function(e){return e&&n.current&&e(),!!n.current}}(),c=(e=(0,r.useState)(!1),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,l,u=[],i=!0,c=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=a.call(t)).done)&&(u.push(r.value),u.length!==e);i=!0);}catch(n){c=!0,o=n}finally{try{if(!i&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw o}}return u}}(e,t)||function(n,e){if(n){if("string"==typeof n)return O(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],f=c[1];return o().createElement(h.A,w({},u,{loading:s,onSelect:function(n){f(!0),((0,v.Qh)(n.subtype)?(0,d.VW)(n.pk):(0,d.V$)(n.pk)).then((function(n){var e,t,r=(0,v.zy)(n);a(r);var o,u=(null==r||null===(e=r.bbox)||void 0===e?void 0:e.bounds)||{},i=u.minx,c=u.miny,s=u.maxx,f=u.maxy,d=(null==r||null===(t=r.bbox)||void 0===t?void 0:t.bounds)&&[i,c,s,f];d&&l(d,null==r||null===(o=r.bbox)||void 0===o?void 0:o.crs)})).finally((function(){i((function(){return f(!1)}))}))}}))}S.propTypes={request:l().func,responseToEntries:l().func,pageSize:l().number,onAdd:l().func,placeholderId:l().string,onClose:l().func,onZoomTo:l().func},S.defaultProps={request:d.yT,responseToEntries:function(n){return n.resources},pageSize:10,onAdd:function(){},placeholderId:"gnviewer.datasetsCatalogFilterPlaceholder",titleId:"gnviewer.datasetsCatalogTitle",noResultId:"gnviewer.datasetsCatalogEntriesNoResults",onZoomTo:function(){},onClose:function(){}};var T=(0,i.connect)((0,c.Mz)([function(n){return(0,g.o7)(n,{height:!0})},function(n){var e;return null==n||null===(e=n.controls)||void 0===e||null===(e=e.datasetsCatalog)||void 0===e?void 0:e.enabled}],(function(n,e){return{style:n,enabled:e}})),{onAdd:b.VE,onClose:m.fN.bind(null,"datasetsCatalog","enabled",!1),onZoomTo:p.jc})((function(n){var e=n.enabled,t=E(n,A);return e?o().createElement(S,t):null})),x=(0,i.connect)((0,c.Mz)([],(function(){return{}})),{onClick:m.fN.bind(null,"datasetsCatalog","enabled",!0)})((function(n){var e=n.onClick,t=n.size,r=n.variant;return o().createElement(f.A,{size:t,onClick:function(){e()},variant:r},o().createElement(s.A,{msgId:"gnviewer.addLayer"}))}));const j=(0,u.i1)("DatasetsCatalog",{component:T,containers:{ActionNavbar:{name:"DatasetsCatalog",Component:x}},epics:y.A,reducers:{}})}}]);