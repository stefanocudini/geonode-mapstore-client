"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[5069],{167491:(e,r,n)=>{n.d(r,{$A:()=>c,DD:()=>o,DX:()=>v,F5:()=>l,J3:()=>b,LG:()=>i,L_:()=>A,Ms:()=>t,R4:()=>p,S5:()=>d,ZZ:()=>S,h:()=>m,iN:()=>u,p4:()=>O,pK:()=>y,r1:()=>f,v2:()=>a,y:()=>s});var t="IMPORT::SET_LAYERS",o="IMPORT::ON_ERROR",a="IMPORT::ON_SELECT_LAYER",l="IMPORT::LOADING",i="IMPORT::ON_LAYER_ADDED",u="IMPORT::UPDATE_BBOX",s="IMPORT::ON_SUCCESS",c="ON_SHAPE_ERROR",p="IMPORT::ON_LAYER_SKIPPED";function m(e,r){return{type:t,layers:e,errors:r}}function y(e){return{type:a,layer:e}}function d(e){return{type:o,error:e}}function f(e){return{type:l,status:e}}function O(e){return{type:i,layer:e}}function b(e){return{type:u,bbox:e}}function A(e){return{type:s,message:e}}function v(e){return{type:c,message:e}}function S(e){return{type:p,layer:e}}},957421:(e,r,n)=>{n.d(r,{B:()=>t,J:()=>o});var t="SET_STYLE_PARAMETER";function o(e,r){return{type:t,name:e,value:r}}},446176:(e,r,n)=>{n.d(r,{B0:()=>v,EE:()=>y,EZ:()=>p,Fk:()=>s,HD:()=>O,I:()=>i,IL:()=>m,IS:()=>E,NO:()=>S,O8:()=>N,Qn:()=>a,RG:()=>f,TA:()=>A,_G:()=>d,dC:()=>o,eO:()=>b,gl:()=>T,jT:()=>u,ol:()=>g,rC:()=>l,vM:()=>t,xn:()=>c});var t="ANNOTATIONS:EDIT",o="ANNOTATIONS:DOWNLOAD",a="ANNOTATIONS:LOAD_ANNOTATIONS",l="ANNOTATIONS:NEW",i="ANNOTATIONS:CLOSE",u="ANNOTATIONS:CONFIRM_CLOSE",s="ANNOTATIONS:CANCEL_CLOSE",c="ANNOTATIONS:REMOVE",p="ANNOTATIONS:STORE_SESSION",m="ANNOTATIONS:MERGE_FEATURES",y="ANNOTATIONS:SELECT_FEATURE",d=function(e){return{type:t,id:e}},f=function(e){return{type:o,annotations:e}},O=function(e){return{type:a,features:e,override:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},b=function(){return{type:l}},A=function(){return{type:i}},v=function(e){return{type:u,layer:e}},S=function(){return{type:s}},N=function(e){return{type:c,id:e}},g=function(e){return{type:p,session:e}},T=function(e,r){return{type:m,id:e,annotation:r}},E=function(e){return{type:y,id:e}}},29489:(e,r,n)=>{n.d(r,{Kn:()=>s,_L:()=>p,bd:()=>c,gu:()=>i,kv:()=>u,vC:()=>l});var t=n(801081),o=n(307679),a=n(535273),l=(0,t.Mz)([o.Kv],function(e){return e.find(a.fd)}),i=(0,t.Mz)([o.Kv],function(e){return e.filter(a.fd)}),u=function(e){var r=(0,o.ZT)(e);return r&&(0,a.fd)(r)?r:null},s=function(e){var r;return null==e||null===(r=e.annotations)||void 0===r?void 0:r.editing},c=function(e){var r;return null==e||null===(r=e.annotations)||void 0===r?void 0:r.session},p=function(e){var r;return null==e||null===(r=e.annotations)||void 0===r?void 0:r.featureId}},72100:(e,r,n)=>{n.r(r),n.d(r,{default:()=>b});var t=n(273517),o=n.n(t),a=n(811668),l=n(129519),i=n(167491),u=n(883832),s=n(273494),c=n(904059),p=n(446176),m=n(29489),y=n(415392),d=n(8117),f=n(747135),O=n(327229);const b={MapImportPlugin:Object.assign({loadPlugin:function(e){Promise.all([n.e(83085),n.e(46929)]).then(n.bind(n,946929)).then(function(r){var n=r.default,t=(0,a.connect)(function(e,r){return{enabled:e.controls&&e.controls.mapimport&&e.controls.mapimport.enabled,layers:e.mapimport&&e.mapimport.layers||null,selected:e.mapimport&&e.mapimport.selected||null,bbox:e.mapimport&&e.mapimport.bbox||null,success:e.mapimport&&e.mapimport.success||null,errors:e.mapimport&&e.mapimport.errors||null,shapeStyle:e.style||{},mapType:(0,f.GS)(e),annotationsLayer:(0,m.vC)(e),importedVectorFileMaxSizeInMB:(null==r?void 0:r.importedVectorFileMaxSizeInMB)||O.Q}},{setLayers:i.h,onLayerAdded:i.p4,onLayerSkipped:i.ZZ,onSelectLayer:i.pK,onError:i.S5,onSuccess:i.L_,addLayer:c.VE,loadAnnotations:p.HD,onZoomSelected:s.jc,updateBBox:i.J3,setLoading:i.r1,onClose:y.KP.bind(null,"mapimport",null),warning:u.$e})(n);e(t)})},enabler:function(e){return e.mapimport&&e.mapimport.enabled||e.toolbar&&"import"===e.toolbar.active}},{BurgerMenu:{name:"import",position:4,text:o().createElement(l.A,{msgId:"mapImport.title"}),tooltip:"mapImport.tooltip",icon:o().createElement(d.e6,{glyph:"upload"}),action:y.KP.bind(null,"mapimport",null),priority:2,doNotHide:!0},SidebarMenu:{name:"mapimport",position:4,tooltip:"mapImport.tooltip",text:o().createElement(l.A,{msgId:"mapImport.title"}),icon:o().createElement(d.e6,{glyph:"upload"}),action:y.KP.bind(null,"mapimport",null),toggle:!0,priority:1,doNotHide:!0}}),reducers:{mapimport:n(284003).A,style:n(274637).A}}},129519:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(811668),o=n(8571);const a=(0,t.connect)(function(e){return{locale:e.locale&&e.locale.currentLocale,messages:e.locale&&e.locale.messages||[]}})(o.A)},284003:(e,r,n)=>{n.d(r,{A:()=>s});var t=n(167491),o=n(509063),a=n.n(o),l=n(415392);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var u={layers:null,errors:null,loading:!1,selected:null,bbox:[190,190,-190,-190]};const s=function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case t.$A:return Object.assign({},r,{error:n.message,success:null});case t.Ms:var o=n.layers&&n.layers[0]?n.layers[0]:null,s=n.layers?n.errors:null;return Object.assign({},r,{layers:n.layers,selected:o,bbox:[190,190,-190,-190],errors:s},o?{}:{success:null});case t.DD:return Object.assign({},r,{errors:a()([].concat((e=r.errors||[],function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return i(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[n.error]),function(e,r){return(e.name&&e.name===r.name||e.filename&&e.filename===r.fileName)&&e.message===r.message}),success:null});case t.F5:return Object.assign({},r,{loading:n.status});case t.v2:return Object.assign({},r,{selected:n.layer});case t.LG:var c=r.layers.filter(function(e){return n.layer.name!==e.name},this),p=c&&c[0]?c[0]:null;return Object.assign({},r,{layers:c,selected:p},p?{}:{bbox:[190,190,-190,-190]});case t.iN:return Object.assign({},r,{bbox:n.bbox});case t.y:return Object.assign({},r,{success:n.message,errors:null,error:null});case l.x7:return"shapefile"===n.control?Object.assign({},r,{errors:null,success:null}):r;case t.R4:var m=r.layers.filter(function(e){return n.layer.name!==e.name},this),y=m&&m[0]?m[0]:null;return Object.assign({},r,{layers:m,selected:y,success:null});default:return r}}},274637:(e,r,n)=>{n.d(r,{A:()=>l});var t=n(957421);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a={color:{r:0,g:0,b:255,a:1},width:3,fill:{r:0,g:0,b:255,a:.1},radius:10,marker:!1};const l=function(){var e,r,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,i=arguments.length>1?arguments[1]:void 0;return i.type===t.B?Object.assign({},l,(e={},r=i.name,n=i.value,(r=function(e){var r=function(e){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e)):l}}}]);