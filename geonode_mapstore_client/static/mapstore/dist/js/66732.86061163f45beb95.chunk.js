"use strict";(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[66732],{283306:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(474848),a=r(273517),i=r(770491),s=r(223805),o=r.n(s),l=r(590179),c=r.n(l),d=r(636841);const u={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function m(e){var t,r,s;const{schema:l,idSchema:m,uiSchema:h,formData:p,errorSchema:f,idPrefix:y,idSeparator:g,name:x,onChange:S,onKeyChange:v,onDropPropertyClick:b,required:C,registry:F,wasPropertyKeyModified:k=!1}=e,{formContext:j,schemaUtils:D,globalUiOptions:A}=F,w=(0,i.$R)(h,A),$=(0,i.$F)("FieldTemplate",F,w),E=(0,i.$F)("DescriptionFieldTemplate",F,w),N=(0,i.$F)("FieldHelpTemplate",F,w),O=(0,i.$F)("FieldErrorTemplate",F,w),B=D.retrieveSchema(l,p),R=m[i.K0],I=(0,i.rL)(D.toIdSchema(B,R,p,y,g),m),T=(0,a.useCallback)((e,t,r)=>S(e,t,r||R),[R,S]),U=function(e,t,r,a){const s=t.field,{fields:o,translateString:l}=a;if("function"==typeof s)return s;if("string"==typeof s&&s in o)return o[s];const c=(0,i._I)(e),d=Array.isArray(c)?c[0]:c||"",m=e.$id;let h=u[d];return m&&m in o&&(h=m),h||!e.anyOf&&!e.oneOf?h in o?o[h]:()=>{const s=(0,i.$F)("UnsupportedFieldTemplate",a,t);return(0,n.jsx)(s,{schema:e,idSchema:r,reason:l(i.Zl.UnknownFieldType,[String(e.type)]),registry:a})}:()=>null}(B,w,I,F),P=Boolean(null!==(t=w.disabled)&&void 0!==t?t:e.disabled),q=Boolean(null!==(r=w.readonly)&&void 0!==r?r:e.readonly||e.schema.readOnly||B.readOnly),L=w.hideError,M=void 0===L?e.hideError:Boolean(L),_=Boolean(null!==(s=w.autofocus)&&void 0!==s?s:e.autofocus);if(0===Object.keys(B).length)return null;const V=D.getDisplayLabel(B,h,A),{__errors:W,...Z}=f||{},z=c()(h,["ui:classNames","classNames","ui:style"]);i.ce in z&&(z[i.ce]=c()(z[i.ce],["classNames","style"]));const K=(0,n.jsx)(U,{...e,onChange:T,idSchema:I,schema:B,uiSchema:z,disabled:P,readonly:q,hideError:M,autofocus:_,errorSchema:Z,formContext:j,rawErrors:W}),H=I[i.K0];let G;G=k||i.Rr in B?x:w.title||e.schema.title||B.title||e.title||x;const X=w.description||e.schema.description||B.description||"",J=w.enableMarkdownInDescription?(0,n.jsx)(d.Ay,{options:{disableParsingRawHTML:!0},children:X}):X,Q=w.help,Y="hidden"===w.widget,ee=["form-group","field",`field-${(0,i._I)(B)}`];!M&&W&&W.length>0&&ee.push("field-error has-error has-danger"),(null==h?void 0:h.classNames)&&ee.push(h.classNames),w.classNames&&ee.push(w.classNames);const te=(0,n.jsx)(N,{help:Q,idSchema:I,schema:B,uiSchema:h,hasErrors:!M&&W&&W.length>0,registry:F}),re=M||(B.anyOf||B.oneOf)&&!D.isSelect(B)?void 0:(0,n.jsx)(O,{errors:W,errorSchema:f,idSchema:I,schema:B,uiSchema:h,registry:F}),ne={description:(0,n.jsx)(E,{id:(0,i.IR)(H),description:J,schema:B,uiSchema:h,registry:F}),rawDescription:X,help:te,rawHelp:"string"==typeof Q?Q:void 0,errors:re,rawErrors:M?void 0:W,id:H,label:G,hidden:Y,onChange:S,onKeyChange:v,onDropPropertyClick:b,required:C,disabled:P,readonly:q,hideError:M,displayLabel:V,classNames:ee.join(" ").trim(),style:w.style,formContext:j,formData:p,schema:B,uiSchema:h,registry:F},ae=F.fields.AnyOfField,ie=F.fields.OneOfField,se=(null==h?void 0:h["ui:field"])&&!0===(null==h?void 0:h["ui:fieldReplacesAnyOrOneOf"]);return(0,n.jsx)($,{...ne,children:(0,n.jsxs)(n.Fragment,{children:[K,B.anyOf&&!se&&!D.isSelect(B)&&(0,n.jsx)(ae,{name:x,disabled:P,readonly:q,hideError:M,errorSchema:f,formData:p,formContext:j,idPrefix:y,idSchema:I,idSeparator:g,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:B.anyOf.map(e=>D.retrieveSchema(o()(e)?e:{},p)),registry:F,schema:B,uiSchema:h}),B.oneOf&&!se&&!D.isSelect(B)&&(0,n.jsx)(ie,{name:x,disabled:P,readonly:q,hideError:M,errorSchema:f,formData:p,formContext:j,idPrefix:y,idSchema:I,idSeparator:g,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:B.oneOf.map(e=>D.retrieveSchema(o()(e)?e:{},p)),registry:F,schema:B,uiSchema:h})]})})}class h extends a.Component{shouldComponentUpdate(e){return!(0,i.c2)(this.props,e)}render(){return(0,n.jsx)(m,{...this.props})}}const p=h},899703:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(474848),a=r(273517),i=r(770491);function s(e,t){return t?Array.from(e.target.options).slice().filter(e=>e.selected).map(e=>e.value):e.target.value}const o=function({schema:e,id:t,options:r,value:o,required:l,disabled:c,readonly:d,multiple:u=!1,autofocus:m=!1,onChange:h,onBlur:p,onFocus:f,placeholder:y}){const{enumOptions:g,enumDisabled:x,emptyValue:S}=r,v=u?[]:"",b=(0,a.useCallback)(e=>{const r=s(e,u);return f(t,(0,i.Od)(r,g,S))},[f,t,e,u,g,S]),C=(0,a.useCallback)(e=>{const r=s(e,u);return p(t,(0,i.Od)(r,g,S))},[p,t,e,u,g,S]),F=(0,a.useCallback)(e=>{const t=s(e,u);return h((0,i.Od)(t,g,S))},[h,e,u,g,S]),k=(0,i.Yu)(o,g,u),j=!u&&void 0===e.default;return(0,n.jsxs)("select",{id:t,name:t,multiple:u,className:"form-control",value:void 0===k?v:k,required:l,disabled:c||d,autoFocus:m,onBlur:C,onFocus:b,onChange:F,"aria-describedby":(0,i.eG)(t),children:[j&&(0,n.jsx)("option",{value:"",children:y}),Array.isArray(g)&&g.map(({value:e,label:t},r)=>{const a=x&&-1!==x.indexOf(e);return(0,n.jsx)("option",{value:String(r),disabled:a,children:t},r)})]})}},487581:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(474848),a=r(273517),i=r(770491);function s({id:e,options:t={},placeholder:r,value:s,required:o,disabled:l,readonly:c,autofocus:d=!1,onChange:u,onBlur:m,onFocus:h}){const p=(0,a.useCallback)(({target:{value:e}})=>u(""===e?t.emptyValue:e),[u,t.emptyValue]),f=(0,a.useCallback)(({target:t})=>m(e,t&&t.value),[m,e]),y=(0,a.useCallback)(({target:t})=>h(e,t&&t.value),[e,h]);return(0,n.jsx)("textarea",{id:e,name:e,className:"form-control",value:s||"",placeholder:r,required:o,disabled:l,readOnly:c,autoFocus:d,rows:t.rows,onBlur:f,onFocus:y,onChange:p,"aria-describedby":(0,i.eG)(e)})}s.defaultProps={autofocus:!1,options:{}};const o=s},466732:(e,t,r)=>{r.d(t,{Ay:()=>Te});var n=r(474848),a=r(273517),i=r(770491),s=r(858156),o=r.n(s),l=r(962193),c=r.n(l),d=r(244383),u=r.n(d),m=r(342072),h=r.n(m),p=r(688055),f=r.n(p),y=r(223805),g=r.n(y),x=r(63560),S=r.n(x);function v(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))()}function b(e){return Array.isArray(e)?e.map(e=>({key:v(),item:e})):[]}function C(e){return Array.isArray(e)?e.map(e=>e.item):[]}class F extends a.Component{constructor(e){super(e),this._getNewFormDataRow=()=>{const{schema:e,registry:t}=this.props,{schemaUtils:r}=t;let n=e.items;return(0,i.nQ)(e)&&(0,i.Hh)(e)&&(n=e.additionalItems),r.getDefaultFormState(n)},this.onAddClick=e=>{this._handleAddClick(e)},this.onAddIndexClick=e=>t=>{this._handleAddClick(t,e)},this.onCopyIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:a}=this.state;let i;if(n){i={};for(const t in n){const r=parseInt(t);r<=e?S()(i,[r],n[t]):r>e&&S()(i,[r+1],n[t])}}const s={key:v(),item:f()(a[e].item)},o=[...a];void 0!==e?o.splice(e+1,0,s):o.push(s),this.setState({keyedFormData:o,updatedKeyedFormData:!0},()=>r(C(o),i))},this.onDropIndexClick=e=>t=>{t&&t.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:a}=this.state;let i;if(n){i={};for(const t in n){const r=parseInt(t);r<e?S()(i,[r],n[t]):r>e&&S()(i,[r-1],n[t])}}const s=a.filter((t,r)=>r!==e);this.setState({keyedFormData:s,updatedKeyedFormData:!0},()=>r(C(s),i))},this.onReorderClick=(e,t)=>r=>{r&&(r.preventDefault(),r.currentTarget.blur());const{onChange:n,errorSchema:a}=this.props;let i;if(a){i={};for(const r in a){const n=parseInt(r);n==e?S()(i,[t],a[e]):n==t?S()(i,[e],a[t]):S()(i,[r],a[n])}}const{keyedFormData:s}=this.state,o=function(){const r=s.slice();return r.splice(e,1),r.splice(t,0,s[e]),r}();this.setState({keyedFormData:o},()=>n(C(o),i))},this.onChangeForIndex=e=>(t,r,n)=>{const{formData:a,onChange:i,errorSchema:s}=this.props;i((Array.isArray(a)?a:[]).map((r,n)=>e===n?void 0===t?null:t:r),s&&s&&{...s,[e]:r},n)},this.onSelectChange=e=>{const{onChange:t,idSchema:r}=this.props;t(e,void 0,r&&r.$id)};const{formData:t=[]}=e,r=b(t);this.state={keyedFormData:r,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,t){if(t.updatedKeyedFormData)return{updatedKeyedFormData:!1};const r=Array.isArray(e.formData)?e.formData:[],n=t.keyedFormData||[];return{keyedFormData:r.length===n.length?n.map((e,t)=>({key:e.key,item:r[t]})):b(r)}}get itemTitle(){const{schema:e,registry:t}=this.props,{translateString:r}=t;return o()(e,[i.ZN,"title"],o()(e,[i.ZN,"description"],r(i.Zl.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):"null"!==e.type}canAddItem(e){const{schema:t,uiSchema:r,registry:n}=this.props;let{addable:a}=(0,i.$R)(r,n.globalUiOptions);return!1!==a&&(a=void 0===t.maxItems||e.length<t.maxItems),a}_handleAddClick(e,t){e&&e.preventDefault();const{onChange:r,errorSchema:n}=this.props,{keyedFormData:a}=this.state;let i;if(n){i={};for(const e in n){const r=parseInt(e);void 0===t||r<t?S()(i,[r],n[e]):r>=t&&S()(i,[r+1],n[e])}}const s={key:v(),item:this._getNewFormDataRow()},o=[...a];void 0!==t?o.splice(t,0,s):o.push(s),this.setState({keyedFormData:o,updatedKeyedFormData:!0},()=>r(C(o),i))}render(){const{schema:e,uiSchema:t,idSchema:r,registry:a}=this.props,{schemaUtils:s,translateString:o}=a;if(!(i.ZN in e)){const s=(0,i.$R)(t),l=(0,i.$F)("UnsupportedFieldTemplate",a,s);return(0,n.jsx)(l,{schema:e,idSchema:r,reason:o(i.Zl.MissingItems),registry:a})}return s.isMultiSelect(e)?this.renderMultiSelect():(0,i.ar)(t)?this.renderCustomWidget():(0,i.nQ)(e)?this.renderFixedArray():s.isFilesArray(e,t)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:t={},errorSchema:r,idSchema:a,name:s,title:o,disabled:l=!1,readonly:c=!1,autofocus:d=!1,required:u=!1,registry:m,onBlur:h,onFocus:p,idPrefix:f,idSeparator:y="_",rawErrors:x}=this.props,{keyedFormData:S}=this.state,v=e.title||o||s,{schemaUtils:b,formContext:F}=m,k=(0,i.$R)(t),j=g()(e.items)?e.items:{},D=b.retrieveSchema(j),A=C(this.state.keyedFormData),w=this.canAddItem(A),$={canAdd:w,items:S.map((e,n)=>{const{key:i,item:o}=e,l=o,c=b.retrieveSchema(j,l),u=r?r[n]:void 0,m=a.$id+y+n,g=b.toIdSchema(c,m,l,f,y);return this.renderArrayFieldItem({key:i,index:n,name:s&&`${s}-${n}`,title:v?`${v}-${n+1}`:void 0,canAdd:w,canMoveUp:n>0,canMoveDown:n<A.length-1,itemSchema:c,itemIdSchema:g,itemErrorSchema:u,itemData:l,itemUiSchema:t.items,autofocus:d&&0===n,onBlur:h,onFocus:p,rawErrors:x,totalItems:S.length})}),className:`field field-array field-array-of-${D.type}`,disabled:l,idSchema:a,uiSchema:t,onAddClick:this.onAddClick,readonly:c,required:u,schema:e,title:v,formContext:F,formData:A,rawErrors:x,registry:m},E=(0,i.$F)("ArrayFieldTemplate",m,k);return(0,n.jsx)(E,{...$})}renderCustomWidget(){var e;const{schema:t,idSchema:r,uiSchema:a,disabled:s=!1,readonly:o=!1,autofocus:l=!1,required:c=!1,hideError:d,placeholder:u,onBlur:m,onFocus:h,formData:p=[],registry:f,rawErrors:y,name:g}=this.props,{widgets:x,formContext:S,globalUiOptions:v,schemaUtils:b}=f,{widget:C,title:F,...k}=(0,i.$R)(a,v),j=(0,i.Bt)(t,C,x),D=null!==(e=null!=F?F:t.title)&&void 0!==e?e:g,A=b.getDisplayLabel(t,a,v);return(0,n.jsx)(j,{id:r.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:h,options:k,schema:t,uiSchema:a,registry:f,value:p,disabled:s,readonly:o,hideError:d,required:c,label:D,hideLabel:!A,placeholder:u,formContext:S,autofocus:l,rawErrors:y})}renderMultiSelect(){var e;const{schema:t,idSchema:r,uiSchema:a,formData:s=[],disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,placeholder:u,onBlur:m,onFocus:h,registry:p,rawErrors:f,name:y}=this.props,{widgets:g,schemaUtils:x,formContext:S,globalUiOptions:v}=p,b=x.retrieveSchema(t.items,s),C=(0,i.f9)(b),{widget:F="select",title:k,...j}=(0,i.$R)(a,v),D=(0,i.Bt)(t,F,g),A=null!==(e=null!=k?k:t.title)&&void 0!==e?e:y,w=x.getDisplayLabel(t,a,v);return(0,n.jsx)(D,{id:r.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:m,onFocus:h,options:{...j,enumOptions:C},schema:t,uiSchema:a,registry:p,value:s,disabled:o,readonly:l,required:d,label:A,hideLabel:!w,placeholder:u,formContext:S,autofocus:c,rawErrors:f})}renderFiles(){var e;const{schema:t,uiSchema:r,idSchema:a,name:s,disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,onBlur:u,onFocus:m,registry:h,formData:p=[],rawErrors:f}=this.props,{widgets:y,formContext:g,globalUiOptions:x,schemaUtils:S}=h,{widget:v="files",title:b,...C}=(0,i.$R)(r,x),F=(0,i.Bt)(t,v,y),k=null!==(e=null!=b?b:t.title)&&void 0!==e?e:s,j=S.getDisplayLabel(t,r,x);return(0,n.jsx)(F,{options:C,id:a.$id,name:s,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:m,schema:t,uiSchema:r,value:p,disabled:o,readonly:l,required:d,registry:h,formContext:g,autofocus:c,rawErrors:f,label:k,hideLabel:!j})}renderFixedArray(){const{schema:e,uiSchema:t={},formData:r=[],errorSchema:a,idPrefix:s,idSeparator:o="_",idSchema:l,name:c,title:d,disabled:u=!1,readonly:m=!1,autofocus:h=!1,required:p=!1,registry:f,onBlur:y,onFocus:x,rawErrors:S}=this.props,{keyedFormData:v}=this.state;let{formData:b=[]}=this.props;const C=e.title||d||c,F=(0,i.$R)(t),{schemaUtils:k,formContext:j}=f,D=(g()(e.items)?e.items:[]).map((e,t)=>k.retrieveSchema(e,r[t])),A=g()(e.additionalItems)?k.retrieveSchema(e.additionalItems,r):null;(!b||b.length<D.length)&&(b=b||[],b=b.concat(new Array(D.length-b.length)));const w=this.canAddItem(b)&&!!A,$={canAdd:w,className:"field field-array field-array-fixed-items",disabled:u,idSchema:l,formData:r,items:v.map((r,n)=>{const{key:i,item:d}=r,u=d,m=n>=D.length,p=(m&&g()(e.additionalItems)?k.retrieveSchema(e.additionalItems,u):D[n])||{},f=l.$id+o+n,F=k.toIdSchema(p,f,u,s,o),j=m?t.additionalItems||{}:Array.isArray(t.items)?t.items[n]:t.items||{},A=a?a[n]:void 0;return this.renderArrayFieldItem({key:i,index:n,name:c&&`${c}-${n}`,title:C?`${C}-${n+1}`:void 0,canAdd:w,canRemove:m,canMoveUp:n>=D.length+1,canMoveDown:m&&n<b.length-1,itemSchema:p,itemData:u,itemUiSchema:j,itemIdSchema:F,itemErrorSchema:A,autofocus:h&&0===n,onBlur:y,onFocus:x,rawErrors:S,totalItems:v.length})}),onAddClick:this.onAddClick,readonly:m,required:p,registry:f,schema:e,uiSchema:t,title:C,formContext:j,errorSchema:a,rawErrors:S},E=(0,i.$F)("ArrayFieldTemplate",f,F);return(0,n.jsx)(E,{...$})}renderArrayFieldItem(e){const{key:t,index:r,name:a,canAdd:s,canRemove:o=!0,canMoveUp:l,canMoveDown:c,itemSchema:d,itemData:u,itemUiSchema:m,itemIdSchema:h,itemErrorSchema:p,autofocus:f,onBlur:y,onFocus:g,rawErrors:x,totalItems:S,title:v}=e,{disabled:b,hideError:C,idPrefix:F,idSeparator:k,readonly:j,uiSchema:D,registry:A,formContext:w}=this.props,{fields:{ArraySchemaField:$,SchemaField:E},globalUiOptions:N}=A,O=$||E,{orderable:B=!0,removable:R=!0,copyable:I=!1}=(0,i.$R)(D,N),T={moveUp:B&&l,moveDown:B&&c,copy:I&&s,remove:R&&o,toolbar:!1};return T.toolbar=Object.keys(T).some(e=>T[e]),{children:(0,n.jsx)(O,{name:a,title:v,index:r,schema:d,uiSchema:m,formData:u,formContext:w,errorSchema:p,idPrefix:F,idSeparator:k,idSchema:h,required:this.isItemRequired(d),onChange:this.onChangeForIndex(r),onBlur:y,onFocus:g,registry:A,disabled:b,readonly:j,hideError:C,autofocus:f,rawErrors:x}),className:"array-item",disabled:b,canAdd:s,hasCopy:T.copy,hasToolbar:T.toolbar,hasMoveUp:T.moveUp,hasMoveDown:T.moveDown,hasRemove:T.remove,index:r,totalItems:S,key:t,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:j,registry:A,schema:d,uiSchema:m}}}const k=F,j=function(e){var t,r,a;const{schema:s,name:o,uiSchema:l,idSchema:c,formData:d,registry:u,required:m,disabled:h,readonly:p,hideError:f,autofocus:y,title:x,onChange:S,onFocus:v,onBlur:b,rawErrors:C}=e,{title:F}=s,{widgets:k,formContext:j,translateString:D,globalUiOptions:A}=u,{widget:w="checkbox",title:$,label:E=!0,...N}=(0,i.$R)(l,A),O=(0,i.Bt)(s,w,k),B=D(i.Zl.YesLabel),R=D(i.Zl.NoLabel);let I;const T=null!==(r=null!==(t=null!=$?$:F)&&void 0!==t?t:x)&&void 0!==r?r:o;if(Array.isArray(s.oneOf))I=(0,i.f9)({oneOf:s.oneOf.map(e=>{if(g()(e))return{...e,title:e.title||(!0===e.const?B:R)}}).filter(e=>e)});else{const e=s,t=null!==(a=s.enum)&&void 0!==a?a:[!0,!1];I=!e.enumNames&&2===t.length&&t.every(e=>"boolean"==typeof e)?[{value:t[0],label:t[0]?B:R},{value:t[1],label:t[1]?B:R}]:(0,i.f9)({enum:t,enumNames:e.enumNames})}return(0,n.jsx)(O,{options:{...N,enumOptions:I},schema:s,uiSchema:l,id:c.$id,name:o,onChange:S,onFocus:v,onBlur:b,label:T,hideLabel:!E,value:d,required:m,disabled:h,readonly:p,hideError:f,registry:u,formContext:j,autofocus:y,rawErrors:C})};var D=r(590179),A=r.n(D);class w extends a.Component{constructor(e){super(e),this.onOptionChange=e=>{const{selectedOption:t,retrievedOptions:r}=this.state,{formData:n,onChange:a,registry:i}=this.props,{schemaUtils:s}=i,o=void 0!==e?parseInt(e,10):-1;if(o===t)return;const l=o>=0?r[o]:void 0,c=t>=0?r[t]:void 0;let d=s.sanitizeDataForNewSchema(l,c,n);d&&l&&(d=s.getDefaultFormState(l,d,"excludeObjectChildren")),a(d,void 0,this.getFieldId()),this.setState({selectedOption:o})};const{formData:t,options:r,registry:{schemaUtils:n}}=this.props,a=r.map(e=>n.retrieveSchema(e,t));this.state={retrievedOptions:a,selectedOption:this.getMatchingOption(0,t,a)}}componentDidUpdate(e,t){const{formData:r,options:n,idSchema:a}=this.props,{selectedOption:s}=this.state;let o=this.state;if(!(0,i.c2)(e.options,n)){const{registry:{schemaUtils:e}}=this.props;o={selectedOption:s,retrievedOptions:n.map(t=>e.retrieveSchema(t,r))}}if(!(0,i.c2)(r,e.formData)&&a.$id===e.idSchema.$id){const{retrievedOptions:e}=o,n=this.getMatchingOption(s,r,e);t&&n!==s&&(o={selectedOption:n,retrievedOptions:e})}o!==this.state&&this.setState(o)}getMatchingOption(e,t,r){const{schema:n,registry:{schemaUtils:a}}=this.props,s=(0,i.KU)(n);return a.getClosestMatchingOption(t,r,e,s)}getFieldId(){const{idSchema:e,schema:t}=this.props;return`${e.$id}${t.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:t=!1,errorSchema:r={},formContext:a,onBlur:s,onFocus:l,registry:d,schema:u,uiSchema:m}=this.props,{widgets:h,fields:p,translateString:f,globalUiOptions:y,schemaUtils:g}=d,{SchemaField:x}=p,{selectedOption:S,retrievedOptions:v}=this.state,{widget:b="select",placeholder:C,autofocus:F,autocomplete:k,title:j=u.title,...D}=(0,i.$R)(m,y),w=(0,i.Bt)({type:"number"},b,h),$=o()(r,i.s2,[]),E=A()(r,[i.s2]),N=g.getDisplayLabel(u,m,y),O=S>=0&&v[S]||null;let B;if(O){const{required:e}=u;B=e?(0,i.dW)({required:e},O):O}let R=[];i.Ru in u&&m&&i.Ru in m?Array.isArray(m[i.Ru])?R=m[i.Ru]:console.warn(`uiSchema.oneOf is not an array for "${j||e}"`):i.Xo in u&&m&&i.Xo in m&&(Array.isArray(m[i.Xo])?R=m[i.Xo]:console.warn(`uiSchema.anyOf is not an array for "${j||e}"`));let I=m;S>=0&&R.length>S&&(I=R[S]);const T=j?i.Zl.TitleOptionPrefix:i.Zl.OptionPrefix,U=j?[j]:[],P=v.map((e,t)=>{const{title:r=e.title}=(0,i.$R)(R[t]);return{label:r||f(T,U.concat(String(t+1))),value:t}});return(0,n.jsxs)("div",{className:"panel panel-default panel-body",children:[(0,n.jsx)("div",{className:"form-group",children:(0,n.jsx)(w,{id:this.getFieldId(),name:`${e}${u.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:s,onFocus:l,disabled:t||c()(P),multiple:!1,rawErrors:$,errorSchema:E,value:S>=0?S:void 0,options:{enumOptions:P,...D},registry:d,formContext:a,placeholder:C,autocomplete:k,autofocus:F,label:null!=j?j:e,hideLabel:!N})}),B&&(0,n.jsx)(x,{...this.props,schema:B,uiSchema:I})]})}}const $=w,E=/\.([0-9]*0)*$/,N=/[0.]0*$/,O=function(e){const{registry:t,onChange:r,formData:s,value:o}=e,[l,c]=(0,a.useState)(o),{StringField:d}=t.fields;let u=s;const m=(0,a.useCallback)(e=>{c(e),"."===`${e}`.charAt(0)&&(e=`0${e}`);const t="string"==typeof e&&e.match(E)?(0,i.i)(e.replace(N,"")):(0,i.i)(e);r(t)},[r]);if("string"==typeof l&&"number"==typeof u){const e=new RegExp(`^(${String(u).replace(".","\\.")})?\\.?0*$`);l.match(e)&&(u=l)}return(0,n.jsx)(d,{...e,formData:u,onChange:m})};var B=r(636841),R=r(761448),I=r.n(R),T=r(273357),U=r.n(T);class P extends a.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(e,t=!1)=>(r,n,a)=>{const{formData:i,onChange:s,errorSchema:o}=this.props;void 0===r&&t&&(r=""),s({...i,[e]:r},o&&o&&{...o,[e]:n},a)},this.onDropPropertyClick=e=>t=>{t.preventDefault();const{onChange:r,formData:n}=this.props,a={...n};U()(a,e),r(a)},this.getAvailableKey=(e,t)=>{const{uiSchema:r,registry:n}=this.props,{duplicateKeySuffixSeparator:a="-"}=(0,i.$R)(r,n.globalUiOptions);let s=0,o=e;for(;I()(t,o);)o=`${e}${a}${++s}`;return o},this.onKeyChange=e=>(t,r)=>{if(e===t)return;const{formData:n,onChange:a,errorSchema:i}=this.props;t=this.getAvailableKey(t,n);const s={...n},o={[e]:t},l=Object.keys(s).map(e=>{const t=o[e]||e;return{[t]:s[e]}}),c=Object.assign({},...l);this.setState({wasPropertyKeyModified:!0}),a(c,i&&i&&{...i,[t]:r})},this.handleAddClick=e=>()=>{if(!e.additionalProperties)return;const{formData:t,onChange:r,registry:n}=this.props,a={...t};let s,o;if(g()(e.additionalProperties)){s=e.additionalProperties.type,o=e.additionalProperties.default;let r=e.additionalProperties;if(i.Es in r){const{schemaUtils:e}=n;r=e.retrieveSchema({$ref:r[i.Es]},t),s=r.type,o=r.default}s||!(i.Xo in r)&&!(i.Ru in r)||(s="object")}const l=this.getAvailableKey("newKey",a);S()(a,l,null!=o?o:this.getDefaultValue(s)),r(a)}}isRequired(e){const{schema:t}=this.props;return Array.isArray(t.required)&&-1!==t.required.indexOf(e)}getDefaultValue(e){const{registry:{translateString:t}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};default:return t(i.Zl.NewStringDefault)}}render(){var e,t,r,a;const{schema:s,uiSchema:l={},formData:c,errorSchema:d,idSchema:u,name:m,required:h=!1,disabled:p,readonly:f,hideError:y,idPrefix:g,idSeparator:x,onBlur:S,onFocus:v,registry:b,title:C}=this.props,{fields:F,formContext:k,schemaUtils:j,translateString:D,globalUiOptions:A}=b,{SchemaField:w}=F,$=j.retrieveSchema(s,c),E=(0,i.$R)(l,A),{properties:N={}}=$,O=null!==(r=null!==(t=null!==(e=E.title)&&void 0!==e?e:$.title)&&void 0!==t?t:C)&&void 0!==r?r:m,R=null!==(a=E.description)&&void 0!==a?a:$.description;let T;try{const e=Object.keys(N);T=(0,i.UI)(e,E.order)}catch(e){return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"config-error",style:{color:"red"},children:(0,n.jsx)(B.Ay,{options:{disableParsingRawHTML:!0},children:D(i.Zl.InvalidObjectField,[m||"root",e.message])})}),(0,n.jsx)("pre",{children:JSON.stringify($)})]})}const U=(0,i.$F)("ObjectFieldTemplate",b,E),P={title:!1===E.label?"":O,description:!1===E.label?void 0:R,properties:T.map(e=>{const t=I()($,[i.s1,e,i.Rr]),r=t?l.additionalProperties:l[e],a="hidden"===(0,i.$R)(r).widget,s=o()(u,[e],{});return{content:(0,n.jsx)(w,{name:e,required:this.isRequired(e),schema:o()($,[i.s1,e],{}),uiSchema:r,errorSchema:o()(d,e),idSchema:s,idPrefix:g,idSeparator:x,formData:o()(c,e),formContext:k,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(e),onChange:this.onPropertyChange(e,t),onBlur:S,onFocus:v,registry:b,disabled:p,readonly:f,hideError:y,onDropPropertyClick:this.onDropPropertyClick},e),name:e,readonly:f,disabled:p,required:h,hidden:a}}),readonly:f,disabled:p,required:h,idSchema:u,uiSchema:l,errorSchema:d,schema:$,formData:c,formContext:k,registry:b};return(0,n.jsx)(U,{...P,onAddClick:this.handleAddClick})}}const q=P;var L=r(283306);const M=function(e){var t;const{schema:r,name:a,uiSchema:s,idSchema:o,formData:l,required:c,disabled:d=!1,readonly:u=!1,autofocus:m=!1,onChange:h,onBlur:p,onFocus:f,registry:y,rawErrors:g,hideError:x}=e,{title:S,format:v}=r,{widgets:b,formContext:C,schemaUtils:F,globalUiOptions:k}=y,j=F.isSelect(r)?(0,i.f9)(r):void 0;let D=j?"select":"text";v&&(0,i.Lw)(r,v,b)&&(D=v);const{widget:A=D,placeholder:w="",title:$,...E}=(0,i.$R)(s),N=F.getDisplayLabel(r,s,k),O=null!==(t=null!=$?$:S)&&void 0!==t?t:a,B=(0,i.Bt)(r,A,b);return(0,n.jsx)(B,{options:{...E,enumOptions:j},schema:r,uiSchema:s,id:o.$id,name:a,label:O,hideLabel:!N,hideError:x,value:l,onChange:h,onBlur:p,onFocus:f,required:c,disabled:d,readonly:u,formContext:C,autofocus:m,registry:y,placeholder:w,rawErrors:g})},_=function(e){const{formData:t,onChange:r}=e;return(0,a.useEffect)(()=>{void 0===t&&r(null)},[t,r]),null};function V(e){const{idSchema:t,description:r,registry:a,schema:s,uiSchema:o}=e,l=(0,i.$R)(o,a.globalUiOptions),{label:c=!0}=l;if(!r||!c)return null;const d=(0,i.$F)("DescriptionFieldTemplate",a,l);return(0,n.jsx)(d,{id:(0,i.IR)(t),description:r,schema:s,uiSchema:o,registry:a})}function W(e){const{children:t,className:r,disabled:a,hasToolbar:i,hasMoveDown:s,hasMoveUp:o,hasRemove:l,hasCopy:c,index:d,onCopyIndexClick:u,onDropIndexClick:m,onReorderClick:h,readonly:p,registry:f,uiSchema:y}=e,{CopyButton:g,MoveDownButton:x,MoveUpButton:S,RemoveButton:v}=f.templates.ButtonTemplates,b={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("div",{className:i?"col-xs-9":"col-xs-12",children:t}),i&&(0,n.jsx)("div",{className:"col-xs-3 array-item-toolbox",children:(0,n.jsxs)("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||s)&&(0,n.jsx)(S,{style:b,disabled:a||p||!o,onClick:h(d,d-1),uiSchema:y,registry:f}),(o||s)&&(0,n.jsx)(x,{style:b,disabled:a||p||!s,onClick:h(d,d+1),uiSchema:y,registry:f}),c&&(0,n.jsx)(g,{style:b,disabled:a||p,onClick:u(d),uiSchema:y,registry:f}),l&&(0,n.jsx)(v,{style:b,disabled:a||p,onClick:m(d),uiSchema:y,registry:f})]})})]})}function Z(e){const{canAdd:t,className:r,disabled:a,idSchema:s,uiSchema:o,items:l,onAddClick:c,readonly:d,registry:u,required:m,schema:h,title:p}=e,f=(0,i.$R)(o),y=(0,i.$F)("ArrayFieldDescriptionTemplate",u,f),g=(0,i.$F)("ArrayFieldItemTemplate",u,f),x=(0,i.$F)("ArrayFieldTitleTemplate",u,f),{ButtonTemplates:{AddButton:S}}=u.templates;return(0,n.jsxs)("fieldset",{className:r,id:s.$id,children:[(0,n.jsx)(x,{idSchema:s,title:f.title||p,required:m,schema:h,uiSchema:o,registry:u}),(0,n.jsx)(y,{idSchema:s,description:f.description||h.description,schema:h,uiSchema:o,registry:u}),(0,n.jsx)("div",{className:"row array-item-list",children:l&&l.map(({key:e,...t})=>(0,n.jsx)(g,{...t},e))}),t&&(0,n.jsx)(S,{className:"array-item-add",onClick:c,disabled:a||d,uiSchema:o,registry:u})]})}function z(e){const{idSchema:t,title:r,schema:a,uiSchema:s,required:o,registry:l}=e,c=(0,i.$R)(s,l.globalUiOptions),{label:d=!0}=c;if(!r||!d)return null;const u=(0,i.$F)("TitleFieldTemplate",l,c);return(0,n.jsx)(u,{id:(0,i.EH)(t),title:r,required:o,schema:a,uiSchema:s,registry:l})}function K(e){const{id:t,name:r,value:s,readonly:o,disabled:l,autofocus:c,onBlur:d,onFocus:u,onChange:m,onChangeOverride:h,options:p,schema:f,uiSchema:y,formContext:g,registry:x,rawErrors:S,type:v,hideLabel:b,hideError:C,...F}=e;if(!t)throw console.log("No id for",e),new Error(`no id for props ${JSON.stringify(e)}`);const k={...F,...(0,i.ti)(f,v,p)};let j;j="number"===k.type||"integer"===k.type?s||0===s?s:"":null==s?"":s;const D=(0,a.useCallback)(({target:{value:e}})=>m(""===e?p.emptyValue:e),[m,p]),A=(0,a.useCallback)(({target:e})=>d(t,e&&e.value),[d,t]),w=(0,a.useCallback)(({target:e})=>u(t,e&&e.value),[u,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{id:t,name:t,className:"form-control",readOnly:o,disabled:l,autoFocus:c,value:j,...k,list:f.examples?(0,i.$c)(t):void 0,onChange:h||D,onBlur:A,onFocus:w,"aria-describedby":(0,i.eG)(t,!!f.examples)}),Array.isArray(f.examples)&&(0,n.jsx)("datalist",{id:(0,i.$c)(t),children:f.examples.concat(f.default&&!f.examples.includes(f.default)?[f.default]:[]).map(e=>(0,n.jsx)("option",{value:e},e))},`datalist_${t}`)]})}function H({uiSchema:e}){const{submitText:t,norender:r,props:a={}}=(0,i.Bj)(e);return r?null:(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",...a,className:`btn btn-info ${a.className||""}`,children:t})})}function G(e){const{iconType:t="default",icon:r,className:a,uiSchema:i,registry:s,...o}=e;return(0,n.jsx)("button",{type:"button",className:`btn btn-${t} ${a}`,...o,children:(0,n.jsx)("i",{className:`glyphicon glyphicon-${r}`})})}function X(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(i.Zl.CopyButton),className:"array-item-copy",...e,icon:"copy"})}function J(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(i.Zl.MoveDownButton),className:"array-item-move-down",...e,icon:"arrow-down"})}function Q(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(i.Zl.MoveUpButton),className:"array-item-move-up",...e,icon:"arrow-up"})}function Y(e){const{registry:{translateString:t}}=e;return(0,n.jsx)(G,{title:t(i.Zl.RemoveButton),className:"array-item-remove",...e,iconType:"danger",icon:"remove"})}function ee({className:e,onClick:t,disabled:r,registry:a}){const{translateString:s}=a;return(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("p",{className:`col-xs-3 col-xs-offset-9 text-right ${e}`,children:(0,n.jsx)(G,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(i.Zl.AddButton),onClick:t,disabled:r,registry:a})})})}function te(e){const{id:t,description:r}=e;return r?"string"==typeof r?(0,n.jsx)("p",{id:t,className:"field-description",children:r}):(0,n.jsx)("div",{id:t,className:"field-description",children:r}):null}function re({errors:e,registry:t}){const{translateString:r}=t;return(0,n.jsxs)("div",{className:"panel panel-danger errors",children:[(0,n.jsx)("div",{className:"panel-heading",children:(0,n.jsx)("h3",{className:"panel-title",children:r(i.Zl.ErrorsLabel)})}),(0,n.jsx)("ul",{className:"list-group",children:e.map((e,t)=>(0,n.jsx)("li",{className:"list-group-item text-danger",children:e.stack},t))})]})}function ne(e){const{label:t,required:r,id:a}=e;return t?(0,n.jsxs)("label",{className:"control-label",htmlFor:a,children:[t,r&&(0,n.jsx)("span",{className:"required",children:"*"})]}):null}const ae=function(e){const{id:t,label:r,children:a,errors:s,help:o,description:l,hidden:c,required:d,displayLabel:u,registry:m,uiSchema:h}=e,p=(0,i.$R)(h),f=(0,i.$F)("WrapIfAdditionalTemplate",m,p);return c?(0,n.jsx)("div",{className:"hidden",children:a}):(0,n.jsxs)(f,{...e,children:[u&&(0,n.jsx)(ne,{label:r,required:d,id:t}),u&&l?l:null,a,s,o]})};function ie(e){const{errors:t=[],idSchema:r}=e;if(0===t.length)return null;const a=(0,i.rD)(r);return(0,n.jsx)("div",{children:(0,n.jsx)("ul",{id:a,className:"error-detail bs-callout bs-callout-info",children:t.filter(e=>!!e).map((e,t)=>(0,n.jsx)("li",{className:"text-danger",children:e},t))})})}function se(e){const{idSchema:t,help:r}=e;if(!r)return null;const a=(0,i.F5)(t);return"string"==typeof r?(0,n.jsx)("p",{id:a,className:"help-block",children:r}):(0,n.jsx)("div",{id:a,className:"help-block",children:r})}function oe(e){const{description:t,disabled:r,formData:a,idSchema:s,onAddClick:o,properties:l,readonly:c,registry:d,required:u,schema:m,title:h,uiSchema:p}=e,f=(0,i.$R)(p),y=(0,i.$F)("TitleFieldTemplate",d,f),g=(0,i.$F)("DescriptionFieldTemplate",d,f),{ButtonTemplates:{AddButton:x}}=d.templates;return(0,n.jsxs)("fieldset",{id:s.$id,children:[h&&(0,n.jsx)(y,{id:(0,i.EH)(s),title:h,required:u,schema:m,uiSchema:p,registry:d}),t&&(0,n.jsx)(g,{id:(0,i.IR)(s),description:t,schema:m,uiSchema:p,registry:d}),l.map(e=>e.content),(0,i.Xl)(m,p,a)&&(0,n.jsx)(x,{className:"object-property-expand",onClick:o(m),disabled:r||c,uiSchema:p,registry:d})]})}function le(e){const{id:t,title:r,required:a}=e;return(0,n.jsxs)("legend",{id:t,children:[r,a&&(0,n.jsx)("span",{className:"required",children:"*"})]})}const ce=function(e){const{schema:t,idSchema:r,reason:a,registry:s}=e,{translateString:o}=s;let l=i.Zl.UnsupportedField;const c=[];return r&&r.$id&&(l=i.Zl.UnsupportedFieldWithId,c.push(r.$id)),a&&(l=l===i.Zl.UnsupportedField?i.Zl.UnsupportedFieldWithReason:i.Zl.UnsupportedFieldWithIdAndReason,c.push(a)),(0,n.jsxs)("div",{className:"unsupported-field",children:[(0,n.jsx)("p",{children:(0,n.jsx)(B.Ay,{options:{disableParsingRawHTML:!0},children:o(l,c)})}),t&&(0,n.jsx)("pre",{children:JSON.stringify(t,null,2)})]})};function de(e){const{id:t,classNames:r,style:a,disabled:s,label:o,onKeyChange:l,onDropPropertyClick:c,readonly:d,required:u,schema:m,children:h,uiSchema:p,registry:f}=e,{templates:y,translateString:g}=f,{RemoveButton:x}=y.ButtonTemplates,S=g(i.Zl.KeyLabel,[o]);return i.Rr in m?(0,n.jsx)("div",{className:r,style:a,children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-xs-5 form-additional",children:(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)(ne,{label:S,required:u,id:`${t}-key`}),(0,n.jsx)("input",{className:"form-control",type:"text",id:`${t}-key`,onBlur:({target:e})=>l(e&&e.value),defaultValue:o})]})}),(0,n.jsx)("div",{className:"form-additional form-group col-xs-5",children:h}),(0,n.jsx)("div",{className:"col-xs-2",children:(0,n.jsx)(x,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||d,onClick:c(o),uiSchema:p,registry:f})})]})}):(0,n.jsx)("div",{className:r,style:a,children:h})}function ue({type:e,range:t,value:r,select:a,rootId:s,name:o,disabled:l,readonly:c,autofocus:d,registry:u,onBlur:m,onFocus:h}){const p=s+"_"+e,{SelectWidget:f}=u.widgets;return(0,n.jsx)(f,{schema:{type:"integer"},id:p,name:o,className:"form-control",options:{enumOptions:(0,i.wl)(t[0],t[1])},placeholder:e,value:r,disabled:l,readonly:c,autofocus:d,onChange:t=>a(e,t),onBlur:m,onFocus:h,registry:u,label:"","aria-describedby":(0,i.eG)(s)})}const me=function({time:e=!1,disabled:t=!1,readonly:r=!1,autofocus:s=!1,options:o,id:l,name:c,registry:d,onBlur:u,onFocus:m,onChange:h,value:p}){const{translateString:f}=d,[y,g]=(0,a.useState)(p),[x,S]=(0,a.useReducer)((e,t)=>({...e,...t}),(0,i.Rm)(p,e));(0,a.useEffect)(()=>{const t=(0,i.HN)(x,e);!function(e){return Object.values(e).every(e=>-1!==e)}(x)||t===p?y!==p&&(g(p),S((0,i.Rm)(p,e))):h(t)},[e,p,h,x,y]);const v=(0,a.useCallback)((e,t)=>{S({[e]:t})},[]),b=(0,a.useCallback)(n=>{if(n.preventDefault(),t||r)return;const a=(0,i.Rm)((new Date).toJSON(),e);h((0,i.HN)(a,e))},[t,r,e]),C=(0,a.useCallback)(e=>{e.preventDefault(),t||r||h(void 0)},[t,r,h]);return(0,n.jsxs)("ul",{className:"list-inline",children:[(0,i.dO)(x,e,o.yearsRange,o.format).map((e,a)=>(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)(ue,{rootId:l,name:c,select:v,...e,disabled:t,readonly:r,registry:d,onBlur:u,onFocus:m,autofocus:s&&0===a})},a)),("undefined"===o.hideNowButton||!o.hideNowButton)&&(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)("a",{href:"#",className:"btn btn-info btn-now",onClick:b,children:f(i.Zl.NowLabel)})}),("undefined"===o.hideClearButton||!o.hideClearButton)&&(0,n.jsx)("li",{className:"list-inline-item",children:(0,n.jsx)("a",{href:"#",className:"btn btn-warning btn-clear",onClick:C,children:f(i.Zl.ClearLabel)})})]})},he=function({time:e=!0,...t}){const{AltDateWidget:r}=t.registry.widgets;return(0,n.jsx)(r,{time:e,...t})},pe=function({schema:e,uiSchema:t,options:r,id:s,value:o,disabled:l,readonly:c,label:d,hideLabel:u,autofocus:m=!1,onBlur:h,onFocus:p,onChange:f,registry:y}){var g;const x=(0,i.$F)("DescriptionFieldTemplate",y,r),S=(0,i.l1)(e),v=(0,a.useCallback)(e=>f(e.target.checked),[f]),b=(0,a.useCallback)(e=>h(s,e.target.checked),[h,s]),C=(0,a.useCallback)(e=>p(s,e.target.checked),[p,s]),F=null!==(g=r.description)&&void 0!==g?g:e.description;return(0,n.jsxs)("div",{className:"checkbox "+(l||c?"disabled":""),children:[!u&&!!F&&(0,n.jsx)(x,{id:(0,i.IR)(s),description:F,schema:e,uiSchema:t,registry:y}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{type:"checkbox",id:s,name:s,checked:void 0!==o&&o,required:S,disabled:l||c,autoFocus:m,onChange:v,onBlur:b,onFocus:C,"aria-describedby":(0,i.eG)(s)}),(0,i.w)((0,n.jsx)("span",{children:d}),u)]})]})},fe=function({id:e,disabled:t,options:{inline:r=!1,enumOptions:s,enumDisabled:o,emptyValue:l},value:c,autofocus:d=!1,readonly:u,onChange:m,onBlur:h,onFocus:p}){const f=Array.isArray(c)?c:[c],y=(0,a.useCallback)(({target:t})=>h(e,(0,i.Od)(t&&t.value,s,l)),[h,e]),g=(0,a.useCallback)(({target:t})=>p(e,(0,i.Od)(t&&t.value,s,l)),[p,e]);return(0,n.jsx)("div",{className:"checkboxes",id:e,children:Array.isArray(s)&&s.map((a,l)=>{const c=(0,i.BH)(a.value,f),h=Array.isArray(o)&&-1!==o.indexOf(a.value),p=t||h||u?"disabled":"",x=(0,n.jsxs)("span",{children:[(0,n.jsx)("input",{type:"checkbox",id:(0,i.pk)(e,l),name:e,checked:c,value:String(l),disabled:t||h||u,autoFocus:d&&0===l,onChange:e=>{e.target.checked?m((0,i.L4)(l,f,s)):m((0,i.Uw)(l,f,s))},onBlur:y,onFocus:g,"aria-describedby":(0,i.eG)(e)}),(0,n.jsx)("span",{children:a.label})]});return r?(0,n.jsx)("label",{className:`checkbox-inline ${p}`,children:x},l):(0,n.jsx)("div",{className:`checkbox ${p}`,children:(0,n.jsx)("label",{children:x})},l)})})};function ye(e){const{disabled:t,readonly:r,options:a,registry:s}=e,o=(0,i.$F)("BaseInputTemplate",s,a);return(0,n.jsx)(o,{type:"color",...e,disabled:t||r})}function ge(e){const{onChange:t,options:r,registry:s}=e,o=(0,i.$F)("BaseInputTemplate",s,r),l=(0,a.useCallback)(e=>t(e||void 0),[t]);return(0,n.jsx)(o,{type:"date",...e,onChange:l})}function xe(e){const{onChange:t,value:r,options:a,registry:s}=e,o=(0,i.$F)("BaseInputTemplate",s,a);return(0,n.jsx)(o,{type:"datetime-local",...e,value:(0,i.v4)(r),onChange:e=>t((0,i.z$)(e))})}function Se(e){const{options:t,registry:r}=e,a=(0,i.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(a,{type:"email",...e})}function ve(e,t){return null===e?null:e.replace(";base64",`;name=${encodeURIComponent(t)};base64`)}function be(e){const{name:t,size:r,type:n}=e;return new Promise((a,i)=>{const s=new window.FileReader;s.onerror=i,s.onload=e=>{var i;"string"==typeof(null===(i=e.target)||void 0===i?void 0:i.result)?a({dataURL:ve(e.target.result,t),name:t,size:r,type:n}):a({dataURL:null,name:t,size:r,type:n})},s.readAsDataURL(e)})}function Ce({fileInfo:e,registry:t}){const{translateString:r}=t,{dataURL:a,type:s,name:o}=e;return a?["image/jpeg","image/png"].includes(s)?(0,n.jsx)("img",{src:a,style:{maxWidth:"100%"},className:"file-preview"}):(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)("a",{download:`preview-${o}`,href:a,className:"file-download",children:r(i.Zl.PreviewLabel)})]}):null}function Fe({filesInfo:e,registry:t,preview:r,onRemove:a,options:s}){if(0===e.length)return null;const{translateString:o}=t,{RemoveButton:l}=(0,i.$F)("ButtonTemplates",t,s);return(0,n.jsx)("ul",{className:"file-info",children:e.map((e,s)=>{const{name:c,size:d,type:u}=e;return(0,n.jsxs)("li",{children:[(0,n.jsx)(B.Ay,{children:o(i.Zl.FilesInfo,[c,u,String(d)])}),r&&(0,n.jsx)(Ce,{fileInfo:e,registry:t}),(0,n.jsx)(l,{onClick:()=>a(s),registry:t})]},s)})})}const ke=function(e){const{disabled:t,readonly:r,required:s,multiple:o,onChange:l,value:c,options:d,registry:u}=e,m=(0,i.$F)("BaseInputTemplate",u,d),h=(0,a.useCallback)(e=>{var t;e.target.files&&(t=e.target.files,Promise.all(Array.from(t).map(be))).then(e=>{const t=e.map(e=>e.dataURL);l(o?c.concat(t[0]):t[0])})},[o,c,l]),p=(0,a.useMemo)(()=>(Array.isArray(c)?c:[c]).reduce((e,t)=>{if(!t)return e;try{const{blob:r,name:n}=(0,i.zM)(t);return[...e,{dataURL:t,name:n,size:r.size,type:r.type}]}catch(t){return e}},[]),[c]),f=(0,a.useCallback)(e=>{if(o){const t=c.filter((t,r)=>r!==e);l(t)}else l(void 0)},[o,c,l]);return(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{...e,disabled:t||r,type:"file",required:!c&&s,onChangeOverride:h,value:"",accept:d.accept?String(d.accept):void 0}),(0,n.jsx)(Fe,{filesInfo:p,onRemove:f,registry:u,preview:d.filePreview,options:d})]})},je=function({id:e,value:t}){return(0,n.jsx)("input",{type:"hidden",id:e,name:e,value:void 0===t?"":t})};function De(e){const{options:t,registry:r}=e,a=(0,i.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(a,{type:"password",...e})}const Ae=function({options:e,value:t,required:r,disabled:s,readonly:o,autofocus:l=!1,onBlur:c,onFocus:d,onChange:u,id:m}){const{enumOptions:h,enumDisabled:p,inline:f,emptyValue:y}=e,g=(0,a.useCallback)(({target:e})=>c(m,(0,i.Od)(e&&e.value,h,y)),[c,m]),x=(0,a.useCallback)(({target:e})=>d(m,(0,i.Od)(e&&e.value,h,y)),[d,m]);return(0,n.jsx)("div",{className:"field-radio-group",id:m,children:Array.isArray(h)&&h.map((e,a)=>{const c=(0,i.BH)(e.value,t),d=Array.isArray(p)&&-1!==p.indexOf(e.value),h=s||d||o?"disabled":"",y=(0,n.jsxs)("span",{children:[(0,n.jsx)("input",{type:"radio",id:(0,i.pk)(m,a),checked:c,name:m,required:r,value:String(a),disabled:s||d||o,autoFocus:l&&0===a,onChange:()=>u(e.value),onBlur:g,onFocus:x,"aria-describedby":(0,i.eG)(m)}),(0,n.jsx)("span",{children:e.label})]});return f?(0,n.jsx)("label",{className:`radio-inline ${h}`,children:y},a):(0,n.jsx)("div",{className:`radio ${h}`,children:(0,n.jsx)("label",{children:y})},a)})})};function we(e){const{value:t,registry:{templates:{BaseInputTemplate:r}}}=e;return(0,n.jsxs)("div",{className:"field-range-wrapper",children:[(0,n.jsx)(r,{type:"range",...e}),(0,n.jsx)("span",{className:"range-view",children:t})]})}var $e=r(899703),Ee=r(487581);function Ne(e){const{options:t,registry:r}=e,a=(0,i.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(a,{...e})}function Oe(e){const{onChange:t,options:r,registry:s}=e,o=(0,i.$F)("BaseInputTemplate",s,r),l=(0,a.useCallback)(e=>t(e?`${e}:00`:void 0),[t]);return(0,n.jsx)(o,{type:"time",...e,onChange:l})}function Be(e){const{options:t,registry:r}=e,a=(0,i.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(a,{type:"url",...e})}function Re(e){const{options:t,registry:r}=e,a=(0,i.$F)("BaseInputTemplate",r,t);return(0,n.jsx)(a,{type:"number",...e})}class Ie extends a.Component{constructor(e){if(super(e),this.getUsedFormData=(e,t)=>{if(0===t.length&&"object"!=typeof e)return e;const r=u()(e,t);return Array.isArray(e)?Object.keys(r).map(e=>r[e]):r},this.getFieldNames=(e,t)=>{const r=(e,n=[],a=[[]])=>(Object.keys(e).forEach(s=>{if("object"==typeof e[s]){const t=a.map(e=>[...e,s]);e[s][i.FF]&&""!==e[s][i.oS]?n.push(e[s][i.oS]):r(e[s],n,t)}else s===i.oS&&""!==e[s]&&a.forEach(e=>{const r=o()(t,e);("object"!=typeof r||c()(r)||Array.isArray(r)&&r.every(e=>"object"!=typeof e))&&n.push(e)})}),n);return r(e)},this.omitExtraData=e=>{const{schema:t,schemaUtils:r}=this.state,n=r.retrieveSchema(t,e),a=r.toPathSchema(n,"",e),i=this.getFieldNames(a,e);return this.getUsedFormData(e,i)},this.onChange=(e,t,r)=>{const{extraErrors:n,omitExtraData:a,liveOmit:s,noValidate:o,liveValidate:l,onChange:c}=this.props,{schemaUtils:d,schema:u,retrievedSchema:m}=this.state;((0,i.Gv)(e)||Array.isArray(e))&&(e=this.getStateFromProps(this.props,e,m).formData);const h=!o&&l;let p={formData:e,schema:u},f=e;if(!0===a&&!0===s&&(f=this.omitExtraData(e),p={formData:f}),h){const e=this.validate(f,u,d,m);let t=e.errors,r=e.errorSchema;const a=t,s=r;if(n){const a=(0,i.k6)(e,n);r=a.errorSchema,t=a.errors}p={formData:f,errors:t,errorSchema:r,schemaValidationErrors:a,schemaValidationErrorSchema:s}}else if(!o&&t){const e=n?(0,i.rL)(t,n,"preventDuplicates"):t;p={formData:f,errorSchema:e,errors:(0,i.SL)(e)}}this.setState(p,()=>c&&c({...this.state,...p},r))},this.reset=()=>{const{onChange:e}=this.props,t={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(t,()=>e&&e({...this.state,...t}))},this.onBlur=(e,t)=>{const{onBlur:r}=this.props;r&&r(e,t)},this.onFocus=(e,t)=>{const{onFocus:r}=this.props;r&&r(e,t)},this.onSubmit=e=>{if(e.preventDefault(),e.target!==e.currentTarget)return;e.persist();const{omitExtraData:t,extraErrors:r,noValidate:n,onSubmit:a}=this.props;let{formData:s}=this.state;if(!0===t&&(s=this.omitExtraData(s)),n||this.validateFormWithFormData(s)){const t=r||{},n=r?(0,i.SL)(r):[];this.setState({formData:s,errors:n,errorSchema:t,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{a&&a({...this.state,formData:s,status:"submitted"},e)})}},this.submit=()=>{if(this.formElement.current){const e=new CustomEvent("submit",{cancelable:!0});e.preventDefault(),this.formElement.current.dispatchEvent(e),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=e=>{const{extraErrors:t,extraErrorsBlockSubmit:r,focusOnFirstError:n,onError:a}=this.props,{errors:s}=this.state,o=this.validate(e);let l=o.errors,c=o.errorSchema;const d=l,u=c,m=l.length>0||t&&r;if(m){if(t){const e=(0,i.k6)(o,t);c=e.errorSchema,l=e.errors}n&&("function"==typeof n?n(l[0]):this.focusOnError(l[0])),this.setState({errors:l,errorSchema:c,schemaValidationErrors:d,schemaValidationErrorSchema:u},()=>{a?a(l):console.error("Form validation failed",l)})}else s.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!m},!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!(0,i.c2)(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=(0,a.createRef)()}getSnapshotBeforeUpdate(e,t){if(!(0,i.c2)(this.props,e)){const r=!(0,i.c2)(e.schema,this.props.schema),n=!(0,i.c2)(e.formData,this.props.formData),a=this.getStateFromProps(this.props,this.props.formData,r||n?void 0:this.state.retrievedSchema,r);return{nextState:a,shouldUpdate:!(0,i.c2)(a,t)}}return{shouldUpdate:!1}}componentDidUpdate(e,t,r){if(r.shouldUpdate){const{nextState:e}=r;(0,i.c2)(e.formData,this.props.formData)||(0,i.c2)(e.formData,t.formData)||!this.props.onChange||this.props.onChange(e),this.setState(e)}}getStateFromProps(e,t,r,n=!1){const a=this.state||{},s="schema"in e?e.schema:this.props.schema,o=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},l=void 0!==t,c="liveValidate"in e?e.liveValidate:this.props.liveValidate,d=l&&!e.noValidate&&c,u=s,m="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior;let h=a.schemaUtils;h&&!h.doesSchemaUtilsDiffer(e.validator,u,m)||(h=(0,i.BP)(e.validator,u,m));const p=h.getDefaultFormState(s,t),f=null!=r?r:h.retrieveSchema(s,p);let y,g,x=a.schemaValidationErrors,S=a.schemaValidationErrorSchema;if(d){const e=this.validate(p,s,h,f);y=e.errors,g=e.errorSchema,x=y,S=g}else{const t=e.noValidate||n?{errors:[],errorSchema:{}}:e.liveValidate?{errors:a.errors||[],errorSchema:a.errorSchema||{}}:{errors:a.schemaValidationErrors||[],errorSchema:a.schemaValidationErrorSchema||{}};y=t.errors,g=t.errorSchema}if(e.extraErrors){const t=(0,i.k6)({errorSchema:g,errors:y},e.extraErrors);g=t.errorSchema,y=t.errors}const v=h.toIdSchema(f,o["ui:rootFieldId"],p,e.idPrefix,e.idSeparator);return{schemaUtils:h,schema:s,uiSchema:o,idSchema:v,formData:p,edit:l,errors:y,errorSchema:g,schemaValidationErrors:x,schemaValidationErrorSchema:S,retrievedSchema:f}}shouldComponentUpdate(e,t){return(0,i.F9)(this,e,t)}validate(e,t=this.props.schema,r,n){const a=r||this.state.schemaUtils,{customValidate:i,transformErrors:s,uiSchema:o}=this.props,l=null!=n?n:a.retrieveSchema(t,e);return a.getValidator().validateFormData(e,l,i,s,o)}renderErrors(e){const{errors:t,errorSchema:r,schema:a,uiSchema:s}=this.state,{formContext:o}=this.props,l=(0,i.$R)(s),c=(0,i.$F)("ErrorListTemplate",e,l);return t&&t.length?(0,n.jsx)(c,{errors:t,errorSchema:r||{},schema:a,uiSchema:s,formContext:o,registry:e}):null}getRegistry(){var e;const{translateString:t,uiSchema:r={}}=this.props,{schemaUtils:n}=this.state,{fields:a,templates:s,widgets:o,formContext:l,translateString:c}={fields:{AnyOfField:$,ArrayField:k,BooleanField:j,NumberField:O,ObjectField:q,OneOfField:$,SchemaField:L.A,StringField:M,NullField:_},templates:{ArrayFieldDescriptionTemplate:V,ArrayFieldItemTemplate:W,ArrayFieldTemplate:Z,ArrayFieldTitleTemplate:z,ButtonTemplates:{SubmitButton:H,AddButton:ee,CopyButton:X,MoveDownButton:J,MoveUpButton:Q,RemoveButton:Y},BaseInputTemplate:K,DescriptionFieldTemplate:te,ErrorListTemplate:re,FieldTemplate:ae,FieldErrorTemplate:ie,FieldHelpTemplate:se,ObjectFieldTemplate:oe,TitleFieldTemplate:le,UnsupportedFieldTemplate:ce,WrapIfAdditionalTemplate:de},widgets:{AltDateWidget:me,AltDateTimeWidget:he,CheckboxWidget:pe,CheckboxesWidget:fe,ColorWidget:ye,DateWidget:ge,DateTimeWidget:xe,EmailWidget:Se,FileWidget:ke,HiddenWidget:je,PasswordWidget:De,RadioWidget:Ae,RangeWidget:we,SelectWidget:$e.A,TextWidget:Ne,TextareaWidget:Ee.A,TimeWidget:Oe,UpDownWidget:Re,URLWidget:Be},rootSchema:{},formContext:{},translateString:i.qe};return{fields:{...a,...this.props.fields},templates:{...s,...this.props.templates,ButtonTemplates:{...s.ButtonTemplates,...null===(e=this.props.templates)||void 0===e?void 0:e.ButtonTemplates}},widgets:{...o,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||l,schemaUtils:n,translateString:t||c,globalUiOptions:r[i.AK]}}focusOnError(e){const{idPrefix:t="root",idSeparator:r="_"}=this.props,{property:n}=e,a=h()(n);""===a[0]?a[0]=t:a.unshift(t);const i=a.join(r);let s=this.formElement.current.elements[i];s||(s=this.formElement.current.querySelector(`input[id^=${i}`)),s&&s.length&&(s=s[0]),s&&s.focus()}validateForm(){const{omitExtraData:e}=this.props;let{formData:t}=this.state;return!0===e&&(t=this.omitExtraData(t)),this.validateFormWithFormData(t)}render(){const{children:e,id:t,idPrefix:r,idSeparator:a,className:s="",tagName:o,name:l,method:c,target:d,action:u,autoComplete:m,enctype:h,acceptcharset:p,acceptCharset:f,noHtml5Validate:y=!1,disabled:g,readonly:x,formContext:S,showErrorList:v="top",_internalFormWrapper:b}=this.props,{schema:C,uiSchema:F,formData:k,errorSchema:j,idSchema:D}=this.state,A=this.getRegistry(),{SchemaField:w}=A.fields,{SubmitButton:$}=A.templates.ButtonTemplates,E=b?o:void 0,N=b||o||"form";let{[i.xh]:O={}}=(0,i.$R)(F);g&&(O={...O,props:{...O.props,disabled:!0}});const B={[i.ce]:{[i.xh]:O}};return(0,n.jsxs)(N,{className:s||"rjsf",id:t,name:l,method:c,target:d,action:u,autoComplete:m,encType:h,acceptCharset:f||p,noValidate:y,onSubmit:this.onSubmit,as:E,ref:this.formElement,children:["top"===v&&this.renderErrors(A),(0,n.jsx)(w,{name:"",schema:C,uiSchema:F,errorSchema:j,idSchema:D,idPrefix:r,idSeparator:a,formContext:S,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:A,disabled:g,readonly:x}),e||(0,n.jsx)($,{uiSchema:B,registry:A}),"bottom"===v&&this.renderErrors(A)]})}}const Te=Ie},636841:(e,t,r)=>{r.d(t,{Ay:()=>Nt});var n=r(273517);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const i=["children","options"],s="0",o="1",l="2",c="3",d="4",u="5",m="6",h="7",p="8",f="9",y="10",g="11",x="12",S="13",v="14",b="15",C="16",F="17",k="18",j="19",D="20",A="21",w="22",$="23",E="24",N="25",O="27",B="28",R="29",I="30",T="31",U="32",P="33";var q,L;(L=q||(q={}))[L.MAX=0]="MAX",L[L.HIGH=1]="HIGH",L[L.MED=2]="MED",L[L.LOW=3]="LOW",L[L.MIN=4]="MIN";const M=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),_={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},V=["style","script"],W=["src","href","data","formAction","srcDoc","action"],Z=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,z=/mailto:/i,K=/\n{2,}$/,H=/^(\s*>[\s\S]*?)(?=\n\n|$)/,G=/^ *> ?/gm,X=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,J=/^ {2,}\n/,Q=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,Y=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,ee=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,te=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,re=/^(?:\n *)*\n/,ne=/\r\n?/g,ae=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,ie=/^\[\^([^\]]+)]/,se=/\f/g,oe=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,le=/^\s*?\[(x|\s)\]/,ce=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,de=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,ue=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,me=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,he=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,pe=/^<!--[\s\S]*?(?:-->)/,fe=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,ye=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,ge=/^\{.*\}$/,xe=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Se=/^<([^ >]+@[^ >]+)>/,ve=/^<([^ >]+:\/[^ >]+)>/,be=/-([a-z])?/gi,Ce=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Fe=/^[^\n]+(?:  \n|\n{2,})/,ke=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,je=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,De=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Ae=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,we=/\t/g,$e=/(^ *\||\| *$)/g,Ee=/^ *:-+: *$/,Ne=/^ *:-+ *$/,Oe=/^ *-+: *$/,Be="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Re=new RegExp(`^([*_])\\1${Be}\\1\\1(?!\\1)`),Ie=new RegExp(`^([*_])${Be}\\1(?!\\1)`),Te=new RegExp(`^(==)${Be}\\1`),Ue=new RegExp(`^(~~)${Be}\\1`),Pe=/^\\([^0-9A-Za-z\s])/,qe=/\\([^0-9A-Za-z\s])/g,Le=/^(?: |[\s\S](?:(?!  |[0-9]\.)[^=*_~\-\n<`\\\[! ])*)/,Me=/^\n+/,_e=/^([ \t]*)/,Ve=/\\([^\\])/g,We=/(?:^|\n)( *)$/,Ze="(?:\\d+\\.)",ze="(?:[*+-])";function Ke(e){return"( *)("+(1===e?Ze:ze)+") +"}const He=Ke(1),Ge=Ke(2);function Xe(e){return new RegExp("^"+(1===e?He:Ge))}const Je=Xe(1),Qe=Xe(2);function Ye(e){return new RegExp("^"+(1===e?He:Ge)+"[^\\n]*(?:\\n(?!\\1"+(1===e?Ze:ze)+" )[^\\n]*)*(\\n|$)","gm")}const et=Ye(1),tt=Ye(2);function rt(e){const t=1===e?Ze:ze;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const nt=rt(1),at=rt(2);function it(e,t){const r=1===t,n=r?nt:at,a=r?et:tt,i=r?Je:Qe;return{match:pt(function(e,t){const r=We.exec(t.prevCapture);return r&&(t.list||!t.inline&&!t.simple)?n.exec(e=r[1]+e):null}),order:1,parse(e,t,n){const s=r?+e[2]:void 0,o=e[0].replace(K,"\n").match(a);let l=!1;return{items:o.map(function(e,r){const a=i.exec(e)[0].length,s=new RegExp("^ {1,"+a+"}","gm"),c=e.replace(s,"").replace(i,""),d=r===o.length-1,u=-1!==c.indexOf("\n\n")||d&&l;l=u;const m=n.inline,h=n.list;let p;n.list=!0,u?(n.inline=!1,p=lt(c)+"\n\n"):(n.inline=!0,p=lt(c));const f=t(p,n);return n.inline=m,n.list=h,f}),ordered:r,start:s}},render:(t,r,n)=>e(t.ordered?"ol":"ul",{key:n.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,a){return e("li",{key:a},r(t,n))}))}}const st=new RegExp("^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),ot=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function lt(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function ct(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function dt(e){return Oe.test(e)?"right":Ee.test(e)?"center":Ne.test(e)?"left":null}function ut(e,t,r,n){const a=r.inTable;r.inTable=!0;let i=[[]],s="";function o(){if(!s)return;const e=i[i.length-1];e.push.apply(e,t(s,r)),s=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,r)=>{"|"===e.trim()&&(o(),n)?0!==t&&t!==r.length-1&&i.push([]):s+=e}),o(),r.inTable=a,i}function mt(e,t,r){r.inline=!0;const n=e[2]?e[2].replace($e,"").split("|").map(dt):[],a=e[3]?function(e,t,r){return e.trim().split("\n").map(function(e){return ut(e,t,r,!0)})}(e[3],t,r):[],i=ut(e[1],t,r,!!a.length);return r.inline=!1,a.length?{align:n,cells:a,header:i,type:"25"}:{children:i,type:"21"}}function ht(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function pt(e){return e.inline=1,e}function ft(e){return pt(function(t,r){return r.inline?e.exec(t):null})}function yt(e){return pt(function(t,r){return r.inline||r.simple?e.exec(t):null})}function gt(e){return function(t,r){return r.inline||r.simple?null:e.exec(t)}}function xt(e){return pt(function(t){return e.exec(t)})}const St=/(javascript|vbscript|data(?!:image)):/i;function vt(e){try{const t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(St.test(t))return null}catch(e){return null}return e}function bt(e){return e.replace(Ve,"$1")}function Ct(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!0,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function Ft(e,t,r){const n=r.inline||!1,a=r.simple||!1;r.inline=!1,r.simple=!0;const i=e(t,r);return r.inline=n,r.simple=a,i}function kt(e,t,r){const n=r.inline||!1;r.inline=!1;const a=e(t,r);return r.inline=n,a}const jt=(e,t,r)=>({children:Ct(t,e[2],r)});function Dt(){return{}}function At(){return null}function wt(...e){return e.filter(Boolean).join(" ")}function $t(e,t,r){let n=e;const a=t.split(".");for(;a.length&&(n=n[a[0]],void 0!==n);)a.shift();return n||r}function Et(e="",t={}){t.overrides=t.overrides||{},t.sanitizer=t.sanitizer||vt,t.slugify=t.slugify||ct,t.namedCodesToUnicode=t.namedCodesToUnicode?a({},_,t.namedCodesToUnicode):_,t.createElement=t.createElement||n.createElement;const r=[H,Y,ee,t.enforceAtxHeadings?de:ce,ue,Ce,nt,at],i=[...r,Fe,me,pe,ye];function q(e,r,...n){const i=$t(t.overrides,`${e}.props`,{});return t.createElement(function(e,t){const r=$t(t,e);return r?"function"==typeof r||"object"==typeof r&&"render"in r?r:$t(t,`${e}.component`,e):e}(e,t.overrides),a({},r,i,{className:wt(null==r?void 0:r.className,i.className)||void 0}),...n)}function L(e){e=e.replace(oe,"");let r=!1;t.forceInline?r=!0:t.forceBlock||(r=!1===Ae.test(e));const n=Be(Oe(r?e:`${lt(e).replace(Me,"")}\n\n`,{inline:r}));for(;"string"==typeof n[n.length-1]&&!n[n.length-1].trim();)n.pop();if(null===t.wrapper)return n;const a=t.wrapper||(r?"span":"div");let i;if(n.length>1||t.forceWrapper)i=n;else{if(1===n.length)return i=n[0],"string"==typeof i?q("span",{key:"outer"},i):i;i=null}return t.createElement(a,{key:"outer"},i)}function K(e,r){const n=r.match(Z);return n?n.reduce(function(r,n){const a=n.indexOf("=");if(-1!==a){const i=function(e){return-1!==e.indexOf("-")&&null===e.match(fe)&&(e=e.replace(be,function(e,t){return t.toUpperCase()})),e}(n.slice(0,a)).trim(),s=function(e){const t=e[0];return('"'===t||"'"===t)&&e.length>=2&&e[e.length-1]===t?e.slice(1,-1):e}(n.slice(a+1).trim()),o=M[i]||i;if("ref"===o)return r;const l=r[o]=function(e,t,r,n){return"style"===t?function(e){const t=[];let r="",n=!1,a=!1,i="";if(!e)return t;for(let s=0;s<e.length;s++){const o=e[s];if('"'!==o&&"'"!==o||n||(a?o===i&&(a=!1,i=""):(a=!0,i=o)),"("===o&&r.endsWith("url")?n=!0:")"===o&&n&&(n=!1),";"!==o||a||n)r+=o;else{const e=r.trim();if(e){const r=e.indexOf(":");if(r>0){const n=e.slice(0,r).trim(),a=e.slice(r+1).trim();t.push([n,a])}}r=""}}const s=r.trim();if(s){const e=s.indexOf(":");if(e>0){const r=s.slice(0,e).trim(),n=s.slice(e+1).trim();t.push([r,n])}}return t}(r).reduce(function(t,[r,a]){return t[r.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=n(a,e,r),t},{}):-1!==W.indexOf(t)?n(r,e,t):(r.match(ge)&&(r=r.slice(1,r.length-1)),"true"===r||"false"!==r&&r)}(e,i,s,t.sanitizer);"string"==typeof l&&(me.test(l)||ye.test(l))&&(r[o]=L(l.trim()))}else"style"!==n&&(r[M[n]||n]=!0);return r},{}):null}const $e=[],Ee={},Ne={[s]:{match:gt(H),order:1,parse(e,t,r){const[,n,a]=e[0].replace(G,"").match(X);return{alert:n,children:t(a,r)}},render(e,r,n){const a={key:n.key};return e.alert&&(a.className="markdown-alert-"+t.slugify(e.alert.toLowerCase(),ct),e.children.unshift({attrs:{},children:[{type:O,text:e.alert}],noInnerParse:!0,type:g,tag:"header"})),q("blockquote",a,r(e.children,n))}},[o]:{match:xt(J),order:1,parse:Dt,render:(e,t,r)=>q("br",{key:r.key})},[l]:{match:gt(Q),order:1,parse:Dt,render:(e,t,r)=>q("hr",{key:r.key})},[c]:{match:gt(ee),order:0,parse:e=>({lang:void 0,text:lt(e[0].replace(/^ {4}/gm,"")).replace(qe,"$1")}),render:(e,t,r)=>q("pre",{key:r.key},q("code",a({},e.attrs,{className:e.lang?`lang-${e.lang}`:""}),e.text))},[d]:{match:gt(Y),order:0,parse:e=>({attrs:K("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},[u]:{match:yt(te),order:3,parse:e=>({text:e[2].replace(qe,"$1")}),render:(e,t,r)=>q("code",{key:r.key},e.text)},[m]:{match:gt(ae),order:0,parse:e=>($e.push({footnote:e[2],identifier:e[1]}),{}),render:At},[h]:{match:ft(ie),order:1,parse:e=>({target:`#${t.slugify(e[1],ct)}`,text:e[1]}),render:(e,r,n)=>q("a",{key:n.key,href:t.sanitizer(e.target,"a","href")},q("sup",{key:n.key},e.text))},[p]:{match:ft(le),order:1,parse:e=>({completed:"x"===e[1].toLowerCase()}),render:(e,t,r)=>q("input",{checked:e.completed,key:r.key,readOnly:!0,type:"checkbox"})},[f]:{match:gt(t.enforceAtxHeadings?de:ce),order:1,parse:(e,r,n)=>({children:Ct(r,e[2],n),id:t.slugify(e[2],ct),level:e[1].length}),render:(e,t,r)=>q(`h${e.level}`,{id:e.id,key:r.key},t(e.children,r))},[y]:{match:gt(ue),order:0,parse:(e,t,r)=>({children:Ct(t,e[1],r),level:"="===e[2]?1:2,type:"9"})},[g]:{match:xt(me),order:1,parse(e,t,r){const[,n]=e[3].match(_e),a=new RegExp(`^${n}`,"gm"),s=e[3].replace(a,""),o=(l=s,i.some(e=>e.test(l))?kt:Ct);var l;const c=e[1].toLowerCase(),d=-1!==V.indexOf(c),u=(d?c:e[1]).trim(),m={attrs:K(u,e[2]),noInnerParse:d,tag:u};return r.inAnchor=r.inAnchor||"a"===c,d?m.text=e[3]:m.children=o(t,s,r),r.inAnchor=!1,m},render:(e,t,r)=>q(e.tag,a({key:r.key},e.attrs),e.text||(e.children?t(e.children,r):""))},[S]:{match:xt(ye),order:1,parse(e){const t=e[1].trim();return{attrs:K(t,e[2]||""),tag:t}},render:(e,t,r)=>q(e.tag,a({},e.attrs,{key:r.key}))},[x]:{match:xt(pe),order:1,parse:()=>({}),render:At},[v]:{match:yt(ot),order:1,parse:e=>({alt:e[1],target:bt(e[2]),title:e[3]}),render:(e,r,n)=>q("img",{key:n.key,alt:e.alt||void 0,title:e.title||void 0,src:t.sanitizer(e.target,"img","src")})},[b]:{match:ft(st),order:3,parse:(e,t,r)=>({children:Ft(t,e[1],r),target:bt(e[2]),title:e[3]}),render:(e,r,n)=>q("a",{key:n.key,href:t.sanitizer(e.target,"a","href"),title:e.title},r(e.children,n))},[C]:{match:ft(ve),order:0,parse:e=>({children:[{text:e[1],type:O}],target:e[1],type:b})},[F]:{match:pt((e,r)=>r.inAnchor||t.disableAutoLink?null:ft(xe)(e,r)),order:0,parse:e=>({children:[{text:e[1],type:O}],target:e[1],title:void 0,type:b})},[k]:{match:ft(Se),order:0,parse(e){let t=e[1],r=e[1];return z.test(r)||(r="mailto:"+r),{children:[{text:t.replace("mailto:",""),type:O}],target:r,type:b}}},[D]:it(q,1),[P]:it(q,2),[j]:{match:gt(re),order:3,parse:Dt,render:()=>"\n"},[A]:{match:pt(function(e,t){if(t.inline||t.simple)return null;let n="";e.split("\n").every(e=>(e+="\n",!r.some(t=>t.test(e))&&(n+=e,!!e.trim())));const a=lt(n);return""==a?null:[n,,a]}),order:3,parse:jt,render:(e,t,r)=>q("p",{key:r.key},t(e.children,r))},[w]:{match:ft(ke),order:0,parse:e=>(Ee[e[1]]={target:e[2],title:e[4]},{}),render:At},[$]:{match:yt(je),order:0,parse:e=>({alt:e[1]||void 0,ref:e[2]}),render:(e,r,n)=>Ee[e.ref]?q("img",{key:n.key,alt:e.alt,src:t.sanitizer(Ee[e.ref].target,"img","src"),title:Ee[e.ref].title}):null},[E]:{match:ft(De),order:0,parse:(e,t,r)=>({children:t(e[1],r),fallbackChildren:e[0],ref:e[2]}),render:(e,r,n)=>Ee[e.ref]?q("a",{key:n.key,href:t.sanitizer(Ee[e.ref].target,"a","href"),title:Ee[e.ref].title},r(e.children,n)):q("span",{key:n.key},e.fallbackChildren)},[N]:{match:gt(Ce),order:1,parse:mt,render(e,t,r){const n=e;return q("table",{key:r.key},q("thead",null,q("tr",null,n.header.map(function(e,a){return q("th",{key:a,style:ht(n,a)},t(e,r))}))),q("tbody",null,n.cells.map(function(e,a){return q("tr",{key:a},e.map(function(e,a){return q("td",{key:a,style:ht(n,a)},t(e,r))}))})))}},[O]:{match:xt(Le),order:4,parse:e=>({text:e[0].replace(he,(e,r)=>t.namedCodesToUnicode[r]?t.namedCodesToUnicode[r]:e)}),render:e=>e.text},[B]:{match:yt(Re),order:2,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>q("strong",{key:r.key},t(e.children,r))},[R]:{match:yt(Ie),order:3,parse:(e,t,r)=>({children:t(e[2],r)}),render:(e,t,r)=>q("em",{key:r.key},t(e.children,r))},[I]:{match:yt(Pe),order:1,parse:e=>({text:e[1],type:O})},[T]:{match:yt(Te),order:3,parse:jt,render:(e,t,r)=>q("mark",{key:r.key},t(e.children,r))},[U]:{match:yt(Ue),order:3,parse:jt,render:(e,t,r)=>q("del",{key:r.key},t(e.children,r))}};!0===t.disableParsingRawHTML&&(delete Ne[g],delete Ne[13]);const Oe=function(e){let t=Object.keys(e);function r(n,a){let i,s,o=[],l="",c="";for(a.prevCapture=a.prevCapture||"";n;){let d=0;for(;d<t.length;){if(l=t[d],i=e[l],a.inline&&!i.match.inline){d++;continue}const u=i.match(n,a);if(u){c=u[0],a.prevCapture+=c,n=n.substring(c.length),s=i.parse(u,r,a),null==s.type&&(s.type=l),o.push(s);break}d++}}return a.prevCapture="",o}return t.sort(function(t,r){let n=e[t].order,a=e[r].order;return n!==a?n-a:t<r?-1:1}),function(e,t){return r(function(e){return e.replace(ne,"\n").replace(se,"").replace(we,"    ")}(e),t)}}(Ne),Be=(Ve=function(e,t){return function(r,n,a){const i=e[r.type].render;return t?t(()=>i(r,n,a),r,n,a):i(r,n,a)}}(Ne,t.renderRule),function e(t,r={}){if(Array.isArray(t)){const n=r.key,a=[];let i=!1;for(let n=0;n<t.length;n++){r.key=n;const s=e(t[n],r),o="string"==typeof s;o&&i?a[a.length-1]+=s:null!==s&&a.push(s),i=o}return r.key=n,a}return Ve(t,e,r)});var Ve;const We=L(e);return $e.length?q("div",null,We,q("footer",{key:"footer"},$e.map(function(e){return q("div",{id:t.slugify(e.identifier,ct),key:e.identifier},e.identifier,Be(Oe(e.footnote,{inline:!0})))}))):We}const Nt=e=>{let{children:t="",options:r}=e,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(a[r]=e[r]);return a}(e,i);return n.cloneElement(Et(t,r),a)}}}]);